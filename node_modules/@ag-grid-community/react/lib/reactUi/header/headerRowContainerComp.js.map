{"version":3,"sources":["reactUi/header/headerRowContainerComp.tsx"],"names":[],"mappings":"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","file":"headerRowContainerComp.js","sourcesContent":["import React, { memo, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { BeansContext } from '../beansContext';\nimport {\n    IHeaderRowContainerComp, HeaderRowCtrl, HeaderRowContainerCtrl, Constants\n} from '@ag-grid-community/core';\nimport { CssClasses } from '../utils';\nimport HeaderRowComp from './headerRowComp';\n\n\nconst HeaderRowContainerComp = (props: {pinned: string | null}) => {\n\n    const [cssClasses, setCssClasses] = useState<CssClasses>(new CssClasses());\n    const [centerContainerWidth, setCenterContainerWidth] = useState<string>();\n    const [centerContainerTransform, setCenterContainerTransform] = useState<string>();\n    const [pinnedContainerWidth, setPinnedContainerWidth] = useState<string>();\n    const [headerRowCtrls, setHeaderRowCtrls] = useState<HeaderRowCtrl[]>([]);\n\n    const {context} = useContext(BeansContext);\n    const eGui = useRef<HTMLDivElement>(null);\n\n    const pinnedLeft = props.pinned === Constants.PINNED_LEFT;\n    const pinnedRight = props.pinned === Constants.PINNED_RIGHT;\n    const centre = !pinnedLeft && !pinnedRight;\n\n    useEffect(() => {\n\n        const compProxy: IHeaderRowContainerComp = {\n            addOrRemoveCssClass: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n            setCtrls: ctrls => setHeaderRowCtrls(ctrls),\n\n            // centre only\n            setCenterWidth: width => setCenterContainerWidth(width),\n            setContainerTransform: transform => setCenterContainerTransform(transform),\n\n            // pinned only\n            setPinnedContainerWidth: width => setPinnedContainerWidth(width)\n        };\n\n        const ctrl = context.createBean(new HeaderRowContainerCtrl(props.pinned));\n        ctrl.setComp(compProxy, eGui.current!);\n\n        return () => {\n            context.destroyBean(ctrl);\n        };\n\n    }, []);\n\n    const className = useMemo( ()=> cssClasses.toString(), [cssClasses]);\n\n    const insertRowsJsx = ()=> headerRowCtrls.map( ctrl => <HeaderRowComp ctrl={ctrl} key={ctrl.getInstanceId()} /> );\n\n    const eCenterContainerStyle = useMemo( ()=> ({\n        width: centerContainerWidth,\n        transform: centerContainerTransform\n    }), [centerContainerWidth, centerContainerTransform]);\n\n    const ePinnedStyle = useMemo( ()=> ({\n        width: pinnedContainerWidth,\n        minWidth: pinnedContainerWidth,\n        maxWidth: pinnedContainerWidth,\n    }), [pinnedContainerWidth]);\n\n    return (\n        <>\n            { \n                pinnedLeft && \n                <div ref={eGui} className={\"ag-pinned-left-header \" + className} role=\"presentation\" style={ePinnedStyle}>\n                    { insertRowsJsx() }\n                </div>\n            }\n            { \n                pinnedRight && \n                <div ref={eGui} className={\"ag-pinned-right-header \" + className} role=\"presentation\" style={ePinnedStyle}>\n                { insertRowsJsx() }\n            </div>\n            }\n            { \n                centre && \n                <div ref={eGui} className={\"ag-header-viewport \" + className} role=\"presentation\">\n                    <div className={\"ag-header-container\"} role=\"rowgroup\" style={eCenterContainerStyle}>\n                        { insertRowsJsx() }\n                    </div>\n                </div>\n            }\n        </>\n    );\n};\n\nexport default memo(HeaderRowContainerComp);\n"]}