{"version":3,"sources":["../../src/ts/columns/columnKeyCreator.ts"],"names":[],"mappings":";;;;;;;AAAA,wGAAwG;AACxG,kFAAkF;AAClF,6EAA6E;AAC7E,gFAAgF;;AAEhF,4CAAkD;AAElD;IAAA;QAEY,iBAAY,GAA6B,EAAE,CAAC;IAuCxD,CAAC;IArCU,0CAAe,GAAtB,UAAuB,IAAc;QACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SACrC;IACL,CAAC;IAEM,uCAAY,GAAnB,UAAoB,KAAqB,EAAE,QAAwB;QAC/D,6DAA6D;QAC7D,KAAK,GAAG,wBAAc,CAAC,KAAK,CAAC,CAAC;QAE9B,IAAI,KAAK,GAAG,CAAC,CAAC;QAEd,OAAO,IAAI,EAAE;YACT,IAAI,OAAO,SAAQ,CAAC;YACpB,IAAI,KAAK,EAAE;gBACP,OAAO,GAAG,KAAK,CAAC;gBAChB,IAAI,KAAK,KAAK,CAAC,EAAE;oBACb,OAAO,IAAI,GAAG,GAAG,KAAK,CAAC;iBAC1B;aACJ;iBAAM,IAAI,QAAQ,EAAE;gBACjB,OAAO,GAAG,QAAQ,CAAC;gBACnB,IAAI,KAAK,KAAK,CAAC,EAAE;oBACb,OAAO,IAAI,GAAG,GAAG,KAAK,CAAC;iBAC1B;aACJ;iBAAM;gBACH,OAAO,GAAG,EAAE,GAAG,KAAK,CAAC;aACxB;YAED,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;gBAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;gBAClC,OAAO,OAAO,CAAC;aAClB;YAED,KAAK,EAAE,CAAC;SACX;IACL,CAAC;IAEL,uBAAC;AAAD,CAzCA,AAyCC,IAAA;AAzCY,4CAAgB","file":"columnKeyCreator.js","sourcesContent":["// class returns a unique id to use for the column. it checks the existing columns, and if the requested\n// id is already taken, it will start appending numbers until it gets a unique id.\n// eg, if the col field is 'name', it will try ids: {name, name_1, name_2...}\n// if no field or id provided in the col, it will try the ids of natural numbers\n\nimport { toStringOrNull } from \"../utils/generic\";\n\nexport class ColumnKeyCreator {\n\n    private existingKeys: {[key: string]: boolean} = {};\n\n    public addExistingKeys(keys: string[]): void {\n        for (let i = 0; i < keys.length; i++) {\n            this.existingKeys[keys[i]] = true;\n        }\n    }\n\n    public getUniqueKey(colId?: string | null, colField?: string | null): string {\n        // in case user passed in number for colId, convert to string\n        colId = toStringOrNull(colId);\n\n        let count = 0;\n\n        while (true) {\n            let idToTry: string;\n            if (colId) {\n                idToTry = colId;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            } else if (colField) {\n                idToTry = colField;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            } else {\n                idToTry = '' + count;\n            }\n\n            if (!this.existingKeys[idToTry]) {\n                this.existingKeys[idToTry] = true;\n                return idToTry;\n            }\n\n            count++;\n        }\n    }\n\n}"]}