{"version":3,"sources":["../../src/ts/entities/sideBar.ts"],"names":[],"mappings":"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","file":"sideBar.js","sourcesContent":["import { IToolPanelComp } from \"../interfaces/iToolPanel\";\n\nexport interface ToolPanelDef {\n    /** The unique ID for this panel. Used in the API and elsewhere to refer to the panel. */\n    id: string;\n    /** The key used for [localisation](/localisation/) for displaying the label. The label is displayed in the tab button. */\n    labelKey: string;\n    /** The default label if `labelKey` is missing or does not map to valid text through localisation. */\n    labelDefault: string;\n    /** The min width of the tool panel. Default: `100` */\n    minWidth?: number;\n    /** The max width of the tool panel. Default: `undefined` */\n    maxWidth?: number;\n    /** The initial width of the tool panel. Default: `$side-bar-panel-width (theme variable)` */\n    width?: number;\n    /** The [key of the icon](/custom-icons/) to be used as a graphical aid beside the label in the side bar. */\n    iconKey: string;\n\n    /**\n     * The tool panel component to use as the panel.\n     * The provided panels use components `agColumnsToolPanel` and `agFiltersToolPanel`.\n     * To provide your own custom panel component, you reference it by name here.\n     */\n    toolPanel?: { new(): IToolPanelComp } | string;\n    /** Same as `toolPanel` but for framework specific components. */\n    toolPanelFramework?: any;\n    /** Customise the parameters provided to the `toolPanel` component. */\n    toolPanelParams?: any;\n}\n\nexport interface SideBarDef {\n    /**\n     * A list of all the panels to place in the side bar. The panels will be displayed in the provided order from top to bottom.\n     */\n    toolPanels?: (ToolPanelDef | string)[];\n    /** The panel (identified by ID) to open by default. If none specified, the side bar is initially displayed closed. */\n    defaultToolPanel?: string;\n    /** To hide the side bar by default, set this to `true`. If left undefined the side bar will be shown. */\n    hiddenByDefault?: boolean;\n    /** Sets the side bar position relative to the grid. */\n    position?: 'left' | 'right';\n}\n\nexport class SideBarDefParser {\n    static readonly DEFAULT_COLUMN_COMP: ToolPanelDef = {\n        id: 'columns',\n        labelDefault: 'Columns',\n        labelKey: 'columns',\n        iconKey: 'columns',\n        toolPanel: 'agColumnsToolPanel',\n    };\n\n    static readonly DEFAULT_FILTER_COMP: ToolPanelDef = {\n        id: 'filters',\n        labelDefault: 'Filters',\n        labelKey: 'filters',\n        iconKey: 'filter',\n        toolPanel: 'agFiltersToolPanel',\n    };\n\n    static readonly DEFAULT_BY_KEY: {[p: string]: ToolPanelDef} = {\n        columns: SideBarDefParser.DEFAULT_COLUMN_COMP,\n        filters: SideBarDefParser.DEFAULT_FILTER_COMP\n    };\n\n    static parse(toParse: SideBarDef | string | string[] | boolean): SideBarDef | null {\n        if (!toParse) { return null; }\n        if (toParse === true) {\n            return {\n                toolPanels: [\n                    SideBarDefParser.DEFAULT_COLUMN_COMP,\n                    SideBarDefParser.DEFAULT_FILTER_COMP,\n                ],\n                defaultToolPanel: 'columns'\n            };\n        }\n\n        if (typeof toParse === 'string') { return SideBarDefParser.parse([toParse]); }\n\n        if (Array.isArray(toParse)) {\n            const comps: ToolPanelDef [] = [];\n            toParse.forEach(key => {\n                const lookupResult = SideBarDefParser.DEFAULT_BY_KEY [key];\n                if (! lookupResult) {\n                    console.warn(`ag-grid: the key ${key} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(',')}`);\n                    return;\n                }\n\n                comps.push(lookupResult);\n            });\n\n            if (comps.length === 0) {\n                return null;\n            }\n\n            return {\n                toolPanels: comps,\n                defaultToolPanel: comps[0].id\n            };\n        }\n\n        const result: SideBarDef = {\n            toolPanels: SideBarDefParser.parseComponents(toParse.toolPanels),\n            defaultToolPanel: toParse.defaultToolPanel,\n            hiddenByDefault: toParse.hiddenByDefault,\n            position: toParse.position\n        };\n\n        return result;\n    }\n\n    static parseComponents(from?: (ToolPanelDef | string)[]) : ToolPanelDef[] {\n        const result:ToolPanelDef[] = [];\n\n        if (!from) { return result; }\n\n        from.forEach((it: ToolPanelDef | string) => {\n            let toAdd: ToolPanelDef | null = null;\n            if (typeof it === 'string') {\n                const lookupResult = SideBarDefParser.DEFAULT_BY_KEY [it];\n                if (! lookupResult) {\n                    console.warn(`ag-grid: the key ${it} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(',')}`);\n                    return;\n                }\n\n                toAdd = lookupResult;\n            } else {\n                toAdd = it;\n            }\n\n            result.push(toAdd);\n        });\n\n        return result;\n    }\n}"]}