{"version":3,"sources":["../../src/ts/widgets/componentAnnotations.ts"],"names":[],"mappings":";;;;;;;;AAAA,8CAAoD;AAEpD,SAAgB,aAAa,CAAC,QAAiB;IAC3C,OAAO,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;AAC7D,CAAC;AAFD,sCAEC;AAED,SAAgB,WAAW,CAAC,GAAW;IACnC,OAAO,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,UAAQ,GAAG,MAAG,EAAE,GAAG,CAAC,CAAC;AAC7D,CAAC;AAFD,kCAEC;AAED,SAAS,iBAAiB,CAAC,QAAgB,EAAE,WAAmB,EAAE,cAAmB,EAAE,qBAA6B,EAAE,KAAa;IAC/H,IAAI,QAAQ,KAAK,IAAI,EAAE;QACnB,OAAO,CAAC,KAAK,CAAC,oDAAoD,CAAC,CAAC;QACpE,OAAO;KACV;IAED,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC3B,OAAO,CAAC,KAAK,CAAC,kDAAkD,CAAC,CAAC;QAClE,OAAO;KACV;IAED,gBAAgB,CAAC,cAAc,EAAE,gBAAgB,EAAE;QAC/C,aAAa,EAAE,qBAAqB;QACpC,aAAa,EAAE,QAAQ;QACvB,WAAW,EAAE,WAAW;KAC3B,CAAC,CAAC;AACP,CAAC;AAED,iEAAiE;AACjE,yDAAyD;AACzD,+CAA+C;AAC/C,IAAI;AACJ,EAAE;AACF,2EAA2E;AAC3E,4BAA4B;AAC5B,gFAAgF;AAChF,kBAAkB;AAClB,QAAQ;AACR,EAAE;AACF,4CAA4C;AAC5C,kCAAkC;AAClC,uBAAuB;AACvB,UAAU;AACV,IAAI;AAEJ,SAAS,gBAAgB,CAAC,MAAc,EAAE,GAAW,EAAE,KAAU;IAC7D,iCAAiC;IACjC,IAAM,KAAK,GAAG,gBAAgB,CAAC,MAAM,EAAE,0BAAe,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;IAE5E,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;QACb,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;KACnB;IAED,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3B,CAAC;AAED,SAAS,gBAAgB,CAAC,MAAW,EAAE,YAAoB;IACvD,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE;QAC/B,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC;KACrC;IAED,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,YAAY,CAAC,EAAE;QAC7C,MAAM,CAAC,qBAAqB,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;KACnD;IAED,OAAO,MAAM,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;AACtD,CAAC","file":"componentAnnotations.js","sourcesContent":["import { getFunctionName } from '../utils/function';\n\nexport function QuerySelector(selector?: string): Function {\n    return querySelectorFunc.bind(this, selector, undefined);\n}\n\nexport function RefSelector(ref: string): Function {\n    return querySelectorFunc.bind(this, `[ref=${ref}]`, ref);\n}\n\nfunction querySelectorFunc(selector: string, refSelector: string, classPrototype: any, methodOrAttributeName: string, index: number) {\n    if (selector === null) {\n        console.error('AG Grid: QuerySelector selector should not be null');\n        return;\n    }\n\n    if (typeof index === 'number') {\n        console.error('AG Grid: QuerySelector should be on an attribute');\n        return;\n    }\n\n    addToObjectProps(classPrototype, 'querySelectors', {\n        attributeName: methodOrAttributeName,\n        querySelector: selector,\n        refSelector: refSelector\n    });\n}\n\n// // think we should take this out, put property bindings on the\n// export function Method(eventName?: string): Function {\n//     return methodFunc.bind(this, eventName);\n// }\n//\n// function methodFunc(alias: string, target: Object, methodName: string) {\n//     if (alias === null) {\n//         console.error(\"AG Grid: EventListener eventName should not be null\");\n//         return;\n//     }\n//\n//     addToObjectProps(target, 'methods', {\n//         methodName: methodName,\n//         alias: alias\n//     });\n// }\n\nfunction addToObjectProps(target: Object, key: string, value: any): void {\n    // it's an attribute on the class\n    const props = getOrCreateProps(target, getFunctionName(target.constructor));\n\n    if (!props[key]) {\n        props[key] = [];\n    }\n\n    props[key].push(value);\n}\n\nfunction getOrCreateProps(target: any, instanceName: string): any {\n    if (!target.__agComponentMetaData) {\n        target.__agComponentMetaData = {};\n    }\n\n    if (!target.__agComponentMetaData[instanceName]) {\n        target.__agComponentMetaData[instanceName] = {};\n    }\n\n    return target.__agComponentMetaData[instanceName];\n}\n"]}