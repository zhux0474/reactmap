{"version":3,"sources":["../../src/ts/widgets/agAbstractInputField.ts"],"names":[],"mappings":"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","file":"agAbstractInputField.js","sourcesContent":["import { IAgLabel } from './agAbstractLabel';\nimport { RefSelector } from './componentAnnotations';\nimport { AgAbstractField, FieldElement } from './agAbstractField';\nimport { setDisabled, setElementWidth, addCssClass, addOrRemoveAttribute } from '../utils/dom';\nimport { setAriaLabelledBy, setAriaLabel } from '../utils/aria';\nimport { exists } from '../utils/generic';\n\nexport interface IInputField extends IAgLabel {\n    value?: any;\n    width?: number;\n}\n\nexport abstract class AgAbstractInputField<TElement extends FieldElement, TValue, TConfig extends IInputField = IInputField>\n    extends AgAbstractField<TValue, TConfig> {\n    @RefSelector('eLabel') protected readonly eLabel: HTMLElement;\n    @RefSelector('eWrapper') protected readonly eWrapper: HTMLElement;\n    @RefSelector('eInput') protected readonly eInput: TElement;\n\n    constructor(config?: TConfig, className?: string, private readonly inputType: string | null = 'text', private readonly displayFieldTag = 'input') {\n        super(config, /* html */`\n            <div role=\"presentation\">\n                <div ref=\"eLabel\" class=\"ag-input-field-label\"></div>\n                <div ref=\"eWrapper\" class=\"ag-wrapper ag-input-wrapper\" role=\"presentation\">\n                    <${displayFieldTag} ref=\"eInput\" class=\"ag-input-field-input\"></${displayFieldTag}>\n                </div>\n            </div>`, className);\n    }\n\n    protected postConstruct() {\n        super.postConstruct();\n        this.setInputType();\n\n        addCssClass(this.eLabel, `${this.className}-label`);\n        addCssClass(this.eWrapper, `${this.className}-input-wrapper`);\n        addCssClass(this.eInput, `${this.className}-input`);\n        addCssClass(this.getGui(), 'ag-input-field');\n\n        this.eInput.id = this.eInput.id || `ag-${this.getCompId()}-input`;\n\n        const { width, value } = this.config;\n\n        if (width != null) {\n            this.setWidth(width);\n        }\n\n        if (value != null) {\n            this.setValue(value);\n        }\n\n        this.addInputListeners();\n    }\n\n    protected refreshLabel() {\n        if (exists(this.getLabel())) {\n            setAriaLabelledBy(this.eInput, this.getLabelId());\n        } else {\n            this.eInput.removeAttribute('aria-labelledby');\n        }\n\n        super.refreshLabel();\n    }\n\n    protected addInputListeners() {\n        this.addManagedListener(this.eInput, 'input', e => this.setValue(e.target.value));\n    }\n\n    private setInputType() {\n        if (this.displayFieldTag === 'input') {\n            this.eInput.setAttribute('type', this.inputType!);\n        }\n    }\n\n    public getInputElement(): TElement {\n        return this.eInput;\n    }\n\n    public setInputWidth(width: number | 'flex'): this {\n        setElementWidth(this.eWrapper, width);\n\n        return this;\n    }\n\n    public setInputName(name: string): this {\n        this.getInputElement().setAttribute('name', name);\n\n        return this;\n    }\n\n    public getFocusableElement(): HTMLElement {\n        return this.eInput;\n    }\n\n    public setMaxLength(length: number): this {\n        const eInput = this.eInput as HTMLInputElement | HTMLTextAreaElement;\n        eInput.maxLength = length;\n\n        return this;\n    }\n\n    public setInputPlaceholder(placeholder: string): this {\n        addOrRemoveAttribute(this.eInput, 'placeholder', placeholder);\n\n        return this;\n    }\n\n    public setInputAriaLabel(label: string): this {\n        setAriaLabel(this.eInput, label);\n\n        return this;\n    }\n\n    public setDisabled(disabled: boolean): this {\n        setDisabled(this.eInput, disabled);\n\n        return super.setDisabled(disabled);\n    }\n}\n"]}