{"version":3,"sources":["../../src/ts/components/agGridNg1.ts"],"names":[],"mappings":";;;;;;;;AAAA,gCAA2C;AAG3C,SAAgB,4BAA4B,CAAC,OAAY;IACrD,IAAM,aAAa,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACnD,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE;QAC9B,OAAO;YACH,QAAQ,EAAE,GAAG;YACb,UAAU,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,0BAA0B,CAAC;YACpF,KAAK,EAAE,IAAI;SACd,CAAC;IACN,CAAC,CAAC,CAAC;AACP,CAAC;AATD,oEASC;AAED,SAAS,0BAA0B,CAAC,QAAa,EAAE,MAAW,EAAE,QAAa,EAAE,MAAW;IACtF,IAAI,WAAwB,CAAC;IAE7B,IAAM,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC;IACvC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;IAC7C,IAAI,CAAC,WAAW,EAAE;QACd,OAAO,CAAC,IAAI,CAAC,yHAAyH,CAAC,CAAC;QACxI,OAAO;KACV;IAED,IAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAM,UAAU,GAAe;QAC3B,MAAM,EAAE,MAAM;QACd,QAAQ,EAAE,QAAQ;KACrB,CAAC;IACF,IAAI,IAAI,GAAgB,IAAI,WAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;IAEpE,IAAM,kBAAkB,GAAG,gBAAgB,GAAG,kBAAkB,CAAC;IACjE,IAAM,uBAAuB,GAAG,MAAM,CAAC,MAAM,CACzC,kBAAkB,EAClB,UAAC,SAAc;QACX,WAAW,CAAC,GAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAA;IAC9C,CAAC,CACJ,CAAC;IAEF,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE;QACnB,uBAAuB,EAAE,CAAC;QAC1B,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;QACD,IAAI,GAAG,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;AACP,CAAC","file":"agGridNg1.js","sourcesContent":["import { Grid, GridParams } from \"../grid\";\nimport { GridOptions } from \"../entities/gridOptions\";\n\nexport function initialiseAgGridWithAngular1(angular: any) {\n    const angularModule = angular.module(\"agGrid\", []);\n    angularModule.directive(\"agGrid\", function() {\n        return {\n            restrict: \"A\",\n            controller: ['$element', '$scope', '$compile', '$attrs', AngularDirectiveController],\n            scope: true\n        };\n    });\n}\n\nfunction AngularDirectiveController($element: any, $scope: any, $compile: any, $attrs: any) {\n    let gridOptions: GridOptions;\n\n    const keyOfGridInScope = $attrs.agGrid;\n    gridOptions = $scope.$eval(keyOfGridInScope);\n    if (!gridOptions) {\n        console.warn(\"WARNING - grid options for AG Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope\");\n        return;\n    }\n\n    const eGridDiv = $element[0];\n    const gridParams: GridParams = {\n        $scope: $scope,\n        $compile: $compile\n    };\n    let grid: Grid | null = new Grid(eGridDiv, gridOptions, gridParams);\n\n    const quickFilterOnScope = keyOfGridInScope + '.quickFilterText';\n    const quickFilterUnregisterFn = $scope.$watch(\n        quickFilterOnScope,\n        (newFilter: any) => {\n            gridOptions.api!.setQuickFilter(newFilter)\n        }\n    );\n\n    $scope.$on(\"$destroy\", function() {\n        quickFilterUnregisterFn();\n        if (grid) {\n            grid.destroy();\n        }\n        grid = null;\n    });\n}\n"]}