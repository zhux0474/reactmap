{"version":3,"sources":["../../src/ts/headerRendering/cells/columnGroup/headerGroupCellComp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,oDAAoE;AACpE,0CAAyD;AACzD,8EAAoE;AACpE,iFAAgF;AAIhF;IAAyC,uCAA2C;IAWhF,6BAAY,IAAyB;eACjC,kBAAM,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC;IAC7C,CAAC;IAGO,2CAAa,GAArB;QADA,iBAmBC;QAhBG,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAE3B,IAAM,YAAY,GAAG,UAAC,GAAW,EAAE,KAAyB;YACpD,OAAA,KAAK,IAAE,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;QAA5E,CAA4E,CAAC;QAErF,IAAM,SAAS,GAAyB;YACpC,mBAAmB,EAAE,UAAC,YAAY,EAAE,EAAE,IAAK,OAAA,KAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,EAAE,CAAC,EAA1C,CAA0C;YACrF,4BAA4B,EAAE,UAAC,YAAY,EAAE,EAAE,IAAK,OAAA,yBAAmB,CAAC,KAAI,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,CAAC,EAAnD,CAAmD;YACvG,QAAQ,EAAE,UAAA,KAAK,IAAI,OAAA,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,EAAxB,CAAwB;YAC3C,QAAQ,EAAE,UAAA,EAAE,IAAI,OAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC,EAA/B,CAA+B;YAC/C,eAAe,EAAE,UAAA,QAAQ,IAAI,OAAA,YAAY,CAAC,eAAe,EAAE,QAAQ,CAAC,EAAvC,CAAuC;YACpE,QAAQ,EAAE,UAAA,KAAK,IAAI,OAAA,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,EAA5B,CAA4B;YAC/C,kBAAkB,EAAE,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAhC,CAAgC;SAClE,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACrD,CAAC;IAEO,gDAAkB,GAA1B,UAA2B,OAAwB;QAAnD,iBAEC;QADG,OAAO,CAAC,kBAAkB,EAAG,CAAC,IAAI,CAAE,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAjC,CAAiC,CAAC,CAAC;IACnF,CAAC;IAEO,oDAAsB,GAA9B,UAA+B,eAAiC;QAAhE,iBAaC;QAXG,IAAM,WAAW,GAAG,cAAK,OAAA,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAjC,CAAiC,CAAC;QAE3D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE;YACjB,WAAW,EAAE,CAAC;YACd,OAAO;SACV;QAED,IAAI,CAAC,MAAM,EAAE,CAAC,WAAW,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC;IACtD,CAAC;IAnDc,4BAAQ,GACnB,2LAEO,CAAC;IAEuB;QAAlC,mBAAS,CAAC,sBAAsB,CAAC;qEAAoD;IAE9D;QAAvB,kCAAW,CAAC,SAAS,CAAC;wDAA8B;IAOrD;QADC,uBAAa;4DAmBb;IAsBL,0BAAC;CAxDD,AAwDC,CAxDwC,+CAAsB,GAwD9D;AAxDY,kDAAmB","file":"headerGroupCellComp.js","sourcesContent":["import { UserCompDetails, UserComponentFactory } from \"../../../components/framework/userComponentFactory\";\nimport { Autowired, PostConstruct } from \"../../../context/context\";\nimport { addOrRemoveCssClass } from \"../../../utils/dom\";\nimport { RefSelector } from \"../../../widgets/componentAnnotations\";\nimport { AbstractHeaderCellComp } from \"../abstractCell/abstractHeaderCellComp\";\nimport { HeaderGroupCellCtrl, IHeaderGroupCellComp } from \"./headerGroupCellCtrl\";\nimport { IHeaderGroupComp } from \"./headerGroupComp\";\n\nexport class HeaderGroupCellComp extends AbstractHeaderCellComp<HeaderGroupCellCtrl> {\n\n    private static TEMPLATE = /* html */\n        `<div class=\"ag-header-group-cell\" role=\"columnheader\" tabindex=\"-1\">\n            <div ref=\"eResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>\n        </div>`;\n\n    @Autowired('userComponentFactory') private userComponentFactory: UserComponentFactory;\n\n    @RefSelector('eResize') private eResize: HTMLElement;\n\n    constructor(ctrl: HeaderGroupCellCtrl) {\n        super(HeaderGroupCellComp.TEMPLATE, ctrl);\n    }\n\n    @PostConstruct\n    private postConstruct(): void {\n\n        const eGui = this.getGui();\n\n        const setAttribute = (key: string, value: string | undefined) => \n                value!=undefined ? eGui.setAttribute(key, value) : eGui.removeAttribute(key);\n\n        const compProxy: IHeaderGroupCellComp = {\n            addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n            addOrRemoveResizableCssClass: (cssClassName, on) => addOrRemoveCssClass(this.eResize, cssClassName, on),\n            setWidth: width => eGui.style.width = width,\n            setColId: id => eGui.setAttribute(\"col-id\", id),\n            setAriaExpanded: expanded => setAttribute('aria-expanded', expanded),\n            setTitle: title => setAttribute(\"title\", title),\n            setUserCompDetails: details => this.setUserCompDetails(details)\n        };\n\n        this.ctrl.setComp(compProxy, eGui, this.eResize);\n    }\n\n    private setUserCompDetails(details: UserCompDetails): void {\n        details.newAgStackInstance()!.then( comp => this.afterHeaderCompCreated(comp));\n    }\n\n    private afterHeaderCompCreated(headerGroupComp: IHeaderGroupComp): void {\n\n        const destroyFunc = ()=> this.destroyBean(headerGroupComp);\n\n        if (!this.isAlive()) {\n            destroyFunc();\n            return;\n        }\n\n        this.getGui().appendChild(headerGroupComp.getGui());\n        this.addDestroyFunc(destroyFunc);\n\n        this.ctrl.setDragSource(headerGroupComp.getGui());\n    }\n\n\n}\n"]}