[{"/Users/rongxuan/Desktop/git_react/src/index.js":"1","/Users/rongxuan/Desktop/git_react/src/App.js":"2","/Users/rongxuan/Desktop/git_react/src/reportWebVitals.js":"3","/Users/rongxuan/Desktop/git_react/src/components/Smoker.js":"4","/Users/rongxuan/Desktop/git_react/src/components/SmokerMap.js":"5","/Users/rongxuan/Desktop/git_react/src/tasks/LoadData.js":"6","/Users/rongxuan/Desktop/reactmap/reactmap/src/index.js":"7","/Users/rongxuan/Desktop/reactmap/reactmap/src/App.js":"8","/Users/rongxuan/Desktop/reactmap/reactmap/src/reportWebVitals.js":"9","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/Smoker.js":"10","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/SmokerMap.js":"11","/Users/rongxuan/Desktop/reactmap/reactmap/src/tasks/LoadData.js":"12","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/SmokerLegend.js":"13","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/metadata.js":"14","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/dropdown.js":"15","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/context.js":"16"},{"size":623,"mtime":1644279817896,"results":"17","hashOfConfig":"18"},{"size":187,"mtime":1644261534246,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1643663862952,"results":"20","hashOfConfig":"18"},{"size":803,"mtime":1644278284026,"results":"21","hashOfConfig":"18"},{"size":3164,"mtime":1645235140109,"results":"22","hashOfConfig":"18"},{"size":0,"mtime":1644263901718,"results":"23","hashOfConfig":"18"},{"size":804,"mtime":1649907413746,"results":"24","hashOfConfig":"25"},{"size":277,"mtime":1649731237836,"results":"26","hashOfConfig":"25"},{"size":362,"mtime":1643663862952,"results":"27","hashOfConfig":"25"},{"size":560,"mtime":1648668079119,"results":"28","hashOfConfig":"25"},{"size":11302,"mtime":1651783175457,"results":"29","hashOfConfig":"25"},{"size":0,"mtime":1644263901718,"results":"30","hashOfConfig":"25"},{"size":676,"mtime":1649100044155,"results":"31","hashOfConfig":"25"},{"size":1679,"mtime":1649191921388,"results":"32","hashOfConfig":"25"},{"size":2288,"mtime":1649907308984,"results":"33","hashOfConfig":"25"},{"size":1924,"mtime":1650476495480,"results":"34","hashOfConfig":"25"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"m37f37",{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"41"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1edod3x",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"65"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"92"},"/Users/rongxuan/Desktop/git_react/src/index.js",[],[],"/Users/rongxuan/Desktop/git_react/src/App.js",[],[],["93","94"],"/Users/rongxuan/Desktop/git_react/src/reportWebVitals.js",[],[],"/Users/rongxuan/Desktop/git_react/src/components/Smoker.js",["95","96","97","98"],[],"import React, { useState, useEffect } from \"react\"\nimport SmokerMap from \"./SmokerMap\";\nimport LoadData from \"../tasks/LoadData\";\n\n\nconst Smoker = () =>{\n    const [counties, setCounties] = useState([]);\n    /*\n    const load = () =>{\n        console.log(\"load\");\n        const loadData = new LoadData();\n        loadData.load((counties)=> setCounties(counties));\n\n    };\n    \n    useEffect(load,[]);\n    \n    below is the code go inside the div below\n    {counties.length === 0 ?(\n                <Loading />):(\n                    <div>\n                        <SmokerMap counties = {counties} />\n                \n                        </div>\n                )}  */\n\n    return (\n        <div>\n            \n            <SmokerMap />\n            \n            </div>\n    );\n\n};\n\nexport default Smoker;","/Users/rongxuan/Desktop/git_react/src/components/SmokerMap.js",["99","100"],[],"import React from \"react\";\nimport { fromLonLat, get } from \"ol/proj\";\n//import \"./SmokerMap.css\";\nimport Map from \"ol/Map\";\n//import Feature from \"ol/Feature\";\nimport View from \"ol/View\";\n//import { Point, Style, Circle, Fill, Feature } from \"ol\";\nimport TileLayer from \"ol/layer/Tile\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport VectorSource from \"ol/source/Vector\";\nimport GeoJSON from 'ol/format/GeoJSON';\nimport OSM from \"ol/source/OSM\";\nimport {Fill, Stroke, Style} from 'ol/style';\nimport cityboundary from \"./City_Boundary.geojson\";\n//import county from \"./County.json\";\n\n/*\nconst vectorlayer = \nnew VectorLayer({\n    source : new VectorSource({\n      url: './City_Boundary.geojson',\n      format: new GeoJSON(),\n      featureProjection:\"EPSG:4326\"\n    }),\n    style: new Style({\n      color: '#eeeeee',\n      ///style: getFill().setColor(color),\n\n    })\n})*/\n\n/*\nconst vectorlayer=new GeoJSON().readFeatures(geojsonObject, {\n  featureProjection:'EPSG:3857'\n});*/\n\nexport default class SmokerMap extends React.Component{\n  constructor(props){\n    super(props);\n    console.log(this.props);\n    this.mapRef=React.createRef();\n  }\n  componentDidMount(){\n    this.map=new Map({\n      target: \"mapContainer\",\n      \n      layers: [\n     \n\n        new TileLayer({\n          source: new OSM()\n        }),\n\n        new VectorLayer({\n          //background: '#1a2b39',\n          source : new VectorSource({\n            url: cityboundary,\n            format: new GeoJSON()\n            //crossOrigin: 'anonymous',\n            //featureProjection:\"EPSG:4326\"\n          }),\n          style: new Style({\n            fill: new Fill({\n              color: [255,0,0,255]}),//'#eeeeee' [255,0,0,255]\n            \n            ///style: getFill().setColor(color),\n      \n          }), \n          \n      })\n      \n      ],\n      \n      view :new View({\n        center:fromLonLat([-94.6859,46.7296]),\n        zoom: 7\n      })\n\n    });\n   \n  }\n  render() {\n    console.log(\"-> render App\");\n    return (\n      <div\n        id=\"mapContainer\"\n        ref={this.mapRef}\n        style={{ width: \"100%\", height: \"700px\" }}\n      >\n       \n      </div>\n    );\n  }\n\n\n}\n/*\nconst SmokerMap = ({ counties}) =>{\n    /*\n    const mapStyle={\n        fillColor: \"white\",\n        weight: 1,\n        color: \"black\",\n        fillOpacity: 1,\n    };\n    const onEachCountry = (country, layer) => {\n        layer.options.fillColor = country.properties.color;\n        const name = country.properties.ADMIN;\n        const confirmedText = country.properties.confirmedText;\n        layer.bindPopup(`${name} ${confirmedText}`);\n      };*/\n\n      /*return (\n        <Map style={{ height: \"90vh\" }} zoom={2} center={[-94.6859,46.7296]}>\n          <GeoJSON\n            style={mapStyle}\n            data={countries}\n            onEachFeature={onEachCountry}\n          />\n        </Map>\n      );\n\n      return (\n        <div className=\"map_div\">\n        <Map className=\"smoker_map\" view={{center:fromLonLat([-94.6859,46.7296]),zoom:6}}>\n          <Layers>\n            <layer.Tile></layer.Tile>\n            </Layers>\n    \n        </Map>\n        \n        </div>\n      );\n\n};\nexport default SmokerMap;\n*/\n","/Users/rongxuan/Desktop/git_react/src/tasks/LoadData.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/index.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/App.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/reportWebVitals.js",[],[],["101","102"],"/Users/rongxuan/Desktop/reactmap/reactmap/src/components/Smoker.js",["103","104","105"],[],"import React, { useState, useEffect } from \"react\"\nimport SmokerMap from \"./SmokerMap\";\nimport \"./Smoker.css\";\nimport SmokerLegend from \"./SmokerLegend\";\nimport LoadData from \"../tasks/LoadData\";\nimport Dropdown from \"./dropdown.js\"\n\n\nconst Smoker = () =>{\n    return (\n        <div >\n            <div style={{height: '400px'}}>\n                <SmokerMap  />\n            </div>\n            <div style={{position: 'relative' }} >\n                <SmokerLegend/> \n                <Dropdown/> \n            </div>\n        </div>\n    );\n\n};\n\nexport default Smoker;","/Users/rongxuan/Desktop/reactmap/reactmap/src/components/SmokerMap.js",["106","107","108","109","110","111","112","113","114","115","116","117"],[],"import React, { useEffect } from \"react\";\nimport { fromLonLat, get } from \"ol/proj\";\n//import \"./SmokerMap.css\";\nimport Map from \"ol/Map\";\n//import Feature from \"ol/Feature\";\nimport View from \"ol/View\";\n//import { Point, Style, Circle, Fill, Feature } from \"ol\";\nimport TileLayer from \"ol/layer/Tile\";\n//import TileWMS from 'ol/source/TileWMS';\nimport VectorLayer from \"ol/layer/Vector\";\nimport VectorSource from \"ol/source/Vector\";\nimport GeoJSON from 'ol/format/GeoJSON';\nimport OSM from \"ol/source/OSM\";\nimport {Fill, Stroke, Style} from 'ol/style';\nimport {metadata} from './metadata.js';\nimport countyData from './countyline.geojson';\nimport Dropdown from './dropdown.js';\nimport Whitesmoker from '../data/whitesmoker.json';\nimport {Context} from \"./context\";\nimport { useContext } from \"react\";\n//import {ccontext} from \"./context\";\n\n\nexport default class SmokerMap extends React.Component{\n\n  static contextType = Context;\n  \n  context=this.context;\n  //var oldgeoid={};\n  \n  \n  \n  constructor(props){\n    super(props);\n    this.state = {\n      \n      smokerSource : null,\n      smokerlayer: false,\n      stylefunction: null,\n      countyOutlineSource: null,\n      countyOutline: false,\n      countyReady: false,\n      smokerData: null,\n      ohstyle:null\n      \n      \n  };\n   // console.log(this.props);\n  }\n  \n  //global function（styledata） to style map \n  // will be called in componentDidMount and componentDidUpdate\n  //static geojsondata =metadata[1].geojson_url; \n  styledata(geoFeature){\n\n    var newStyle;\n    //console.log(geoFeature['values_'])\n    //var value=geoFeature['brfss_smoker'];\n    //updatedGeoJSON.features[i]['properties']['brfss_smoker']\n    \n    var value=geoFeature['values_']['brfss_smoker'];\n\n    for (let i =0;i<metadata[1]['break'].length;i++){\n      if(value>metadata[1]['break'][i]){\n      newStyle= new Style({\n        fill: new Fill({\n          color: metadata[1]['color'][i]\n        }),\n        stroke: new Stroke({\n          color:'black',\n          width:0.3\n        })\n      })\n    };\n  }\n    //console.log(newStyle)\n    return newStyle;\n\n  }\n  //a global function(getData) to get json data from url when called from componentDidUpdate \n  async getData(url,starturl) {\n    console.log(url)\n    console.log(starturl)\n    if (url != starturl){\n\n      //console.log(starturl)\n    const response = await fetch(url);//new json value\n    const response2 = await fetch(starturl);//old geojson value\n    \n    var jsondata=await response.json();\n    var geojsondata=await response2.json();\n    console.log(jsondata)\n    //compare and update the geojsondata \n    \n    for (var i=0;i<jsondata.features.length;i++){\n      var newgeoid=jsondata.features[i]['properties']['geo_id']\n      var value=jsondata.features[i]['properties']['brfss_smoker']\n      for (var j=0;j<geojsondata.features.length;j++){\n        var oldgeoid=geojsondata.features[j]['properties']['geo_id']\n        var oldvalue=geojsondata.features[j]['properties']['brfss_smoker']\n        if (newgeoid=oldgeoid)\n         {  \n           \n            geojsondata.features[j]['properties']['brfss_smoker']=jsondata.features[i]['properties']['brfss_smoker']\n            var newfeature=geojsondata.features[j]['properties']['brfss_smoker']\n            //so weird , i console log here, values are different but the page will be broke \n          }\n          //console.log(geojsondata.features)\n      } \n      //console.log(oldvalue,value)\n      \n      //console.log(geojsondata.features)// values are the same??!!\n    }\n\n    console.log(geojsondata.features)\n    //but here, values are the same??!!\n    \n    console.log(geojsondata)\n   \n    return geojsondata\n\n    }\n    \n  }\n    //return jsondata;}\n/*\n    for (var i=0;i<jsondata.features.length;i++){\n      var newgeoid=jsondata.features[i]['properties']['geo_id']\n      var value=jsondata.features[i]['properties']['brfss_smoker']\n      //if (newgeoid=oldgeoid)\n    }\n    console.log(jsondata.features[0]['properties']['geo_id'])\n\n    //return await response.json();\n  };*/\n  /*\n  stylefunction(feature){\n    var style;\n    //console.log(feature.features)\n    var geoid=feature.get('geo_id');\n    //var geoid=feature.features\n    for (var i=0; i<feature.length;i++){\n    var newgeoid=feature[i].values.geo_id;\n        //console.log(newgeoid);\n    if (newgeoid===geoid ){\n      var value= feature[i].values.brfss_smoker;\n         };\n      }\n    for (let i =0;i<metadata[1]['break'].length;i++){\n      if(value>metadata[1]['break'][i]){\n      style= new Style({\n      fill: new Fill({\n      color: metadata[1]['color'][i]\n          }),\n          stroke: new Stroke({\n            color:'black',\n            width:0.3\n          })\n        })\n      };\n    }\n\n      return style;\n\n  };*/\n\n  \n  componentDidMount(){\n    \n    const context=this.context;\n    console.log(context);\n    // get the current value in UsersContext through the hook\n    var basemap =new TileLayer({\n      source: new OSM()\n    })\n    var smokerSource = new VectorSource({\n      url: metadata[1].geojson_url, //context.state.attribute,\n      format: new GeoJSON()\n    })\n\n    console.log(\"source is:\",context.state.attribute)\n    \n   //need to pass context.state.attribute into some function to get new json\n   //store json as a variable \n\n    var countyOutlineSource = new VectorSource({\n      url: countyData,\n      format: new GeoJSON()\n\n    })\n    var countyBorder = new Style({\n      stroke: new Stroke({\n          color: 'black',\n          width: 1\n      })\n  });\n    var countyOutline = new VectorLayer({\n      opacity: 1,\n      //visible: this.props.viewed === 'County',\n      source: countyOutlineSource,\n      style: countyBorder\n    });\n\n    \n    \n  /*\n    var stylefunction = function(feature){\n      \n        var style;\n        //console.log(feature);\n        \n        var value=feature.get('brfss_smoker');\n        //console.log(value);\n        //var geojson1={geoid:23,value:16},{geoid:50,value:25}\n        //var geojson2={geoid:27,value:55},{geoid:55,value:25},{geoid:63,value:16},{geoid:23,value:25},{geoid:99,value:16},{geoid:50,value:65}\n\n        //var county=feature.get('county');\n        //var value = feature.get('brfss_smoker');\n        /*\n        var geoid=feature.get('geo_id');\n        console.log(geoid);\n        for (var i=0; i<feature.length;i++){\n          var newgeoid=feature[i].values.geo_id;\n          //console.log(newgeoid);\n          if (newgeoid===geoid ){\n            var value= feature[i].values.brfss_smoker;\n           };\n        }*/\n       //console.log(\"geoid\",geoid);\n        //console.log(value);\n        //console.log(Object.keys(geoid));\n       // const newgeoid = Whitesmoker.map((id)=> {\n         // var white=Whitesmoker.get('geo_id');\n          //console.log(white);\n          /*\n\n          for sample\n          var geoid=feature.get('geo_id');\n        for (var i=0; i<Whitesmoker.features.length;i++){\n            var newgeoid=Whitesmoker.features[i].properties.geo_id;\n            //console.log(newgeoid);\n            if (newgeoid===geoid ){\n              var value= Whitesmoker.features[i].properties.brfss_smoker;\n             };\n          }*/\n          /*\n        //console.log(value)\n        \n        \n        //var jsondata= getData();\n        //console.log(jsondata);\n        \n        //compare geoid with the next json\n        // mapping function or a for loop to find the matching value\n        // return value from geojson2 and assign to var value \n        \n        // assign color to each break from metadata.js\n        //console.log(county,value)\n        for (let i =0;i<metadata[1]['break'].length;i++){\n          if(value>metadata[1]['break'][i]){\n          style= new Style({\n            fill: new Fill({\n              color: metadata[1]['color'][i]\n            }),\n            stroke: new Stroke({\n              color:'black',\n              width:0.3\n            })\n          })\n        };\n      }\n\n        return style;\n\n    };\n    */\n    var mystyle;\n    mystyle=this.styledata;\n    console.log(mystyle)\n    var smokerlayer = new VectorLayer({\n\n      source: smokerSource,\n      style: mystyle\n      //mystyle\n      //this.styledata\n      //stylefunction\n      //need to figure out how to update this style\n  \n      })\n    \n\n    var olmap=new Map({\n      layers: [basemap,countyOutline,smokerlayer],\n      target: \"mapContainer\",\n      view :new View({\n        center:fromLonLat([-94.6859,46.7296]),\n        zoom: 6\n      })\n    });\n\n    this.setState({\n      \n      olmap: olmap,\n      countyOutlineSource:countyOutlineSource,\n      countyOutline: countyOutline,\n      smokerlayer: smokerlayer,\n      smokerSource:smokerSource,\n      //stylefunction:this.styledata,\n      //ohstyle:this.styledata\n      \n  })\n  \n\n  \n  \n\n}\n\n\nasync componentDidUpdate(prevProps,prevState){\n  const context=this.context;\n  console.log(\"update:\",context.state.attribute)\n  var geojsondata=metadata[1].geojson_url; \n  // console.dir(prevState.smokerSource);\n  // console.dir(this.state.smokerSource);\n\n  \n  if ( prevState.smokerSource != null){\n    console.log(\"Component is updating\");\n    console.log(this.state.smokerSource['url_']);\n    if(context.state.attribute != geojsondata){\n      //This didn't work the urls are always the same.\n      //this.state.smokerSource['url_'] != prevState.smokerSource['url_']\n      try{\n        console.log(\"getting data\")\n        const updatedGeoJSON = await this.getData(context.state.attribute,geojsondata);\n        console.log(updatedGeoJSON.features)\n        //console.log(updatedGeoJSON.features[0]['properties']['brfss_smoker'])\n        //const updatedJSON = await updatedGeoJSON.json();\n        //this.setState({smokerData: updatedGeoJSON});\n        var newMapStyle;\n        //newMapStyle = this.styledata(updatedGeoJSON)\n        \n        //this.smokerlayer.redraw()\n        //newMapStyle = this.styledata(updatedGeoJSON)\n        //this.setState({ohstyle: newMapStyle})\n        console.log(updatedGeoJSON.features.length)\n        for (let i =0;i< updatedGeoJSON.features.length;i++){\n          var value=updatedGeoJSON.features[30]['properties']['brfss_smoker']\n          //console.log(updatedGeoJSON.features[30])\n          for (let j =0;j<metadata[1]['break'].length;j++){\n            if(value>metadata[1]['break'][j]){\n            newMapStyle= new Style({\n            fill: new Fill({\n              color: metadata[1]['color'][j]\n            }),\n            stroke: new Stroke({\n              color:'black',\n              width:0.2\n               })\n             })\n            };\n          }\n\n          this.state.smokerlayer.setStyle(newMapStyle)\n        }\n          \n          \n           //console.log(newMapStyle)\n           //this.state.smokerlayer.setStyle(newMapStyle)\n          \n        \n        \n        \n      } catch (error){\n        console.log(error);\n      }\n        \n    }; \n    \n  };\n  console.log(\"Done\")}\n\n  \n\n  \n  render() {\n    //console.log(\"-> render App\");\n    //console.log(\"before return\",this.state)\n    return (\n      console.log(\"after return\",this.state),\n      //{context},\n      <Context.Consumer>\n\n        {(context)=>(\n\n          <p>{context.state.attribute}</p>\n        )}\n      \n      </Context.Consumer>,\n      \n      <div id=\"mapContainer\" style={{ width: \"100%\",height: \"500px\"}}></div>\n      //console.log(this.state)\n      \n\n    );\n    \n  }\n\n\n}","/Users/rongxuan/Desktop/reactmap/reactmap/src/tasks/LoadData.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/components/SmokerLegend.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/components/metadata.js",[],[],"/Users/rongxuan/Desktop/reactmap/reactmap/src/components/dropdown.js",["118"],[],"import React, {useState} from 'react';\nimport {Context} from \"./context.js\"\nimport {metadata} from './metadata.js';\n\n\n\n\n\n\n/*\nfunction App() {\n  // Array of objects containing data\n  var attributes = []\n  for (var i =1; i<=Object.keys(metadata).length;i++) {\n    console.log(metadata[i]['attributename'])\n    //need put this info somewhere (inside the state)\n    attributes.push( { label: metadata[i]['attributename'], value: metadata[i]['geojson_url']}); \n  }\n  \n\n// Using state to keep track of selection\nvar [attribute, setAttribute] = useState(\"Select an attribute\")\nconsole.log(attribute)\n\n// Using this function to update the state \n// whenever a new option is selected from the dropdown\n// only if i could move it so smokermap could use it to update source link \nvar handleAttributeChange = (e) => {\n  setAttribute(e.target.value)\n  console.log(e.target.value)\n}\n\n  return (\n    \n    <Context.Consumer>\n      {(context)=>(\n    <div className=\"Dropdown\">\n    {attribute}\n    <br />\n   \n    <select onChange={context.handleChange}> \n      <option value=\" Select an attribute\"> -- Select an attribute -- </option>\n      {attributes.map((attribute) => <option value={attribute.value}> {attribute.label}</option>)}\n      console.log(attributes)\n    </select>\n    </div>\n    )}\n    </Context.Consumer>\n  );\n}\nexport default App;*/\n\nfunction Dropdown(){\n\n  var attributes = []\n  for (var i =1; i<=Object.keys(metadata).length;i++) {\n    console.log(metadata[i]['attributename'])\n    //need put this info somewhere (inside the state)\n    attributes.push( { label: metadata[i]['attributename'], value: metadata[i]['geojson_url']}); \n  }\n  \n\n// Using state to keep track of selection\n//console.log(attributes)\n\n  return(\n    //add an onChange event listener to the <select> tag and set the value to {context.handleChange}.\n    <Context.Consumer>\n      {(context)=>(\n      <div>\n      <p>Please Select an Attribute to Display</p>\n      <select onChange={context.handleChange}>\n        <option value=\" Select an attribute\"> -- Select an attribute -- </option>\n        {attributes.map((attribute) => <option value={attribute.value}> {attribute.label}</option>)}\n        console.log(attributes)\n      </select>\n    </div>\n      )}\n      \n    </Context.Consumer>\n\n  )\n\n\n\n}\nexport default Dropdown;",["119","120"],"/Users/rongxuan/Desktop/reactmap/reactmap/src/components/context.js",["121"],[],"import React, { useState } from \"react\";\nimport {metadata} from './metadata.js';\n\n\nexport const Context = React.createContext(\"Select an attribute\");\n\n//export const ccontext = React.createContext(\"Select a attribute\");\n\nexport const { Consumer } = Context;\n\n\n\n//this class will live a the top level of our application and \n//will store all data that we want to share with other components\n// need to add a value to <Context.Provider> tags\n\n\n\n\n \n\n  // Make the context object:\n  \n\n  // pass the value in provider and return\n  //return <Context.Provider value={usersContext}>{children}</Context.Provider>;\n\n\n\n\nexport class Provider extends React.Component{\n    state={\n        attribute: metadata[1]['geojson_url'] //default to total smoker\n        \n    }\n\n    \n    render(){\n        \n        //within the value, set state to be \"this.state\"\n        // add function to handle the change when selection is made to dropdown menu\n\n        return(\n            console.log(this.state),\n            async function getData(url){\n                const response =await fetch(url);\n                return response.json()\n            },\n            \n            //handleChange function sets the state of season to event.target.value \n            //which is the option from dropdown\n            <Context.Provider value ={{\n                state:this.state,\n                \n                //handleChange function sets the state of 'season' to 'event.target.value' \n                //(the option selected from the dropdown).\n                handleChange: (event) => this.setState({\n                    attribute: event.target.value,\n                   \n                    //data: ()=>{const response = fetch(this.state.attribute)\n                    //return response.json()}\n\n\n                }),\n                \n\n            }}>\n                \n                {this.props.children}\n            </Context.Provider>\n        )\n    }\n}",["122","123"],{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","severity":1,"message":"129","line":1,"column":27,"nodeType":"130","messageId":"131","endLine":1,"endColumn":36},{"ruleId":"128","severity":1,"message":"132","line":3,"column":8,"nodeType":"130","messageId":"131","endLine":3,"endColumn":16},{"ruleId":"128","severity":1,"message":"133","line":7,"column":12,"nodeType":"130","messageId":"131","endLine":7,"endColumn":20},{"ruleId":"128","severity":1,"message":"134","line":7,"column":22,"nodeType":"130","messageId":"131","endLine":7,"endColumn":33},{"ruleId":"128","severity":1,"message":"135","line":2,"column":22,"nodeType":"130","messageId":"131","endLine":2,"endColumn":25},{"ruleId":"128","severity":1,"message":"136","line":13,"column":15,"nodeType":"130","messageId":"131","endLine":13,"endColumn":21},{"ruleId":"124","replacedBy":"137"},{"ruleId":"126","replacedBy":"138"},{"ruleId":"128","severity":1,"message":"139","line":1,"column":17,"nodeType":"130","messageId":"131","endLine":1,"endColumn":25},{"ruleId":"128","severity":1,"message":"129","line":1,"column":27,"nodeType":"130","messageId":"131","endLine":1,"endColumn":36},{"ruleId":"128","severity":1,"message":"132","line":5,"column":8,"nodeType":"130","messageId":"131","endLine":5,"endColumn":16},{"ruleId":"128","severity":1,"message":"129","line":1,"column":17,"nodeType":"130","messageId":"131","endLine":1,"endColumn":26},{"ruleId":"128","severity":1,"message":"135","line":2,"column":22,"nodeType":"130","messageId":"131","endLine":2,"endColumn":25},{"ruleId":"128","severity":1,"message":"140","line":17,"column":8,"nodeType":"130","messageId":"131","endLine":17,"endColumn":16},{"ruleId":"128","severity":1,"message":"141","line":18,"column":8,"nodeType":"130","messageId":"131","endLine":18,"endColumn":19},{"ruleId":"128","severity":1,"message":"142","line":20,"column":10,"nodeType":"130","messageId":"131","endLine":20,"endColumn":20},{"ruleId":"143","severity":1,"message":"144","line":84,"column":13,"nodeType":"145","messageId":"146","endLine":84,"endColumn":15},{"ruleId":"128","severity":1,"message":"147","line":97,"column":11,"nodeType":"130","messageId":"131","endLine":97,"endColumn":16},{"ruleId":"128","severity":1,"message":"148","line":100,"column":13,"nodeType":"130","messageId":"131","endLine":100,"endColumn":21},{"ruleId":"149","severity":1,"message":"150","line":101,"column":13,"nodeType":"151","messageId":"152","endLine":101,"endColumn":30},{"ruleId":"128","severity":1,"message":"153","line":101,"column":13,"nodeType":"130","messageId":"131","endLine":101,"endColumn":21},{"ruleId":"128","severity":1,"message":"154","line":105,"column":17,"nodeType":"130","messageId":"131","endLine":105,"endColumn":27},{"ruleId":"143","severity":1,"message":"144","line":331,"column":32,"nodeType":"145","messageId":"146","endLine":331,"endColumn":34},{"ruleId":"128","severity":1,"message":"139","line":1,"column":16,"nodeType":"130","messageId":"131","endLine":1,"endColumn":24},{"ruleId":"124","replacedBy":"155"},{"ruleId":"126","replacedBy":"156"},{"ruleId":"128","severity":1,"message":"139","line":1,"column":17,"nodeType":"130","messageId":"131","endLine":1,"endColumn":25},{"ruleId":"124","replacedBy":"157"},{"ruleId":"126","replacedBy":"158"},"no-native-reassign",["159"],"no-negated-in-lhs",["160"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'LoadData' is defined but never used.","'counties' is assigned a value but never used.","'setCounties' is assigned a value but never used.","'get' is defined but never used.","'Stroke' is defined but never used.",["159"],["160"],"'useState' is defined but never used.","'Dropdown' is defined but never used.","'Whitesmoker' is defined but never used.","'useContext' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'value' is assigned a value but never used.","'oldvalue' is assigned a value but never used.","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","'newgeoid' is assigned a value but never used.","'newfeature' is assigned a value but never used.",["159"],["160"],["159"],["160"],"no-global-assign","no-unsafe-negation"]