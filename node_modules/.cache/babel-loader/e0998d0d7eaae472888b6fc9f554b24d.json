{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { BeanStub } from \"../context/beanStub\";\nimport { Events } from \"../events\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { missing, exists } from \"../utils/generic\";\nimport { isNumeric } from \"../utils/number\";\n\nvar PaginationProxy =\n/** @class */\nfunction (_super) {\n  __extends(PaginationProxy, _super);\n\n  function PaginationProxy() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.currentPage = 0;\n    _this.topDisplayedRowIndex = 0;\n    _this.bottomDisplayedRowIndex = 0;\n    _this.pixelOffset = 0;\n    _this.masterRowCount = 0;\n    return _this;\n  }\n\n  PaginationProxy.prototype.postConstruct = function () {\n    this.active = this.gridOptionsWrapper.isPagination();\n    this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n    this.addManagedListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, 'paginationPageSize', this.onPaginationPageSizeChanged.bind(this));\n    this.onModelUpdated();\n  };\n\n  PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n    var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n\n    if (res) {\n      this.calculatePages();\n    }\n\n    return res;\n  };\n\n  PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n    this.calculatePages();\n    var paginationChangedEvent = {\n      type: Events.EVENT_PAGINATION_CHANGED,\n      animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n      newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n      newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n      keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    };\n    this.eventService.dispatchEvent(paginationChangedEvent);\n  };\n\n  PaginationProxy.prototype.onPaginationPageSizeChanged = function () {\n    this.calculatePages();\n    var paginationChangedEvent = {\n      type: Events.EVENT_PAGINATION_CHANGED,\n      animate: false,\n      newData: false,\n      newPage: false,\n      // important to keep rendered rows, otherwise every time grid is resized,\n      // we would destroy all the rows.\n      keepRenderedRows: true,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    };\n    this.eventService.dispatchEvent(paginationChangedEvent);\n  };\n\n  PaginationProxy.prototype.goToPage = function (page) {\n    if (!this.active || this.currentPage === page) {\n      return;\n    }\n\n    this.currentPage = page;\n    var event = {\n      type: Events.EVENT_MODEL_UPDATED,\n      animate: false,\n      keepRenderedRows: false,\n      newData: false,\n      newPage: true,\n      api: this.gridApi,\n      columnApi: this.columnApi\n    };\n    this.onModelUpdated(event);\n  };\n\n  PaginationProxy.prototype.getPixelOffset = function () {\n    return this.pixelOffset;\n  };\n\n  PaginationProxy.prototype.getRow = function (index) {\n    return this.rowModel.getRow(index);\n  };\n\n  PaginationProxy.prototype.getRowNode = function (id) {\n    return this.rowModel.getRowNode(id);\n  };\n\n  PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n    return this.rowModel.getRowIndexAtPixel(pixel);\n  };\n\n  PaginationProxy.prototype.getCurrentPageHeight = function () {\n    if (missing(this.topRowBounds) || missing(this.bottomRowBounds)) {\n      return 0;\n    }\n\n    return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n  };\n\n  PaginationProxy.prototype.getCurrentPagePixelRange = function () {\n    var pageFirstPixel = this.topRowBounds ? this.topRowBounds.rowTop : 0;\n    var pageLastPixel = this.bottomRowBounds ? this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight : 0;\n    return {\n      pageFirstPixel: pageFirstPixel,\n      pageLastPixel: pageLastPixel\n    };\n  };\n\n  PaginationProxy.prototype.isRowPresent = function (rowNode) {\n    if (!this.rowModel.isRowPresent(rowNode)) {\n      return false;\n    }\n\n    var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n    return nodeIsInPage;\n  };\n\n  PaginationProxy.prototype.isEmpty = function () {\n    return this.rowModel.isEmpty();\n  };\n\n  PaginationProxy.prototype.isRowsToRender = function () {\n    return this.rowModel.isRowsToRender();\n  };\n\n  PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n    return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n  };\n\n  PaginationProxy.prototype.forEachNode = function (callback) {\n    return this.rowModel.forEachNode(callback);\n  };\n\n  PaginationProxy.prototype.getType = function () {\n    return this.rowModel.getType();\n  };\n\n  PaginationProxy.prototype.getRowBounds = function (index) {\n    var res = this.rowModel.getRowBounds(index);\n    res.rowIndex = index;\n    return res;\n  };\n\n  PaginationProxy.prototype.getPageFirstRow = function () {\n    return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n  };\n\n  PaginationProxy.prototype.getPageLastRow = function () {\n    return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n  };\n\n  PaginationProxy.prototype.getRowCount = function () {\n    return this.rowModel.getRowCount();\n  };\n\n  PaginationProxy.prototype.getPageForIndex = function (index) {\n    return Math.floor(index / this.pageSize);\n  };\n\n  PaginationProxy.prototype.goToPageWithIndex = function (index) {\n    if (!this.active) {\n      return;\n    }\n\n    var pageNumber = this.getPageForIndex(index);\n    this.goToPage(pageNumber);\n  };\n\n  PaginationProxy.prototype.isRowInPage = function (row) {\n    if (!this.active) {\n      return true;\n    }\n\n    var rowPage = this.getPageForIndex(row.rowIndex);\n    return rowPage === this.currentPage;\n  };\n\n  PaginationProxy.prototype.isLastPageFound = function () {\n    return this.rowModel.isLastRowIndexKnown();\n  };\n\n  PaginationProxy.prototype.getCurrentPage = function () {\n    return this.currentPage;\n  };\n\n  PaginationProxy.prototype.goToNextPage = function () {\n    this.goToPage(this.currentPage + 1);\n  };\n\n  PaginationProxy.prototype.goToPreviousPage = function () {\n    this.goToPage(this.currentPage - 1);\n  };\n\n  PaginationProxy.prototype.goToFirstPage = function () {\n    this.goToPage(0);\n  };\n\n  PaginationProxy.prototype.goToLastPage = function () {\n    var rowCount = this.rowModel.getRowCount();\n    var lastPage = Math.floor(rowCount / this.pageSize);\n    this.goToPage(lastPage);\n  };\n\n  PaginationProxy.prototype.getPageSize = function () {\n    return this.pageSize;\n  };\n\n  PaginationProxy.prototype.getTotalPages = function () {\n    return this.totalPages;\n  };\n\n  PaginationProxy.prototype.setPageSize = function () {\n    // show put this into super class\n    this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n\n    if (this.pageSize == null || this.pageSize < 1) {\n      this.pageSize = 100;\n    }\n  };\n\n  PaginationProxy.prototype.calculatePages = function () {\n    if (this.active) {\n      this.setPageSize();\n\n      if (this.paginateChildRows) {\n        this.calculatePagesAllRows();\n      } else {\n        this.calculatePagesMasterRowsOnly();\n      }\n    } else {\n      this.calculatedPagesNotActive();\n    }\n\n    this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n\n    if (this.topRowBounds) {\n      this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n    }\n\n    this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n\n    if (this.bottomRowBounds) {\n      this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n    }\n\n    this.setPixelOffset(exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0);\n  };\n\n  PaginationProxy.prototype.setPixelOffset = function (value) {\n    if (this.pixelOffset === value) {\n      return;\n    }\n\n    this.pixelOffset = value;\n    this.eventService.dispatchEvent({\n      type: Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED\n    });\n  };\n\n  PaginationProxy.prototype.setZeroRows = function () {\n    this.masterRowCount = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = -1;\n    this.currentPage = 0;\n    this.totalPages = 0;\n  };\n\n  PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n    // const csrm = <ClientSideRowModel> this.rowModel;\n    // const rootNode = csrm.getRootNode();\n    // const masterRows = rootNode.childrenAfterSort;\n    this.masterRowCount = this.rowModel.getTopLevelRowCount(); // we say <=0 (rather than =0) as viewport returns -1 when no rows\n\n    if (this.masterRowCount <= 0) {\n      this.setZeroRows();\n      return;\n    }\n\n    var masterLastRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(masterLastRowIndex / this.pageSize) + 1;\n\n    if (this.currentPage >= this.totalPages) {\n      this.currentPage = this.totalPages - 1;\n    }\n\n    if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n      this.currentPage = 0;\n    }\n\n    var masterPageStartIndex = this.pageSize * this.currentPage;\n    var masterPageEndIndex = this.pageSize * (this.currentPage + 1) - 1;\n\n    if (masterPageEndIndex > masterLastRowIndex) {\n      masterPageEndIndex = masterLastRowIndex;\n    }\n\n    this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex); // masterRows[masterPageStartIndex].rowIndex;\n\n    if (masterPageEndIndex === masterLastRowIndex) {\n      // if showing the last master row, then we want to show the very last row of the model\n      this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    } else {\n      var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1); //masterRows[masterPageEndIndex + 1].rowIndex;\n      // this gets the index of the last child - eg current row is open, we want to display all children,\n      // the index of the last child is one less than the index of the next parent row.\n\n      this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n    }\n  };\n\n  PaginationProxy.prototype.getMasterRowCount = function () {\n    return this.masterRowCount;\n  };\n\n  PaginationProxy.prototype.calculatePagesAllRows = function () {\n    this.masterRowCount = this.rowModel.getRowCount();\n\n    if (this.masterRowCount === 0) {\n      this.setZeroRows();\n      return;\n    }\n\n    var maxRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(maxRowIndex / this.pageSize) + 1;\n\n    if (this.currentPage >= this.totalPages) {\n      this.currentPage = this.totalPages - 1;\n    }\n\n    if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n      this.currentPage = 0;\n    }\n\n    this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n    this.bottomDisplayedRowIndex = this.pageSize * (this.currentPage + 1) - 1;\n\n    if (this.bottomDisplayedRowIndex > maxRowIndex) {\n      this.bottomDisplayedRowIndex = maxRowIndex;\n    }\n  };\n\n  PaginationProxy.prototype.calculatedPagesNotActive = function () {\n    this.pageSize = this.rowModel.getRowCount();\n    this.totalPages = 1;\n    this.currentPage = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n  };\n\n  __decorate([Autowired('rowModel')], PaginationProxy.prototype, \"rowModel\", void 0);\n\n  __decorate([Autowired('columnApi')], PaginationProxy.prototype, \"columnApi\", void 0);\n\n  __decorate([Autowired('gridApi')], PaginationProxy.prototype, \"gridApi\", void 0);\n\n  __decorate([PostConstruct], PaginationProxy.prototype, \"postConstruct\", null);\n\n  PaginationProxy = __decorate([Bean('paginationProxy')], PaginationProxy);\n  return PaginationProxy;\n}(BeanStub);\n\nexport { PaginationProxy };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/pagination/paginationProxy.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","BeanStub","Events","Autowired","Bean","PostConstruct","missing","exists","isNumeric","PaginationProxy","_super","_this","apply","currentPage","topDisplayedRowIndex","bottomDisplayedRowIndex","pixelOffset","masterRowCount","postConstruct","active","gridOptionsWrapper","isPagination","paginateChildRows","isPaginateChildRows","addManagedListener","eventService","EVENT_MODEL_UPDATED","onModelUpdated","bind","onPaginationPageSizeChanged","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","res","rowModel","getPageFirstRow","getPageLastRow","calculatePages","modelUpdatedEvent","paginationChangedEvent","type","EVENT_PAGINATION_CHANGED","animate","newData","newPage","keepRenderedRows","api","gridApi","columnApi","dispatchEvent","goToPage","page","event","getPixelOffset","getRow","index","getRowNode","id","getRowIndexAtPixel","pixel","getCurrentPageHeight","topRowBounds","bottomRowBounds","Math","max","rowTop","rowHeight","getCurrentPagePixelRange","pageFirstPixel","pageLastPixel","isRowPresent","rowNode","nodeIsInPage","rowIndex","isEmpty","isRowsToRender","getNodesInRangeForSelection","firstInRange","lastInRange","forEachNode","callback","getType","getRowBounds","getRowCount","getPageForIndex","floor","pageSize","goToPageWithIndex","pageNumber","isRowInPage","row","rowPage","isLastPageFound","isLastRowIndexKnown","getCurrentPage","goToNextPage","goToPreviousPage","goToFirstPage","goToLastPage","rowCount","lastPage","getPageSize","getTotalPages","totalPages","setPageSize","getPaginationPageSize","calculatePagesAllRows","calculatePagesMasterRowsOnly","calculatedPagesNotActive","setPixelOffset","value","EVENT_PAGINATION_PIXEL_OFFSET_CHANGED","setZeroRows","getTopLevelRowCount","masterLastRowIndex","masterPageStartIndex","masterPageEndIndex","getTopLevelRowDisplayedIndex","firstIndexNotToShow","getMasterRowCount","maxRowIndex"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Events } from \"../events\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { missing, exists } from \"../utils/generic\";\nimport { isNumeric } from \"../utils/number\";\nvar PaginationProxy = /** @class */ (function (_super) {\n    __extends(PaginationProxy, _super);\n    function PaginationProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPage = 0;\n        _this.topDisplayedRowIndex = 0;\n        _this.bottomDisplayedRowIndex = 0;\n        _this.pixelOffset = 0;\n        _this.masterRowCount = 0;\n        return _this;\n    }\n    PaginationProxy.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isPagination();\n        this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n        this.addManagedListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, 'paginationPageSize', this.onPaginationPageSizeChanged.bind(this));\n        this.onModelUpdated();\n    };\n    PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n        if (res) {\n            this.calculatePages();\n        }\n        return res;\n    };\n    PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: Events.EVENT_PAGINATION_CHANGED,\n            animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n            newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n            newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n            keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.onPaginationPageSizeChanged = function () {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: Events.EVENT_PAGINATION_CHANGED,\n            animate: false,\n            newData: false,\n            newPage: false,\n            // important to keep rendered rows, otherwise every time grid is resized,\n            // we would destroy all the rows.\n            keepRenderedRows: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.goToPage = function (page) {\n        if (!this.active || this.currentPage === page) {\n            return;\n        }\n        this.currentPage = page;\n        var event = {\n            type: Events.EVENT_MODEL_UPDATED,\n            animate: false,\n            keepRenderedRows: false,\n            newData: false,\n            newPage: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.onModelUpdated(event);\n    };\n    PaginationProxy.prototype.getPixelOffset = function () {\n        return this.pixelOffset;\n    };\n    PaginationProxy.prototype.getRow = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    PaginationProxy.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n        return this.rowModel.getRowIndexAtPixel(pixel);\n    };\n    PaginationProxy.prototype.getCurrentPageHeight = function () {\n        if (missing(this.topRowBounds) || missing(this.bottomRowBounds)) {\n            return 0;\n        }\n        return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n    };\n    PaginationProxy.prototype.getCurrentPagePixelRange = function () {\n        var pageFirstPixel = this.topRowBounds ? this.topRowBounds.rowTop : 0;\n        var pageLastPixel = this.bottomRowBounds ? this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight : 0;\n        return { pageFirstPixel: pageFirstPixel, pageLastPixel: pageLastPixel };\n    };\n    PaginationProxy.prototype.isRowPresent = function (rowNode) {\n        if (!this.rowModel.isRowPresent(rowNode)) {\n            return false;\n        }\n        var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n        return nodeIsInPage;\n    };\n    PaginationProxy.prototype.isEmpty = function () {\n        return this.rowModel.isEmpty();\n    };\n    PaginationProxy.prototype.isRowsToRender = function () {\n        return this.rowModel.isRowsToRender();\n    };\n    PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n    };\n    PaginationProxy.prototype.forEachNode = function (callback) {\n        return this.rowModel.forEachNode(callback);\n    };\n    PaginationProxy.prototype.getType = function () {\n        return this.rowModel.getType();\n    };\n    PaginationProxy.prototype.getRowBounds = function (index) {\n        var res = this.rowModel.getRowBounds(index);\n        res.rowIndex = index;\n        return res;\n    };\n    PaginationProxy.prototype.getPageFirstRow = function () {\n        return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getPageLastRow = function () {\n        return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    PaginationProxy.prototype.getPageForIndex = function (index) {\n        return Math.floor(index / this.pageSize);\n    };\n    PaginationProxy.prototype.goToPageWithIndex = function (index) {\n        if (!this.active) {\n            return;\n        }\n        var pageNumber = this.getPageForIndex(index);\n        this.goToPage(pageNumber);\n    };\n    PaginationProxy.prototype.isRowInPage = function (row) {\n        if (!this.active) {\n            return true;\n        }\n        var rowPage = this.getPageForIndex(row.rowIndex);\n        return rowPage === this.currentPage;\n    };\n    PaginationProxy.prototype.isLastPageFound = function () {\n        return this.rowModel.isLastRowIndexKnown();\n    };\n    PaginationProxy.prototype.getCurrentPage = function () {\n        return this.currentPage;\n    };\n    PaginationProxy.prototype.goToNextPage = function () {\n        this.goToPage(this.currentPage + 1);\n    };\n    PaginationProxy.prototype.goToPreviousPage = function () {\n        this.goToPage(this.currentPage - 1);\n    };\n    PaginationProxy.prototype.goToFirstPage = function () {\n        this.goToPage(0);\n    };\n    PaginationProxy.prototype.goToLastPage = function () {\n        var rowCount = this.rowModel.getRowCount();\n        var lastPage = Math.floor(rowCount / this.pageSize);\n        this.goToPage(lastPage);\n    };\n    PaginationProxy.prototype.getPageSize = function () {\n        return this.pageSize;\n    };\n    PaginationProxy.prototype.getTotalPages = function () {\n        return this.totalPages;\n    };\n    PaginationProxy.prototype.setPageSize = function () {\n        // show put this into super class\n        this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n        if (this.pageSize == null || this.pageSize < 1) {\n            this.pageSize = 100;\n        }\n    };\n    PaginationProxy.prototype.calculatePages = function () {\n        if (this.active) {\n            this.setPageSize();\n            if (this.paginateChildRows) {\n                this.calculatePagesAllRows();\n            }\n            else {\n                this.calculatePagesMasterRowsOnly();\n            }\n        }\n        else {\n            this.calculatedPagesNotActive();\n        }\n        this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n        if (this.topRowBounds) {\n            this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n        }\n        this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n        if (this.bottomRowBounds) {\n            this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n        }\n        this.setPixelOffset(exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0);\n    };\n    PaginationProxy.prototype.setPixelOffset = function (value) {\n        if (this.pixelOffset === value) {\n            return;\n        }\n        this.pixelOffset = value;\n        this.eventService.dispatchEvent({ type: Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED });\n    };\n    PaginationProxy.prototype.setZeroRows = function () {\n        this.masterRowCount = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = -1;\n        this.currentPage = 0;\n        this.totalPages = 0;\n    };\n    PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n        // const csrm = <ClientSideRowModel> this.rowModel;\n        // const rootNode = csrm.getRootNode();\n        // const masterRows = rootNode.childrenAfterSort;\n        this.masterRowCount = this.rowModel.getTopLevelRowCount();\n        // we say <=0 (rather than =0) as viewport returns -1 when no rows\n        if (this.masterRowCount <= 0) {\n            this.setZeroRows();\n            return;\n        }\n        var masterLastRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((masterLastRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        var masterPageStartIndex = this.pageSize * this.currentPage;\n        var masterPageEndIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (masterPageEndIndex > masterLastRowIndex) {\n            masterPageEndIndex = masterLastRowIndex;\n        }\n        this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);\n        // masterRows[masterPageStartIndex].rowIndex;\n        if (masterPageEndIndex === masterLastRowIndex) {\n            // if showing the last master row, then we want to show the very last row of the model\n            this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n        }\n        else {\n            var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1);\n            //masterRows[masterPageEndIndex + 1].rowIndex;\n            // this gets the index of the last child - eg current row is open, we want to display all children,\n            // the index of the last child is one less than the index of the next parent row.\n            this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n        }\n    };\n    PaginationProxy.prototype.getMasterRowCount = function () {\n        return this.masterRowCount;\n    };\n    PaginationProxy.prototype.calculatePagesAllRows = function () {\n        this.masterRowCount = this.rowModel.getRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var maxRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((maxRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n        this.bottomDisplayedRowIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (this.bottomDisplayedRowIndex > maxRowIndex) {\n            this.bottomDisplayedRowIndex = maxRowIndex;\n        }\n    };\n    PaginationProxy.prototype.calculatedPagesNotActive = function () {\n        this.pageSize = this.rowModel.getRowCount();\n        this.totalPages = 1;\n        this.currentPage = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    };\n    __decorate([\n        Autowired('rowModel')\n    ], PaginationProxy.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], PaginationProxy.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], PaginationProxy.prototype, \"gridApi\", void 0);\n    __decorate([\n        PostConstruct\n    ], PaginationProxy.prototype, \"postConstruct\", null);\n    PaginationProxy = __decorate([\n        Bean('paginationProxy')\n    ], PaginationProxy);\n    return PaginationProxy;\n}(BeanStub));\nexport { PaginationProxy };\n"]},"metadata":{},"sourceType":"module"}