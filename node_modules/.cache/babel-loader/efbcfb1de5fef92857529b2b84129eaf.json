{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { BeanStub } from \"../../context/beanStub\";\nimport { Autowired } from \"../../context/context\";\nimport { addCssClass, containsClass, getAbsoluteHeight, getAbsoluteWidth, removeCssClass, setFixedHeight, setFixedWidth } from \"../../utils/dom\";\nimport { assign } from \"../../utils/object\";\nvar RESIZE_CONTAINER_STYLE = 'ag-resizer-wrapper';\nvar RESIZE_TEMPLATE =\n/* html */\n\"<div class=\\\"\" + RESIZE_CONTAINER_STYLE + \"\\\">\\n        <div ref=\\\"eTopLeftResizer\\\" class=\\\"ag-resizer ag-resizer-topLeft\\\"></div>\\n        <div ref=\\\"eTopResizer\\\" class=\\\"ag-resizer ag-resizer-top\\\"></div>\\n        <div ref=\\\"eTopRightResizer\\\" class=\\\"ag-resizer ag-resizer-topRight\\\"></div>\\n        <div ref=\\\"eRightResizer\\\" class=\\\"ag-resizer ag-resizer-right\\\"></div>\\n        <div ref=\\\"eBottomRightResizer\\\" class=\\\"ag-resizer ag-resizer-bottomRight\\\"></div>\\n        <div ref=\\\"eBottomResizer\\\" class=\\\"ag-resizer ag-resizer-bottom\\\"></div>\\n        <div ref=\\\"eBottomLeftResizer\\\" class=\\\"ag-resizer ag-resizer-bottomLeft\\\"></div>\\n        <div ref=\\\"eLeftResizer\\\" class=\\\"ag-resizer ag-resizer-left\\\"></div>\\n    </div>\";\n\nvar PositionableFeature =\n/** @class */\nfunction (_super) {\n  __extends(PositionableFeature, _super);\n\n  function PositionableFeature(element, config) {\n    var _this = _super.call(this) || this;\n\n    _this.element = element;\n    _this.dragStartPosition = {\n      x: 0,\n      y: 0\n    };\n    _this.position = {\n      x: 0,\n      y: 0\n    };\n    _this.lastSize = {\n      width: -1,\n      height: -1\n    };\n    _this.positioned = false;\n    _this.resizersAdded = false;\n    _this.resizeListeners = [];\n    _this.boundaryEl = null;\n    _this.isResizing = false;\n    _this.isMoving = false;\n    _this.resizable = {};\n    _this.movable = false;\n    _this.currentResizer = null;\n    _this.config = assign({}, {\n      popup: false\n    }, config);\n    return _this;\n  }\n\n  PositionableFeature.prototype.center = function () {\n    var _a = this.offsetParent,\n        clientHeight = _a.clientHeight,\n        clientWidth = _a.clientWidth;\n    var x = clientWidth / 2 - this.getWidth() / 2;\n    var y = clientHeight / 2 - this.getHeight() / 2;\n    this.offsetElement(x, y);\n  };\n\n  PositionableFeature.prototype.initialisePosition = function () {\n    var _a = this.config,\n        centered = _a.centered,\n        forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent,\n        minWidth = _a.minWidth,\n        width = _a.width,\n        minHeight = _a.minHeight,\n        height = _a.height,\n        x = _a.x,\n        y = _a.y;\n\n    if (!this.offsetParent) {\n      this.setOffsetParent();\n    }\n\n    var computedMinHeight = 0;\n    var computedMinWidth = 0; // here we don't use the main offset parent but the element's offsetParent\n    // in order to calculated the minWidth and minHeight correctly\n\n    var isVisible = !!this.element.offsetParent;\n\n    if (isVisible) {\n      var boundaryEl = this.findBoundaryElement();\n      var offsetParentComputedStyles = window.getComputedStyle(boundaryEl);\n\n      if (offsetParentComputedStyles.minWidth != null) {\n        var paddingWidth = boundaryEl.offsetWidth - this.element.offsetWidth;\n        computedMinWidth = parseInt(offsetParentComputedStyles.minWidth, 10) - paddingWidth;\n      }\n\n      if (offsetParentComputedStyles.minHeight != null) {\n        var paddingHeight = boundaryEl.offsetHeight - this.element.offsetHeight;\n        computedMinHeight = parseInt(offsetParentComputedStyles.minHeight, 10) - paddingHeight;\n      }\n    }\n\n    this.minHeight = minHeight || computedMinHeight;\n    this.minWidth = minWidth || computedMinWidth;\n\n    if (width) {\n      this.setWidth(width);\n    }\n\n    if (height) {\n      this.setHeight(height);\n    }\n\n    if (!width || !height) {\n      this.refreshSize();\n    }\n\n    if (centered) {\n      this.center();\n    } else if (x || y) {\n      this.offsetElement(x, y);\n    } else if (isVisible && forcePopupParentAsOffsetParent && this.boundaryEl) {\n      var top_1 = parseFloat(this.boundaryEl.style.top);\n      var left = parseFloat(this.boundaryEl.style.left);\n      this.offsetElement(isNaN(left) ? 0 : left, isNaN(top_1) ? 0 : top_1);\n    }\n\n    this.positioned = !!this.offsetParent;\n  };\n\n  PositionableFeature.prototype.isPositioned = function () {\n    return this.positioned;\n  };\n\n  PositionableFeature.prototype.getPosition = function () {\n    return this.position;\n  };\n\n  PositionableFeature.prototype.setMovable = function (movable, moveElement) {\n    if (!this.config.popup || movable === this.movable) {\n      return;\n    }\n\n    this.movable = movable;\n    var params = this.moveElementDragListener || {\n      eElement: moveElement,\n      onDragStart: this.onMoveStart.bind(this),\n      onDragging: this.onMove.bind(this),\n      onDragStop: this.onMoveEnd.bind(this)\n    };\n\n    if (movable) {\n      this.dragService.addDragSource(params);\n      this.moveElementDragListener = params;\n    } else {\n      this.dragService.removeDragSource(params);\n      this.moveElementDragListener = undefined;\n    }\n  };\n\n  PositionableFeature.prototype.setResizable = function (resizable) {\n    var _this = this;\n\n    this.clearResizeListeners();\n\n    if (resizable) {\n      this.addResizers();\n    } else {\n      this.removeResizers();\n    }\n\n    if (typeof resizable === 'boolean') {\n      if (resizable === false) {\n        return;\n      }\n\n      resizable = {\n        topLeft: resizable,\n        top: resizable,\n        topRight: resizable,\n        right: resizable,\n        bottomRight: resizable,\n        bottom: resizable,\n        bottomLeft: resizable,\n        left: resizable\n      };\n    }\n\n    Object.keys(resizable).forEach(function (side) {\n      var resizableStructure = resizable;\n      var val = !!resizableStructure[side];\n\n      var resizerEl = _this.getResizerElement(side);\n\n      var params = {\n        dragStartPixels: 0,\n        eElement: resizerEl,\n        onDragStart: function (e) {\n          return _this.onResizeStart(e, side);\n        },\n        onDragging: _this.onResize.bind(_this),\n        onDragStop: function (e) {\n          return _this.onResizeEnd(e, side);\n        }\n      };\n\n      if (!!_this.resizable[side] !== val || !_this.isAlive() && !val) {\n        if (val) {\n          _this.dragService.addDragSource(params);\n\n          _this.resizeListeners.push(params);\n\n          resizerEl.style.pointerEvents = 'all';\n        } else {\n          resizerEl.style.pointerEvents = 'none';\n        }\n      }\n    });\n  };\n\n  PositionableFeature.prototype.removeSizeFromEl = function () {\n    this.element.style.removeProperty('height');\n    this.element.style.removeProperty('width');\n    this.element.style.removeProperty('flex');\n  };\n\n  PositionableFeature.prototype.restoreLastSize = function () {\n    this.element.style.flex = '0 0 auto';\n    var _a = this.lastSize,\n        height = _a.height,\n        width = _a.width;\n\n    if (width !== -1) {\n      this.element.style.width = width + \"px\";\n    }\n\n    if (height !== -1) {\n      this.element.style.height = height + \"px\";\n    }\n  };\n\n  PositionableFeature.prototype.getHeight = function () {\n    return this.element.offsetHeight;\n  };\n\n  PositionableFeature.prototype.setHeight = function (height) {\n    var popup = this.config.popup;\n    var eGui = this.element;\n    var isPercent = false;\n\n    if (typeof height === 'string' && height.indexOf('%') !== -1) {\n      setFixedHeight(eGui, height);\n      height = getAbsoluteHeight(eGui);\n      isPercent = true;\n    } else if (this.positioned) {\n      var elRect = this.element.getBoundingClientRect();\n      var parentRect = this.offsetParent.getBoundingClientRect();\n      height = Math.max(this.minHeight, height);\n      var clientHeight = this.offsetParent.clientHeight;\n      var yPosition = popup ? this.position.y : elRect.top;\n      var parentTop = popup ? 0 : parentRect.top;\n\n      if (clientHeight && height + yPosition > clientHeight + parentTop) {\n        height = clientHeight - yPosition;\n      }\n    }\n\n    if (this.getHeight() === height) {\n      return;\n    }\n\n    if (!isPercent) {\n      if (popup) {\n        setFixedHeight(eGui, height);\n      } else {\n        eGui.style.height = height + \"px\";\n        eGui.style.flex = '0 0 auto';\n        this.lastSize.height = typeof height === 'number' ? height : parseFloat(height);\n      }\n    } else {\n      eGui.style.maxHeight = 'unset';\n      eGui.style.minHeight = 'unset';\n    }\n  };\n\n  PositionableFeature.prototype.getWidth = function () {\n    return this.element.offsetWidth;\n  };\n\n  PositionableFeature.prototype.setWidth = function (width) {\n    var eGui = this.element;\n    var popup = this.config.popup;\n    var isPercent = false;\n\n    if (typeof width === 'string' && width.indexOf('%') !== -1) {\n      setFixedWidth(eGui, width);\n      width = getAbsoluteWidth(eGui);\n      isPercent = true;\n    } else if (this.positioned) {\n      width = Math.max(this.minWidth, width);\n      var clientWidth = this.offsetParent.clientWidth;\n      var xPosition = popup ? this.position.x : this.element.getBoundingClientRect().left;\n\n      if (clientWidth && width + xPosition > clientWidth) {\n        width = clientWidth - xPosition;\n      }\n    }\n\n    if (this.getWidth() === width) {\n      return;\n    }\n\n    if (!isPercent) {\n      if (this.config.popup) {\n        setFixedWidth(eGui, width);\n      } else {\n        eGui.style.width = width + \"px\";\n        eGui.style.flex = ' unset';\n        this.lastSize.width = typeof width === 'number' ? width : parseFloat(width);\n      }\n    } else {\n      eGui.style.maxWidth = 'unset';\n      eGui.style.minWidth = 'unset';\n    }\n  };\n\n  PositionableFeature.prototype.offsetElement = function (x, y) {\n    if (x === void 0) {\n      x = 0;\n    }\n\n    if (y === void 0) {\n      y = 0;\n    }\n\n    var ePopup = this.config.forcePopupParentAsOffsetParent ? this.boundaryEl : this.element;\n    this.popupService.positionPopup({\n      ePopup: ePopup,\n      x: x,\n      y: y,\n      keepWithinBounds: true\n    });\n    this.setPosition(parseFloat(ePopup.style.left), parseFloat(ePopup.style.top));\n  };\n\n  PositionableFeature.prototype.setPosition = function (x, y) {\n    this.position.x = x;\n    this.position.y = y;\n  };\n\n  PositionableFeature.prototype.updateDragStartPosition = function (x, y) {\n    this.dragStartPosition = {\n      x: x,\n      y: y\n    };\n  };\n\n  PositionableFeature.prototype.calculateMouseMovement = function (params) {\n    var e = params.e,\n        isLeft = params.isLeft,\n        isTop = params.isTop,\n        anywhereWithin = params.anywhereWithin,\n        topBuffer = params.topBuffer;\n    var xDiff = e.clientX - this.dragStartPosition.x;\n    var yDiff = e.clientY - this.dragStartPosition.y;\n    var movementX = this.shouldSkipX(e, !!isLeft, !!anywhereWithin, xDiff) ? 0 : xDiff;\n    var movementY = this.shouldSkipY(e, !!isTop, topBuffer, yDiff) ? 0 : yDiff;\n    return {\n      movementX: movementX,\n      movementY: movementY\n    };\n  };\n\n  PositionableFeature.prototype.shouldSkipX = function (e, isLeft, anywhereWithin, diff) {\n    var elRect = this.element.getBoundingClientRect();\n    var parentRect = this.offsetParent.getBoundingClientRect();\n    var boundaryElRect = this.boundaryEl.getBoundingClientRect();\n    var xPosition = this.config.popup ? this.position.x : elRect.left; // skip if cursor is outside of popupParent horizontally\n\n    var skipX = xPosition <= 0 && parentRect.left >= e.clientX || parentRect.right <= e.clientX && parentRect.right <= boundaryElRect.right;\n\n    if (skipX) {\n      return true;\n    }\n\n    if (isLeft) {\n      skipX = // skip if we are moving to the left and the cursor\n      // is positioned to the right of the left side anchor\n      diff < 0 && e.clientX > xPosition + parentRect.left || // skip if we are moving to the right and the cursor\n      // is positioned to the left of the dialog\n      diff > 0 && e.clientX < xPosition + parentRect.left;\n    } else {\n      if (anywhereWithin) {\n        // if anywhereWithin is true, we allow to move\n        // as long as the cursor is within the dialog\n        skipX = diff < 0 && e.clientX > boundaryElRect.right || diff > 0 && e.clientX < xPosition + parentRect.left;\n      } else {\n        skipX = // if the movement is bound to the right side of the dialog\n        // we skip if we are moving to the left and the cursor\n        // is to the right of the dialog\n        diff < 0 && e.clientX > boundaryElRect.right || // or skip if we are moving to the right and the cursor\n        // is to the left of the right side anchor\n        diff > 0 && e.clientX < boundaryElRect.right;\n      }\n    }\n\n    return skipX;\n  };\n\n  PositionableFeature.prototype.shouldSkipY = function (e, isTop, topBuffer, diff) {\n    if (topBuffer === void 0) {\n      topBuffer = 0;\n    }\n\n    var elRect = this.element.getBoundingClientRect();\n    var parentRect = this.offsetParent.getBoundingClientRect();\n    var boundaryElRect = this.boundaryEl.getBoundingClientRect();\n    var yPosition = this.config.popup ? this.position.y : elRect.top; // skip if cursor is outside of popupParent vertically\n\n    var skipY = yPosition <= 0 && parentRect.top >= e.clientY || parentRect.bottom <= e.clientY && parentRect.bottom <= boundaryElRect.bottom;\n\n    if (skipY) {\n      return true;\n    }\n\n    if (isTop) {\n      skipY = // skip if we are moving to towards top and the cursor is\n      // below the top anchor + topBuffer\n      // note: topBuffer is used when moving the dialog using the title bar\n      diff < 0 && e.clientY > yPosition + parentRect.top + topBuffer || // skip if we are moving to the bottom and the cursor is\n      // above the top anchor\n      diff > 0 && e.clientY < yPosition + parentRect.top;\n    } else {\n      skipY = // skip if we are moving towards the top and the cursor\n      // is below the bottom anchor\n      diff < 0 && e.clientY > boundaryElRect.bottom || // skip if we are moving towards the bottom and the cursor\n      // is above the bottom anchor\n      diff > 0 && e.clientY < boundaryElRect.bottom;\n    }\n\n    return skipY;\n  };\n\n  PositionableFeature.prototype.createResizeMap = function () {\n    var eGui = this.element;\n    this.resizerMap = {\n      topLeft: {\n        element: eGui.querySelector('[ref=eTopLeftResizer]')\n      },\n      top: {\n        element: eGui.querySelector('[ref=eTopResizer]')\n      },\n      topRight: {\n        element: eGui.querySelector('[ref=eTopRightResizer]')\n      },\n      right: {\n        element: eGui.querySelector('[ref=eRightResizer]')\n      },\n      bottomRight: {\n        element: eGui.querySelector('[ref=eBottomRightResizer]')\n      },\n      bottom: {\n        element: eGui.querySelector('[ref=eBottomResizer]')\n      },\n      bottomLeft: {\n        element: eGui.querySelector('[ref=eBottomLeftResizer]')\n      },\n      left: {\n        element: eGui.querySelector('[ref=eLeftResizer]')\n      }\n    };\n  };\n\n  PositionableFeature.prototype.addResizers = function () {\n    if (this.resizersAdded) {\n      return;\n    }\n\n    var eGui = this.element;\n\n    if (!eGui) {\n      return;\n    }\n\n    var parser = new DOMParser();\n    var resizers = parser.parseFromString(RESIZE_TEMPLATE, 'text/html').body;\n    eGui.appendChild(resizers.firstChild);\n    this.createResizeMap();\n    this.resizersAdded = true;\n  };\n\n  PositionableFeature.prototype.removeResizers = function () {\n    this.resizerMap = undefined;\n    var resizerEl = this.element.querySelector(\".\" + RESIZE_CONTAINER_STYLE);\n\n    if (resizerEl) {\n      this.element.removeChild(resizerEl);\n    }\n\n    this.resizersAdded = false;\n  };\n\n  PositionableFeature.prototype.getResizerElement = function (side) {\n    return this.resizerMap[side].element;\n  };\n\n  PositionableFeature.prototype.onResizeStart = function (e, side) {\n    this.boundaryEl = this.findBoundaryElement();\n\n    if (!this.positioned) {\n      this.initialisePosition();\n    }\n\n    this.currentResizer = {\n      isTop: !!side.match(/top/i),\n      isRight: !!side.match(/right/i),\n      isBottom: !!side.match(/bottom/i),\n      isLeft: !!side.match(/left/i)\n    };\n    addCssClass(this.element, 'ag-resizing');\n    addCssClass(this.resizerMap[side].element, 'ag-active');\n    var _a = this.config,\n        popup = _a.popup,\n        forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent;\n\n    if (!popup && !forcePopupParentAsOffsetParent) {\n      this.applySizeToSiblings(this.currentResizer.isBottom || this.currentResizer.isTop);\n    }\n\n    this.isResizing = true;\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  };\n\n  PositionableFeature.prototype.getSiblings = function () {\n    var element = this.element;\n    var parent = element.parentElement;\n\n    if (!parent) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(parent.children).filter(function (el) {\n      return !containsClass(el, 'ag-hidden');\n    });\n  };\n\n  PositionableFeature.prototype.getMinSizeOfSiblings = function () {\n    var siblings = this.getSiblings() || [];\n    var height = 0;\n    var width = 0;\n\n    for (var i = 0; i < siblings.length; i++) {\n      var currentEl = siblings[i];\n      var isFlex = !!currentEl.style.flex && currentEl.style.flex !== '0 0 auto';\n\n      if (currentEl === this.element) {\n        continue;\n      }\n\n      var nextHeight = this.minHeight || 0;\n      var nextWidth = this.minWidth || 0;\n\n      if (isFlex) {\n        var computedStyle = window.getComputedStyle(currentEl);\n\n        if (computedStyle.minHeight) {\n          nextHeight = parseInt(computedStyle.minHeight, 10);\n        }\n\n        if (computedStyle.minWidth) {\n          nextWidth = parseInt(computedStyle.minWidth, 10);\n        }\n      } else {\n        nextHeight = currentEl.offsetHeight;\n        nextWidth = currentEl.offsetWidth;\n      }\n\n      height += nextHeight;\n      width += nextWidth;\n    }\n\n    return {\n      height: height,\n      width: width\n    };\n  };\n\n  PositionableFeature.prototype.applySizeToSiblings = function (vertical) {\n    var containerToFlex = null;\n    var siblings = this.getSiblings();\n\n    if (!siblings) {\n      return;\n    }\n\n    for (var i = 0; i < siblings.length; i++) {\n      var el = siblings[i];\n\n      if (el === containerToFlex) {\n        continue;\n      }\n\n      if (vertical) {\n        el.style.height = el.offsetHeight + \"px\";\n      } else {\n        el.style.width = el.offsetWidth + \"px\";\n      }\n\n      el.style.flex = '0 0 auto';\n\n      if (el === this.element) {\n        containerToFlex = siblings[i + 1];\n      }\n    }\n\n    if (containerToFlex) {\n      containerToFlex.style.removeProperty('height');\n      containerToFlex.style.removeProperty('min-height');\n      containerToFlex.style.removeProperty('max-height');\n      containerToFlex.style.flex = '1 1 auto';\n    }\n  };\n\n  PositionableFeature.prototype.onResize = function (e) {\n    if (!this.isResizing || !this.currentResizer) {\n      return;\n    }\n\n    var _a = this.config,\n        popup = _a.popup,\n        forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent;\n    var _b = this.currentResizer,\n        isTop = _b.isTop,\n        isRight = _b.isRight,\n        isBottom = _b.isBottom,\n        isLeft = _b.isLeft;\n    var isHorizontal = isRight || isLeft;\n    var isVertical = isBottom || isTop;\n\n    var _c = this.calculateMouseMovement({\n      e: e,\n      isLeft: isLeft,\n      isTop: isTop\n    }),\n        movementX = _c.movementX,\n        movementY = _c.movementY;\n\n    var xPosition = this.position.x;\n    var yPosition = this.position.y;\n    var offsetLeft = 0;\n    var offsetTop = 0;\n\n    if (isHorizontal && movementX) {\n      var direction = isLeft ? -1 : 1;\n      var oldWidth = this.getWidth();\n      var newWidth = oldWidth + movementX * direction;\n      var skipWidth = false;\n\n      if (isLeft) {\n        offsetLeft = oldWidth - newWidth;\n\n        if (xPosition + offsetLeft <= 0 || newWidth <= this.minWidth) {\n          skipWidth = true;\n          offsetLeft = 0;\n        }\n      }\n\n      if (!skipWidth) {\n        this.setWidth(newWidth);\n      }\n    }\n\n    if (isVertical && movementY) {\n      var direction = isTop ? -1 : 1;\n      var oldHeight = this.getHeight();\n      var newHeight = oldHeight + movementY * direction;\n      var skipHeight = false;\n\n      if (isTop) {\n        offsetTop = oldHeight - newHeight;\n\n        if (yPosition + offsetTop <= 0 || newHeight <= this.minHeight) {\n          skipHeight = true;\n          offsetTop = 0;\n        }\n      } else {\n        // do not let the size of all siblings be higher than the parent container\n        if (!this.config.popup && !this.config.forcePopupParentAsOffsetParent && oldHeight < newHeight && this.getMinSizeOfSiblings().height + newHeight > this.element.parentElement.offsetHeight) {\n          skipHeight = true;\n        }\n      }\n\n      if (!skipHeight) {\n        this.setHeight(newHeight);\n      }\n    }\n\n    this.updateDragStartPosition(e.clientX, e.clientY);\n\n    if ((popup || forcePopupParentAsOffsetParent) && offsetLeft || offsetTop) {\n      this.offsetElement(xPosition + offsetLeft, yPosition + offsetTop);\n    }\n  };\n\n  PositionableFeature.prototype.onResizeEnd = function (e, side) {\n    this.isResizing = false;\n    this.currentResizer = null;\n    this.boundaryEl = null;\n    var params = {\n      type: 'resize',\n      api: this.gridOptionsWrapper.getApi(),\n      columnApi: this.gridOptionsWrapper.getColumnApi()\n    };\n    removeCssClass(this.element, 'ag-resizing');\n    removeCssClass(this.resizerMap[side].element, 'ag-active');\n    this.dispatchEvent(params);\n  };\n\n  PositionableFeature.prototype.refreshSize = function () {\n    var eGui = this.element;\n\n    if (this.config.popup) {\n      if (!this.config.width) {\n        this.setWidth(eGui.offsetWidth);\n      }\n\n      if (!this.config.height) {\n        this.setHeight(eGui.offsetHeight);\n      }\n    }\n  };\n\n  PositionableFeature.prototype.onMoveStart = function (e) {\n    this.boundaryEl = this.findBoundaryElement();\n\n    if (!this.positioned) {\n      this.initialisePosition();\n    }\n\n    this.isMoving = true;\n    addCssClass(this.element, 'ag-moving');\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  };\n\n  PositionableFeature.prototype.onMove = function (e) {\n    if (!this.isMoving) {\n      return;\n    }\n\n    var _a = this.position,\n        x = _a.x,\n        y = _a.y;\n    var topBuffer;\n\n    if (this.config.calculateTopBuffer) {\n      topBuffer = this.config.calculateTopBuffer();\n    }\n\n    var _b = this.calculateMouseMovement({\n      e: e,\n      isTop: true,\n      anywhereWithin: true,\n      topBuffer: topBuffer\n    }),\n        movementX = _b.movementX,\n        movementY = _b.movementY;\n\n    this.offsetElement(x + movementX, y + movementY);\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  };\n\n  PositionableFeature.prototype.onMoveEnd = function () {\n    this.isMoving = false;\n    this.boundaryEl = null;\n    removeCssClass(this.element, 'ag-moving');\n  };\n\n  PositionableFeature.prototype.setOffsetParent = function () {\n    if (this.config.forcePopupParentAsOffsetParent) {\n      this.offsetParent = this.popupService.getPopupParent();\n    } else {\n      this.offsetParent = this.element.offsetParent;\n    }\n  };\n\n  PositionableFeature.prototype.findBoundaryElement = function () {\n    var el = this.element;\n\n    while (el) {\n      if (window.getComputedStyle(el).position !== 'static') {\n        return el;\n      }\n\n      el = el.parentElement;\n    }\n\n    return this.element;\n  };\n\n  PositionableFeature.prototype.clearResizeListeners = function () {\n    while (this.resizeListeners.length) {\n      var params = this.resizeListeners.pop();\n      this.dragService.removeDragSource(params);\n    }\n  };\n\n  PositionableFeature.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.moveElementDragListener) {\n      this.dragService.removeDragSource(this.moveElementDragListener);\n    }\n\n    this.clearResizeListeners();\n    this.removeResizers();\n  };\n\n  __decorate([Autowired('popupService')], PositionableFeature.prototype, \"popupService\", void 0);\n\n  __decorate([Autowired('dragService')], PositionableFeature.prototype, \"dragService\", void 0);\n\n  return PositionableFeature;\n}(BeanStub);\n\nexport { PositionableFeature };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/rendering/features/positionableFeature.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","BeanStub","Autowired","addCssClass","containsClass","getAbsoluteHeight","getAbsoluteWidth","removeCssClass","setFixedHeight","setFixedWidth","assign","RESIZE_CONTAINER_STYLE","RESIZE_TEMPLATE","PositionableFeature","_super","element","config","_this","call","dragStartPosition","x","y","position","lastSize","width","height","positioned","resizersAdded","resizeListeners","boundaryEl","isResizing","isMoving","resizable","movable","currentResizer","popup","center","_a","offsetParent","clientHeight","clientWidth","getWidth","getHeight","offsetElement","initialisePosition","centered","forcePopupParentAsOffsetParent","minWidth","minHeight","setOffsetParent","computedMinHeight","computedMinWidth","isVisible","findBoundaryElement","offsetParentComputedStyles","window","getComputedStyle","paddingWidth","offsetWidth","parseInt","paddingHeight","offsetHeight","setWidth","setHeight","refreshSize","top_1","parseFloat","style","top","left","isNaN","isPositioned","getPosition","setMovable","moveElement","params","moveElementDragListener","eElement","onDragStart","onMoveStart","bind","onDragging","onMove","onDragStop","onMoveEnd","dragService","addDragSource","removeDragSource","undefined","setResizable","clearResizeListeners","addResizers","removeResizers","topLeft","topRight","right","bottomRight","bottom","bottomLeft","keys","forEach","side","resizableStructure","val","resizerEl","getResizerElement","dragStartPixels","e","onResizeStart","onResize","onResizeEnd","isAlive","push","pointerEvents","removeSizeFromEl","removeProperty","restoreLastSize","flex","eGui","isPercent","indexOf","elRect","getBoundingClientRect","parentRect","Math","max","yPosition","parentTop","maxHeight","xPosition","maxWidth","ePopup","popupService","positionPopup","keepWithinBounds","setPosition","updateDragStartPosition","calculateMouseMovement","isLeft","isTop","anywhereWithin","topBuffer","xDiff","clientX","yDiff","clientY","movementX","shouldSkipX","movementY","shouldSkipY","diff","boundaryElRect","skipX","skipY","createResizeMap","resizerMap","querySelector","parser","DOMParser","resizers","parseFromString","body","appendChild","firstChild","removeChild","match","isRight","isBottom","applySizeToSiblings","getSiblings","parent","parentElement","slice","children","filter","el","getMinSizeOfSiblings","siblings","currentEl","isFlex","nextHeight","nextWidth","computedStyle","vertical","containerToFlex","_b","isHorizontal","isVertical","_c","offsetLeft","offsetTop","direction","oldWidth","newWidth","skipWidth","oldHeight","newHeight","skipHeight","type","api","gridOptionsWrapper","getApi","columnApi","getColumnApi","dispatchEvent","calculateTopBuffer","getPopupParent","pop","destroy"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../../context/beanStub\";\nimport { Autowired } from \"../../context/context\";\nimport { addCssClass, containsClass, getAbsoluteHeight, getAbsoluteWidth, removeCssClass, setFixedHeight, setFixedWidth } from \"../../utils/dom\";\nimport { assign } from \"../../utils/object\";\nvar RESIZE_CONTAINER_STYLE = 'ag-resizer-wrapper';\nvar RESIZE_TEMPLATE = /* html */ \"<div class=\\\"\" + RESIZE_CONTAINER_STYLE + \"\\\">\\n        <div ref=\\\"eTopLeftResizer\\\" class=\\\"ag-resizer ag-resizer-topLeft\\\"></div>\\n        <div ref=\\\"eTopResizer\\\" class=\\\"ag-resizer ag-resizer-top\\\"></div>\\n        <div ref=\\\"eTopRightResizer\\\" class=\\\"ag-resizer ag-resizer-topRight\\\"></div>\\n        <div ref=\\\"eRightResizer\\\" class=\\\"ag-resizer ag-resizer-right\\\"></div>\\n        <div ref=\\\"eBottomRightResizer\\\" class=\\\"ag-resizer ag-resizer-bottomRight\\\"></div>\\n        <div ref=\\\"eBottomResizer\\\" class=\\\"ag-resizer ag-resizer-bottom\\\"></div>\\n        <div ref=\\\"eBottomLeftResizer\\\" class=\\\"ag-resizer ag-resizer-bottomLeft\\\"></div>\\n        <div ref=\\\"eLeftResizer\\\" class=\\\"ag-resizer ag-resizer-left\\\"></div>\\n    </div>\";\nvar PositionableFeature = /** @class */ (function (_super) {\n    __extends(PositionableFeature, _super);\n    function PositionableFeature(element, config) {\n        var _this = _super.call(this) || this;\n        _this.element = element;\n        _this.dragStartPosition = {\n            x: 0,\n            y: 0\n        };\n        _this.position = {\n            x: 0,\n            y: 0\n        };\n        _this.lastSize = {\n            width: -1,\n            height: -1\n        };\n        _this.positioned = false;\n        _this.resizersAdded = false;\n        _this.resizeListeners = [];\n        _this.boundaryEl = null;\n        _this.isResizing = false;\n        _this.isMoving = false;\n        _this.resizable = {};\n        _this.movable = false;\n        _this.currentResizer = null;\n        _this.config = assign({}, { popup: false }, config);\n        return _this;\n    }\n    PositionableFeature.prototype.center = function () {\n        var _a = this.offsetParent, clientHeight = _a.clientHeight, clientWidth = _a.clientWidth;\n        var x = (clientWidth / 2) - (this.getWidth() / 2);\n        var y = (clientHeight / 2) - (this.getHeight() / 2);\n        this.offsetElement(x, y);\n    };\n    PositionableFeature.prototype.initialisePosition = function () {\n        var _a = this.config, centered = _a.centered, forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent, minWidth = _a.minWidth, width = _a.width, minHeight = _a.minHeight, height = _a.height, x = _a.x, y = _a.y;\n        if (!this.offsetParent) {\n            this.setOffsetParent();\n        }\n        var computedMinHeight = 0;\n        var computedMinWidth = 0;\n        // here we don't use the main offset parent but the element's offsetParent\n        // in order to calculated the minWidth and minHeight correctly\n        var isVisible = !!this.element.offsetParent;\n        if (isVisible) {\n            var boundaryEl = this.findBoundaryElement();\n            var offsetParentComputedStyles = window.getComputedStyle(boundaryEl);\n            if (offsetParentComputedStyles.minWidth != null) {\n                var paddingWidth = boundaryEl.offsetWidth - this.element.offsetWidth;\n                computedMinWidth = parseInt(offsetParentComputedStyles.minWidth, 10) - paddingWidth;\n            }\n            if (offsetParentComputedStyles.minHeight != null) {\n                var paddingHeight = boundaryEl.offsetHeight - this.element.offsetHeight;\n                computedMinHeight = parseInt(offsetParentComputedStyles.minHeight, 10) - paddingHeight;\n            }\n        }\n        this.minHeight = minHeight || computedMinHeight;\n        this.minWidth = minWidth || computedMinWidth;\n        if (width) {\n            this.setWidth(width);\n        }\n        if (height) {\n            this.setHeight(height);\n        }\n        if (!width || !height) {\n            this.refreshSize();\n        }\n        if (centered) {\n            this.center();\n        }\n        else if (x || y) {\n            this.offsetElement(x, y);\n        }\n        else if (isVisible && forcePopupParentAsOffsetParent && this.boundaryEl) {\n            var top_1 = parseFloat(this.boundaryEl.style.top);\n            var left = parseFloat(this.boundaryEl.style.left);\n            this.offsetElement(isNaN(left) ? 0 : left, isNaN(top_1) ? 0 : top_1);\n        }\n        this.positioned = !!this.offsetParent;\n    };\n    PositionableFeature.prototype.isPositioned = function () {\n        return this.positioned;\n    };\n    PositionableFeature.prototype.getPosition = function () {\n        return this.position;\n    };\n    PositionableFeature.prototype.setMovable = function (movable, moveElement) {\n        if (!this.config.popup || movable === this.movable) {\n            return;\n        }\n        this.movable = movable;\n        var params = this.moveElementDragListener || {\n            eElement: moveElement,\n            onDragStart: this.onMoveStart.bind(this),\n            onDragging: this.onMove.bind(this),\n            onDragStop: this.onMoveEnd.bind(this)\n        };\n        if (movable) {\n            this.dragService.addDragSource(params);\n            this.moveElementDragListener = params;\n        }\n        else {\n            this.dragService.removeDragSource(params);\n            this.moveElementDragListener = undefined;\n        }\n    };\n    PositionableFeature.prototype.setResizable = function (resizable) {\n        var _this = this;\n        this.clearResizeListeners();\n        if (resizable) {\n            this.addResizers();\n        }\n        else {\n            this.removeResizers();\n        }\n        if (typeof resizable === 'boolean') {\n            if (resizable === false) {\n                return;\n            }\n            resizable = {\n                topLeft: resizable,\n                top: resizable,\n                topRight: resizable,\n                right: resizable,\n                bottomRight: resizable,\n                bottom: resizable,\n                bottomLeft: resizable,\n                left: resizable\n            };\n        }\n        Object.keys(resizable).forEach(function (side) {\n            var resizableStructure = resizable;\n            var val = !!resizableStructure[side];\n            var resizerEl = _this.getResizerElement(side);\n            var params = {\n                dragStartPixels: 0,\n                eElement: resizerEl,\n                onDragStart: function (e) { return _this.onResizeStart(e, side); },\n                onDragging: _this.onResize.bind(_this),\n                onDragStop: function (e) { return _this.onResizeEnd(e, side); },\n            };\n            if (!!_this.resizable[side] !== val || (!_this.isAlive() && !val)) {\n                if (val) {\n                    _this.dragService.addDragSource(params);\n                    _this.resizeListeners.push(params);\n                    resizerEl.style.pointerEvents = 'all';\n                }\n                else {\n                    resizerEl.style.pointerEvents = 'none';\n                }\n            }\n        });\n    };\n    PositionableFeature.prototype.removeSizeFromEl = function () {\n        this.element.style.removeProperty('height');\n        this.element.style.removeProperty('width');\n        this.element.style.removeProperty('flex');\n    };\n    PositionableFeature.prototype.restoreLastSize = function () {\n        this.element.style.flex = '0 0 auto';\n        var _a = this.lastSize, height = _a.height, width = _a.width;\n        if (width !== -1) {\n            this.element.style.width = width + \"px\";\n        }\n        if (height !== -1) {\n            this.element.style.height = height + \"px\";\n        }\n    };\n    PositionableFeature.prototype.getHeight = function () {\n        return this.element.offsetHeight;\n    };\n    PositionableFeature.prototype.setHeight = function (height) {\n        var popup = this.config.popup;\n        var eGui = this.element;\n        var isPercent = false;\n        if (typeof height === 'string' && height.indexOf('%') !== -1) {\n            setFixedHeight(eGui, height);\n            height = getAbsoluteHeight(eGui);\n            isPercent = true;\n        }\n        else if (this.positioned) {\n            var elRect = this.element.getBoundingClientRect();\n            var parentRect = this.offsetParent.getBoundingClientRect();\n            height = Math.max(this.minHeight, height);\n            var clientHeight = this.offsetParent.clientHeight;\n            var yPosition = popup ? this.position.y : elRect.top;\n            var parentTop = popup ? 0 : parentRect.top;\n            if (clientHeight && (height + yPosition > clientHeight + parentTop)) {\n                height = clientHeight - yPosition;\n            }\n        }\n        if (this.getHeight() === height) {\n            return;\n        }\n        if (!isPercent) {\n            if (popup) {\n                setFixedHeight(eGui, height);\n            }\n            else {\n                eGui.style.height = height + \"px\";\n                eGui.style.flex = '0 0 auto';\n                this.lastSize.height = typeof height === 'number' ? height : parseFloat(height);\n            }\n        }\n        else {\n            eGui.style.maxHeight = 'unset';\n            eGui.style.minHeight = 'unset';\n        }\n    };\n    PositionableFeature.prototype.getWidth = function () {\n        return this.element.offsetWidth;\n    };\n    PositionableFeature.prototype.setWidth = function (width) {\n        var eGui = this.element;\n        var popup = this.config.popup;\n        var isPercent = false;\n        if (typeof width === 'string' && width.indexOf('%') !== -1) {\n            setFixedWidth(eGui, width);\n            width = getAbsoluteWidth(eGui);\n            isPercent = true;\n        }\n        else if (this.positioned) {\n            width = Math.max(this.minWidth, width);\n            var clientWidth = this.offsetParent.clientWidth;\n            var xPosition = popup ? this.position.x : this.element.getBoundingClientRect().left;\n            if (clientWidth && (width + xPosition > clientWidth)) {\n                width = clientWidth - xPosition;\n            }\n        }\n        if (this.getWidth() === width) {\n            return;\n        }\n        if (!isPercent) {\n            if (this.config.popup) {\n                setFixedWidth(eGui, width);\n            }\n            else {\n                eGui.style.width = width + \"px\";\n                eGui.style.flex = ' unset';\n                this.lastSize.width = typeof width === 'number' ? width : parseFloat(width);\n            }\n        }\n        else {\n            eGui.style.maxWidth = 'unset';\n            eGui.style.minWidth = 'unset';\n        }\n    };\n    PositionableFeature.prototype.offsetElement = function (x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        var ePopup = this.config.forcePopupParentAsOffsetParent ? this.boundaryEl : this.element;\n        this.popupService.positionPopup({\n            ePopup: ePopup,\n            x: x,\n            y: y,\n            keepWithinBounds: true\n        });\n        this.setPosition(parseFloat(ePopup.style.left), parseFloat(ePopup.style.top));\n    };\n    PositionableFeature.prototype.setPosition = function (x, y) {\n        this.position.x = x;\n        this.position.y = y;\n    };\n    PositionableFeature.prototype.updateDragStartPosition = function (x, y) {\n        this.dragStartPosition = { x: x, y: y };\n    };\n    PositionableFeature.prototype.calculateMouseMovement = function (params) {\n        var e = params.e, isLeft = params.isLeft, isTop = params.isTop, anywhereWithin = params.anywhereWithin, topBuffer = params.topBuffer;\n        var xDiff = e.clientX - this.dragStartPosition.x;\n        var yDiff = e.clientY - this.dragStartPosition.y;\n        var movementX = this.shouldSkipX(e, !!isLeft, !!anywhereWithin, xDiff) ? 0 : xDiff;\n        var movementY = this.shouldSkipY(e, !!isTop, topBuffer, yDiff) ? 0 : yDiff;\n        return { movementX: movementX, movementY: movementY };\n    };\n    PositionableFeature.prototype.shouldSkipX = function (e, isLeft, anywhereWithin, diff) {\n        var elRect = this.element.getBoundingClientRect();\n        var parentRect = this.offsetParent.getBoundingClientRect();\n        var boundaryElRect = this.boundaryEl.getBoundingClientRect();\n        var xPosition = this.config.popup ? this.position.x : elRect.left;\n        // skip if cursor is outside of popupParent horizontally\n        var skipX = ((xPosition <= 0 && parentRect.left >= e.clientX) ||\n            (parentRect.right <= e.clientX && parentRect.right <= boundaryElRect.right));\n        if (skipX) {\n            return true;\n        }\n        if (isLeft) {\n            skipX = (\n            // skip if we are moving to the left and the cursor\n            // is positioned to the right of the left side anchor\n            (diff < 0 && e.clientX > xPosition + parentRect.left) ||\n                // skip if we are moving to the right and the cursor\n                // is positioned to the left of the dialog\n                (diff > 0 && e.clientX < xPosition + parentRect.left));\n        }\n        else {\n            if (anywhereWithin) {\n                // if anywhereWithin is true, we allow to move\n                // as long as the cursor is within the dialog\n                skipX = ((diff < 0 && e.clientX > boundaryElRect.right) ||\n                    (diff > 0 && e.clientX < xPosition + parentRect.left));\n            }\n            else {\n                skipX = (\n                // if the movement is bound to the right side of the dialog\n                // we skip if we are moving to the left and the cursor\n                // is to the right of the dialog\n                (diff < 0 && e.clientX > boundaryElRect.right) ||\n                    // or skip if we are moving to the right and the cursor\n                    // is to the left of the right side anchor\n                    (diff > 0 && e.clientX < boundaryElRect.right));\n            }\n        }\n        return skipX;\n    };\n    PositionableFeature.prototype.shouldSkipY = function (e, isTop, topBuffer, diff) {\n        if (topBuffer === void 0) { topBuffer = 0; }\n        var elRect = this.element.getBoundingClientRect();\n        var parentRect = this.offsetParent.getBoundingClientRect();\n        var boundaryElRect = this.boundaryEl.getBoundingClientRect();\n        var yPosition = this.config.popup ? this.position.y : elRect.top;\n        // skip if cursor is outside of popupParent vertically\n        var skipY = ((yPosition <= 0 && parentRect.top >= e.clientY) ||\n            (parentRect.bottom <= e.clientY && parentRect.bottom <= boundaryElRect.bottom));\n        if (skipY) {\n            return true;\n        }\n        if (isTop) {\n            skipY = (\n            // skip if we are moving to towards top and the cursor is\n            // below the top anchor + topBuffer\n            // note: topBuffer is used when moving the dialog using the title bar\n            (diff < 0 && e.clientY > yPosition + parentRect.top + topBuffer) ||\n                // skip if we are moving to the bottom and the cursor is\n                // above the top anchor\n                (diff > 0 && e.clientY < yPosition + parentRect.top));\n        }\n        else {\n            skipY = (\n            // skip if we are moving towards the top and the cursor\n            // is below the bottom anchor\n            (diff < 0 && e.clientY > boundaryElRect.bottom) ||\n                // skip if we are moving towards the bottom and the cursor\n                // is above the bottom anchor\n                (diff > 0 && e.clientY < boundaryElRect.bottom));\n        }\n        return skipY;\n    };\n    PositionableFeature.prototype.createResizeMap = function () {\n        var eGui = this.element;\n        this.resizerMap = {\n            topLeft: { element: eGui.querySelector('[ref=eTopLeftResizer]') },\n            top: { element: eGui.querySelector('[ref=eTopResizer]') },\n            topRight: { element: eGui.querySelector('[ref=eTopRightResizer]') },\n            right: { element: eGui.querySelector('[ref=eRightResizer]') },\n            bottomRight: { element: eGui.querySelector('[ref=eBottomRightResizer]') },\n            bottom: { element: eGui.querySelector('[ref=eBottomResizer]') },\n            bottomLeft: { element: eGui.querySelector('[ref=eBottomLeftResizer]') },\n            left: { element: eGui.querySelector('[ref=eLeftResizer]') }\n        };\n    };\n    PositionableFeature.prototype.addResizers = function () {\n        if (this.resizersAdded) {\n            return;\n        }\n        var eGui = this.element;\n        if (!eGui) {\n            return;\n        }\n        var parser = new DOMParser();\n        var resizers = parser.parseFromString(RESIZE_TEMPLATE, 'text/html').body;\n        eGui.appendChild(resizers.firstChild);\n        this.createResizeMap();\n        this.resizersAdded = true;\n    };\n    PositionableFeature.prototype.removeResizers = function () {\n        this.resizerMap = undefined;\n        var resizerEl = this.element.querySelector(\".\" + RESIZE_CONTAINER_STYLE);\n        if (resizerEl) {\n            this.element.removeChild(resizerEl);\n        }\n        this.resizersAdded = false;\n    };\n    PositionableFeature.prototype.getResizerElement = function (side) {\n        return this.resizerMap[side].element;\n    };\n    PositionableFeature.prototype.onResizeStart = function (e, side) {\n        this.boundaryEl = this.findBoundaryElement();\n        if (!this.positioned) {\n            this.initialisePosition();\n        }\n        this.currentResizer = {\n            isTop: !!side.match(/top/i),\n            isRight: !!side.match(/right/i),\n            isBottom: !!side.match(/bottom/i),\n            isLeft: !!side.match(/left/i),\n        };\n        addCssClass(this.element, 'ag-resizing');\n        addCssClass(this.resizerMap[side].element, 'ag-active');\n        var _a = this.config, popup = _a.popup, forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent;\n        if (!popup && !forcePopupParentAsOffsetParent) {\n            this.applySizeToSiblings(this.currentResizer.isBottom || this.currentResizer.isTop);\n        }\n        this.isResizing = true;\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    PositionableFeature.prototype.getSiblings = function () {\n        var element = this.element;\n        var parent = element.parentElement;\n        if (!parent) {\n            return null;\n        }\n        return Array.prototype.slice.call(parent.children).filter(function (el) { return !containsClass(el, 'ag-hidden'); });\n    };\n    PositionableFeature.prototype.getMinSizeOfSiblings = function () {\n        var siblings = this.getSiblings() || [];\n        var height = 0;\n        var width = 0;\n        for (var i = 0; i < siblings.length; i++) {\n            var currentEl = siblings[i];\n            var isFlex = !!currentEl.style.flex && currentEl.style.flex !== '0 0 auto';\n            if (currentEl === this.element) {\n                continue;\n            }\n            var nextHeight = this.minHeight || 0;\n            var nextWidth = this.minWidth || 0;\n            if (isFlex) {\n                var computedStyle = window.getComputedStyle(currentEl);\n                if (computedStyle.minHeight) {\n                    nextHeight = parseInt(computedStyle.minHeight, 10);\n                }\n                if (computedStyle.minWidth) {\n                    nextWidth = parseInt(computedStyle.minWidth, 10);\n                }\n            }\n            else {\n                nextHeight = currentEl.offsetHeight;\n                nextWidth = currentEl.offsetWidth;\n            }\n            height += nextHeight;\n            width += nextWidth;\n        }\n        return { height: height, width: width };\n    };\n    PositionableFeature.prototype.applySizeToSiblings = function (vertical) {\n        var containerToFlex = null;\n        var siblings = this.getSiblings();\n        if (!siblings) {\n            return;\n        }\n        for (var i = 0; i < siblings.length; i++) {\n            var el = siblings[i];\n            if (el === containerToFlex) {\n                continue;\n            }\n            if (vertical) {\n                el.style.height = el.offsetHeight + \"px\";\n            }\n            else {\n                el.style.width = el.offsetWidth + \"px\";\n            }\n            el.style.flex = '0 0 auto';\n            if (el === this.element) {\n                containerToFlex = siblings[i + 1];\n            }\n        }\n        if (containerToFlex) {\n            containerToFlex.style.removeProperty('height');\n            containerToFlex.style.removeProperty('min-height');\n            containerToFlex.style.removeProperty('max-height');\n            containerToFlex.style.flex = '1 1 auto';\n        }\n    };\n    PositionableFeature.prototype.onResize = function (e) {\n        if (!this.isResizing || !this.currentResizer) {\n            return;\n        }\n        var _a = this.config, popup = _a.popup, forcePopupParentAsOffsetParent = _a.forcePopupParentAsOffsetParent;\n        var _b = this.currentResizer, isTop = _b.isTop, isRight = _b.isRight, isBottom = _b.isBottom, isLeft = _b.isLeft;\n        var isHorizontal = isRight || isLeft;\n        var isVertical = isBottom || isTop;\n        var _c = this.calculateMouseMovement({ e: e, isLeft: isLeft, isTop: isTop }), movementX = _c.movementX, movementY = _c.movementY;\n        var xPosition = this.position.x;\n        var yPosition = this.position.y;\n        var offsetLeft = 0;\n        var offsetTop = 0;\n        if (isHorizontal && movementX) {\n            var direction = isLeft ? -1 : 1;\n            var oldWidth = this.getWidth();\n            var newWidth = oldWidth + (movementX * direction);\n            var skipWidth = false;\n            if (isLeft) {\n                offsetLeft = oldWidth - newWidth;\n                if (xPosition + offsetLeft <= 0 || newWidth <= this.minWidth) {\n                    skipWidth = true;\n                    offsetLeft = 0;\n                }\n            }\n            if (!skipWidth) {\n                this.setWidth(newWidth);\n            }\n        }\n        if (isVertical && movementY) {\n            var direction = isTop ? -1 : 1;\n            var oldHeight = this.getHeight();\n            var newHeight = oldHeight + (movementY * direction);\n            var skipHeight = false;\n            if (isTop) {\n                offsetTop = oldHeight - newHeight;\n                if (yPosition + offsetTop <= 0 || newHeight <= this.minHeight) {\n                    skipHeight = true;\n                    offsetTop = 0;\n                }\n            }\n            else {\n                // do not let the size of all siblings be higher than the parent container\n                if (!this.config.popup &&\n                    !this.config.forcePopupParentAsOffsetParent &&\n                    oldHeight < newHeight &&\n                    (this.getMinSizeOfSiblings().height + newHeight) > this.element.parentElement.offsetHeight) {\n                    skipHeight = true;\n                }\n            }\n            if (!skipHeight) {\n                this.setHeight(newHeight);\n            }\n        }\n        this.updateDragStartPosition(e.clientX, e.clientY);\n        if ((popup || forcePopupParentAsOffsetParent) && offsetLeft || offsetTop) {\n            this.offsetElement(xPosition + offsetLeft, yPosition + offsetTop);\n        }\n    };\n    PositionableFeature.prototype.onResizeEnd = function (e, side) {\n        this.isResizing = false;\n        this.currentResizer = null;\n        this.boundaryEl = null;\n        var params = {\n            type: 'resize',\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n        removeCssClass(this.element, 'ag-resizing');\n        removeCssClass(this.resizerMap[side].element, 'ag-active');\n        this.dispatchEvent(params);\n    };\n    PositionableFeature.prototype.refreshSize = function () {\n        var eGui = this.element;\n        if (this.config.popup) {\n            if (!this.config.width) {\n                this.setWidth(eGui.offsetWidth);\n            }\n            if (!this.config.height) {\n                this.setHeight(eGui.offsetHeight);\n            }\n        }\n    };\n    PositionableFeature.prototype.onMoveStart = function (e) {\n        this.boundaryEl = this.findBoundaryElement();\n        if (!this.positioned) {\n            this.initialisePosition();\n        }\n        this.isMoving = true;\n        addCssClass(this.element, 'ag-moving');\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    PositionableFeature.prototype.onMove = function (e) {\n        if (!this.isMoving) {\n            return;\n        }\n        var _a = this.position, x = _a.x, y = _a.y;\n        var topBuffer;\n        if (this.config.calculateTopBuffer) {\n            topBuffer = this.config.calculateTopBuffer();\n        }\n        var _b = this.calculateMouseMovement({\n            e: e,\n            isTop: true,\n            anywhereWithin: true,\n            topBuffer: topBuffer\n        }), movementX = _b.movementX, movementY = _b.movementY;\n        this.offsetElement(x + movementX, y + movementY);\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    PositionableFeature.prototype.onMoveEnd = function () {\n        this.isMoving = false;\n        this.boundaryEl = null;\n        removeCssClass(this.element, 'ag-moving');\n    };\n    PositionableFeature.prototype.setOffsetParent = function () {\n        if (this.config.forcePopupParentAsOffsetParent) {\n            this.offsetParent = this.popupService.getPopupParent();\n        }\n        else {\n            this.offsetParent = this.element.offsetParent;\n        }\n    };\n    PositionableFeature.prototype.findBoundaryElement = function () {\n        var el = this.element;\n        while (el) {\n            if (window.getComputedStyle(el).position !== 'static') {\n                return el;\n            }\n            el = el.parentElement;\n        }\n        return this.element;\n    };\n    PositionableFeature.prototype.clearResizeListeners = function () {\n        while (this.resizeListeners.length) {\n            var params = this.resizeListeners.pop();\n            this.dragService.removeDragSource(params);\n        }\n    };\n    PositionableFeature.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.moveElementDragListener) {\n            this.dragService.removeDragSource(this.moveElementDragListener);\n        }\n        this.clearResizeListeners();\n        this.removeResizers();\n    };\n    __decorate([\n        Autowired('popupService')\n    ], PositionableFeature.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('dragService')\n    ], PositionableFeature.prototype, \"dragService\", void 0);\n    return PositionableFeature;\n}(BeanStub));\nexport { PositionableFeature };\n"]},"metadata":{},"sourceType":"module"}