{"ast":null,"code":"'use strict';\n\nconst JSZip = require('jszip');\n\nmodule.exports = async buffer => {\n  const zip = new JSZip();\n  await zip.loadAsync(buffer);\n  const files = zip.file(/.+/);\n  const out = {};\n  await Promise.all(files.map(async a => {\n    let result;\n\n    if (a.name.slice(-3).toLowerCase() === 'shp' || a.name.slice(-3).toLowerCase() === 'dbf') {\n      result = await a.async('nodebuffer');\n    } else {\n      result = await a.async('text');\n    }\n\n    out[a.name] = result;\n  }));\n  return out;\n};","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/shpjs/lib/unzip.js"],"names":["JSZip","require","module","exports","buffer","zip","loadAsync","files","file","out","Promise","all","map","a","result","name","slice","toLowerCase","async"],"mappings":"AAAA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACAC,MAAM,CAACC,OAAP,GAAiB,MAAOC,MAAP,IAAkB;AACjC,QAAMC,GAAG,GAAG,IAAIL,KAAJ,EAAZ;AACA,QAAMK,GAAG,CAACC,SAAJ,CAAcF,MAAd,CAAN;AACA,QAAMG,KAAK,GAAGF,GAAG,CAACG,IAAJ,CAAS,IAAT,CAAd;AACA,QAAMC,GAAG,GAAG,EAAZ;AACA,QAAMC,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,GAAN,CAAU,MAAOC,CAAP,IAAa;AACvC,QAAIC,MAAJ;;AACA,QAAID,CAAC,CAACE,IAAF,CAAOC,KAAP,CAAa,CAAC,CAAd,EAAiBC,WAAjB,OAAmC,KAAnC,IAA4CJ,CAAC,CAACE,IAAF,CAAOC,KAAP,CAAa,CAAC,CAAd,EAAiBC,WAAjB,OAAmC,KAAnF,EAA0F;AACxFH,MAAAA,MAAM,GAAG,MAAMD,CAAC,CAACK,KAAF,CAAQ,YAAR,CAAf;AACD,KAFD,MAEO;AACLJ,MAAAA,MAAM,GAAG,MAAMD,CAAC,CAACK,KAAF,CAAQ,MAAR,CAAf;AACD;;AACDT,IAAAA,GAAG,CAACI,CAAC,CAACE,IAAH,CAAH,GAAcD,MAAd;AACD,GARiB,CAAZ,CAAN;AASA,SAAOL,GAAP;AACD,CAfD","sourcesContent":["'use strict';\n\nconst JSZip = require('jszip');\nmodule.exports = async (buffer) => {\n  const zip = new JSZip();\n  await zip.loadAsync(buffer);\n  const files = zip.file(/.+/);\n  const out = {};\n  await Promise.all(files.map(async (a) => {\n    let result;\n    if (a.name.slice(-3).toLowerCase() === 'shp' || a.name.slice(-3).toLowerCase() === 'dbf') {\n      result = await a.async('nodebuffer');\n    } else {\n      result = await a.async('text');\n    }\n    out[a.name] = result;\n  }));\n  return out;\n};\n"]},"metadata":{},"sourceType":"script"}