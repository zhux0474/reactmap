{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { EventService } from \"../eventService\";\nimport { Events } from \"../events\";\nimport { Constants } from \"../constants/constants\";\nimport { exists, missing, missingOrEmpty } from \"../utils/generic\";\nimport { assign, getAllKeysInObjects } from \"../utils/object\";\nimport { startsWith } from \"../utils/string\";\nimport { debounce } from \"../utils/function\";\nexport var RowHighlightPosition;\n\n(function (RowHighlightPosition) {\n  RowHighlightPosition[RowHighlightPosition[\"Above\"] = 0] = \"Above\";\n  RowHighlightPosition[RowHighlightPosition[\"Below\"] = 1] = \"Below\";\n})(RowHighlightPosition || (RowHighlightPosition = {}));\n\nvar RowNode =\n/** @class */\nfunction () {\n  function RowNode(beans) {\n    /** The current row index. If the row is filtered out or in a collapsed group, this value will be `null`. */\n    this.rowIndex = null;\n    /** The key for the group eg Ireland, UK, USA */\n\n    this.key = null;\n    /** Children mapped by the pivot columns. */\n\n    this.childrenMapped = {};\n    /**\n     * This will be `true` if it has a rowIndex assigned, otherwise `false`.\n     */\n\n    this.displayed = false;\n    /** The row top position in pixels. */\n\n    this.rowTop = null;\n    /** The top pixel for this row last time, makes sense if data set was ordered or filtered,\n     * it is used so new rows can animate in from their old position. */\n\n    this.oldRowTop = null;\n    /** `true` by default - can be overridden via gridOptions.isRowSelectable(rowNode) */\n\n    this.selectable = true;\n    /** Used by sorting service - to give deterministic sort to groups. Previously we\n     * just id for this, however id is a string and had slower sorting compared to numbers. */\n\n    this.__objectId = RowNode.OBJECT_ID_SEQUENCE++;\n    /** When one or more Columns are using autoHeight, this keeps track of height of each autoHeight Cell,\n     * indexed by the Column ID. */\n\n    this.__autoHeights = {};\n    /** `true` when nodes with the same id are being removed and added as part of the same batch transaction */\n\n    this.alreadyRendered = false;\n    this.highlighted = null;\n    this.selected = false;\n    this.beans = beans;\n  }\n  /** Replaces the data on the `rowNode`. When complete, the grid will refresh the the entire rendered row if it is showing. */\n\n\n  RowNode.prototype.setData = function (data) {\n    this.setDataCommon(data, false);\n  }; // similar to setRowData, however it is expected that the data is the same data item. this\n  // is intended to be used with Redux type stores, where the whole data can be changed. we are\n  // guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n  // underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n  // dataChanged event, will refresh the cells rather than rip them all out (so user can show transitions).\n\n\n  RowNode.prototype.updateData = function (data) {\n    this.setDataCommon(data, true);\n  };\n\n  RowNode.prototype.setDataCommon = function (data, update) {\n    var oldData = this.data;\n    this.data = data;\n    this.beans.valueCache.onDataChanged();\n    this.updateDataOnDetailNode();\n    this.checkRowSelectable();\n    var event = this.createDataChangedEvent(data, oldData, update);\n    this.dispatchLocalEvent(event);\n  }; // when we are doing master / detail, the detail node is lazy created, but then kept around.\n  // so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n  // in sync, otherwise expand/collapse of the detail would still show the old values.\n\n\n  RowNode.prototype.updateDataOnDetailNode = function () {\n    if (this.detailNode) {\n      this.detailNode.data = this.data;\n    }\n  };\n\n  RowNode.prototype.createDataChangedEvent = function (newData, oldData, update) {\n    return {\n      type: RowNode.EVENT_DATA_CHANGED,\n      node: this,\n      oldData: oldData,\n      newData: newData,\n      update: update\n    };\n  };\n\n  RowNode.prototype.createLocalRowEvent = function (type) {\n    return {\n      type: type,\n      node: this\n    };\n  };\n\n  RowNode.prototype.getRowIndexString = function () {\n    if (this.rowPinned === Constants.PINNED_TOP) {\n      return 't-' + this.rowIndex;\n    }\n\n    if (this.rowPinned === Constants.PINNED_BOTTOM) {\n      return 'b-' + this.rowIndex;\n    }\n\n    return this.rowIndex.toString();\n  };\n\n  RowNode.prototype.createDaemonNode = function () {\n    var oldNode = new RowNode(this.beans); // just copy the id and data, this is enough for the node to be used\n    // in the selection controller (the selection controller is the only\n    // place where daemon nodes can live).\n\n    oldNode.id = this.id;\n    oldNode.data = this.data;\n    oldNode.daemon = true;\n    oldNode.selected = this.selected;\n    oldNode.level = this.level;\n    return oldNode;\n  };\n\n  RowNode.prototype.setDataAndId = function (data, id) {\n    var oldNode = exists(this.id) ? this.createDaemonNode() : null;\n    var oldData = this.data;\n    this.data = data;\n    this.updateDataOnDetailNode();\n    this.setId(id);\n    this.beans.selectionService.syncInRowNode(this, oldNode);\n    this.checkRowSelectable();\n    var event = this.createDataChangedEvent(data, oldData, false);\n    this.dispatchLocalEvent(event);\n  };\n\n  RowNode.prototype.checkRowSelectable = function () {\n    var isRowSelectableFunc = this.beans.gridOptionsWrapper.getIsRowSelectableFunc();\n    this.setRowSelectable(isRowSelectableFunc ? isRowSelectableFunc(this) : true);\n  };\n\n  RowNode.prototype.setRowSelectable = function (newVal) {\n    if (this.selectable !== newVal) {\n      this.selectable = newVal;\n\n      if (this.eventService) {\n        this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED));\n      }\n    }\n  };\n\n  RowNode.prototype.setId = function (id) {\n    // see if user is providing the id's\n    var getRowNodeId = this.beans.gridOptionsWrapper.getRowNodeIdFunc();\n\n    if (getRowNodeId) {\n      // if user is providing the id's, then we set the id only after the data has been set.\n      // this is important for virtual pagination and viewport, where empty rows exist.\n      if (this.data) {\n        this.id = getRowNodeId(this.data); // make sure id provided doesn't start with 'row-group-' as this is reserved. also check that\n        // it has 'startsWith' in case the user provided a number.\n\n        if (this.id && typeof this.id === 'string' && startsWith(this.id, RowNode.ID_PREFIX_ROW_GROUP)) {\n          console.error(\"AG Grid: Row ID's cannot start with \" + RowNode.ID_PREFIX_ROW_GROUP + \", this is a reserved prefix for AG Grid's row grouping feature.\");\n        } // force id to be a string\n\n\n        if (this.id && typeof this.id !== 'string') {\n          this.id = '' + this.id;\n        }\n      } else {\n        // this can happen if user has set blank into the rowNode after the row previously\n        // having data. this happens in virtual page row model, when data is delete and\n        // the page is refreshed.\n        this.id = undefined;\n      }\n    } else {\n      this.id = id;\n    }\n  };\n\n  RowNode.prototype.isPixelInRange = function (pixel) {\n    if (!exists(this.rowTop) || !exists(this.rowHeight)) {\n      return false;\n    }\n\n    return pixel >= this.rowTop && pixel < this.rowTop + this.rowHeight;\n  };\n\n  RowNode.prototype.setFirstChild = function (firstChild) {\n    if (this.firstChild === firstChild) {\n      return;\n    }\n\n    this.firstChild = firstChild;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setLastChild = function (lastChild) {\n    if (this.lastChild === lastChild) {\n      return;\n    }\n\n    this.lastChild = lastChild;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setChildIndex = function (childIndex) {\n    if (this.childIndex === childIndex) {\n      return;\n    }\n\n    this.childIndex = childIndex;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setRowTop = function (rowTop) {\n    this.oldRowTop = this.rowTop;\n\n    if (this.rowTop === rowTop) {\n      return;\n    }\n\n    this.rowTop = rowTop;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED));\n    }\n\n    this.setDisplayed(rowTop !== null);\n  };\n\n  RowNode.prototype.clearRowTopAndRowIndex = function () {\n    this.oldRowTop = null;\n    this.setRowTop(null);\n    this.setRowIndex(null);\n  };\n\n  RowNode.prototype.setDisplayed = function (displayed) {\n    if (this.displayed === displayed) {\n      return;\n    }\n\n    this.displayed = displayed;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DISPLAYED_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setDragging = function (dragging) {\n    if (this.dragging === dragging) {\n      return;\n    }\n\n    this.dragging = dragging;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setHighlighted = function (highlighted) {\n    if (highlighted === this.highlighted) {\n      return;\n    }\n\n    this.highlighted = highlighted;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setAllChildrenCount = function (allChildrenCount) {\n    if (this.allChildrenCount === allChildrenCount) {\n      return;\n    }\n\n    this.allChildrenCount = allChildrenCount;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setMaster = function (master) {\n    if (this.master === master) {\n      return;\n    } // if changing AWAY from master, then unexpand, otherwise\n    // next time it's shown it is expanded again\n\n\n    if (this.master && !master) {\n      this.expanded = false;\n    }\n\n    this.master = master;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_MASTER_CHANGED));\n    }\n  };\n  /**\n   * Sets the row height.\n   * Call if you want to change the height initially assigned to the row.\n   * After calling, you must call `api.onRowHeightChanged()` so the grid knows it needs to work out the placement of the rows. */\n\n\n  RowNode.prototype.setRowHeight = function (rowHeight, estimated) {\n    if (estimated === void 0) {\n      estimated = false;\n    }\n\n    this.rowHeight = rowHeight;\n    this.rowHeightEstimated = estimated;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setRowAutoHeight = function (cellHeight, column) {\n    if (!this.__autoHeights) {\n      this.__autoHeights = {};\n    }\n\n    var autoHeights = this.__autoHeights;\n    autoHeights[column.getId()] = cellHeight;\n\n    if (cellHeight != null) {\n      if (this.checkAutoHeightsDebounced == null) {\n        this.checkAutoHeightsDebounced = debounce(this.checkAutoHeights.bind(this), 1);\n      }\n\n      this.checkAutoHeightsDebounced();\n    }\n  };\n\n  RowNode.prototype.checkAutoHeights = function () {\n    var notAllPresent = false;\n    var nonePresent = true;\n    var newRowHeight = 0;\n    var autoHeights = this.__autoHeights;\n\n    if (autoHeights == null) {\n      return;\n    }\n\n    var displayedAutoHeightCols = this.beans.columnModel.getAllDisplayedAutoHeightCols();\n    displayedAutoHeightCols.forEach(function (col) {\n      var cellHeight = autoHeights[col.getId()];\n\n      if (cellHeight == null) {\n        notAllPresent = true;\n        return;\n      }\n\n      nonePresent = false;\n\n      if (cellHeight > newRowHeight) {\n        newRowHeight = cellHeight;\n      }\n    });\n\n    if (notAllPresent) {\n      return;\n    } // we take min of 10, so we don't adjust for empty rows. if <10, we put to default.\n    // this prevents the row starting very small when waiting for async components, \n    // which would then mean the grid squashes in far to many rows (as small heights\n    // means more rows fit in) which looks crap. so best ignore small values and assume \n    // we are still waiting for values to render.\n\n\n    if (nonePresent || newRowHeight < 10) {\n      newRowHeight = this.beans.gridOptionsWrapper.getRowHeightForNode(this).height;\n    }\n\n    if (newRowHeight == this.rowHeight) {\n      return;\n    }\n\n    this.setRowHeight(newRowHeight);\n    var rowModel = this.beans.rowModel;\n    rowModel.onRowHeightChanged && rowModel.onRowHeightChanged();\n  };\n\n  RowNode.prototype.setRowIndex = function (rowIndex) {\n    if (this.rowIndex === rowIndex) {\n      return;\n    }\n\n    this.rowIndex = rowIndex;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setUiLevel = function (uiLevel) {\n    if (this.uiLevel === uiLevel) {\n      return;\n    }\n\n    this.uiLevel = uiLevel;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED));\n    }\n  };\n\n  RowNode.prototype.setExpanded = function (expanded) {\n    if (this.expanded === expanded) {\n      return;\n    }\n\n    this.expanded = expanded;\n\n    if (this.eventService) {\n      this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));\n    }\n\n    var event = assign({}, this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED), {\n      expanded: expanded\n    });\n    this.beans.rowNodeEventThrottle.dispatchExpanded(event); // when using footers we need to refresh the group row, as the aggregation\n    // values jump between group and footer\n\n    if (this.beans.gridOptionsWrapper.isGroupIncludeFooter()) {\n      this.beans.rowRenderer.refreshCells({\n        rowNodes: [this]\n      });\n    }\n  };\n\n  RowNode.prototype.createGlobalRowEvent = function (type) {\n    return {\n      type: type,\n      node: this,\n      data: this.data,\n      rowIndex: this.rowIndex,\n      rowPinned: this.rowPinned,\n      context: this.beans.gridOptionsWrapper.getContext(),\n      api: this.beans.gridOptionsWrapper.getApi(),\n      columnApi: this.beans.gridOptionsWrapper.getColumnApi()\n    };\n  };\n\n  RowNode.prototype.dispatchLocalEvent = function (event) {\n    if (this.eventService) {\n      this.eventService.dispatchEvent(event);\n    }\n  }; // we also allow editing the value via the editors. when it is done via\n  // the editors, no 'cell changed' event gets fired, as it's assumed that\n  // the cell knows about the change given it's in charge of the editing.\n  // this method is for the client to call, so the cell listens for the change\n  // event, and also flashes the cell when the change occurs.\n\n  /** Replaces the value on the `rowNode` for the specified column. When complete, the grid will refresh the rendered cell on the required row only. */\n\n\n  RowNode.prototype.setDataValue = function (colKey, newValue, eventSource) {\n    var column = this.beans.columnModel.getPrimaryColumn(colKey);\n    var oldValue = this.beans.valueService.getValue(column, this);\n    this.beans.valueService.setValue(this, column, newValue, eventSource);\n    this.dispatchCellChangedEvent(column, newValue, oldValue);\n  };\n\n  RowNode.prototype.setGroupValue = function (colKey, newValue) {\n    var column = this.beans.columnModel.getGridColumn(colKey);\n\n    if (missing(this.groupData)) {\n      this.groupData = {};\n    }\n\n    var columnId = column.getColId();\n    var oldValue = this.groupData[columnId];\n\n    if (oldValue === newValue) {\n      return;\n    }\n\n    this.groupData[columnId] = newValue;\n    this.dispatchCellChangedEvent(column, newValue, oldValue);\n  }; // sets the data for an aggregation\n\n\n  RowNode.prototype.setAggData = function (newAggData) {\n    var _this = this; // find out all keys that could potentially change\n\n\n    var colIds = getAllKeysInObjects([this.aggData, newAggData]);\n    var oldAggData = this.aggData;\n    this.aggData = newAggData; // if no event service, nobody has registered for events, so no need fire event\n\n    if (this.eventService) {\n      colIds.forEach(function (colId) {\n        var column = _this.beans.columnModel.getGridColumn(colId);\n\n        var value = _this.aggData ? _this.aggData[colId] : undefined;\n        var oldValue = oldAggData ? oldAggData[colId] : undefined;\n\n        _this.dispatchCellChangedEvent(column, value, oldValue);\n      });\n    }\n  };\n\n  RowNode.prototype.updateHasChildren = function () {\n    // we need to return true when this.group=true, as this is used by server side row model\n    // (as children are lazy loaded and stored in a cache anyway). otherwise we return true\n    // if children exist.\n    var newValue = this.group && !this.footer || this.childrenAfterGroup && this.childrenAfterGroup.length > 0;\n\n    if (newValue !== this.__hasChildren) {\n      this.__hasChildren = !!newValue;\n\n      if (this.eventService) {\n        this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HAS_CHILDREN_CHANGED));\n      }\n    }\n  };\n\n  RowNode.prototype.hasChildren = function () {\n    if (this.__hasChildren == null) {\n      this.updateHasChildren();\n    }\n\n    return this.__hasChildren;\n  };\n\n  RowNode.prototype.isEmptyRowGroupNode = function () {\n    return this.group && missingOrEmpty(this.childrenAfterGroup);\n  };\n\n  RowNode.prototype.dispatchCellChangedEvent = function (column, newValue, oldValue) {\n    var cellChangedEvent = {\n      type: RowNode.EVENT_CELL_CHANGED,\n      node: this,\n      column: column,\n      newValue: newValue,\n      oldValue: oldValue\n    };\n    this.dispatchLocalEvent(cellChangedEvent);\n  };\n  /**\n   * The first time `quickFilter` runs, the grid creates a one-off string representation of the row.\n   * This string is then used for the quick filter instead of hitting each column separately.\n   * When you edit, using grid editing, this string gets cleared down.\n   * However if you edit without using grid editing, you will need to clear this string down for the row to be updated with the new values.\n   * Otherwise new values will not work with the `quickFilter`. */\n\n\n  RowNode.prototype.resetQuickFilterAggregateText = function () {\n    this.quickFilterAggregateText = null;\n  };\n\n  RowNode.prototype.isExpandable = function () {\n    return this.hasChildren() && !this.footer || this.master ? true : false;\n  };\n  /** Returns:\n   * - `true` if node is selected,\n   * - `false` if the node isn't selected\n   * - `undefined` if it's partially selected (group where not all children are selected). */\n\n\n  RowNode.prototype.isSelected = function () {\n    // for footers, we just return what our sibling selected state is, as cannot select a footer\n    if (this.footer) {\n      return this.sibling.isSelected();\n    }\n\n    return this.selected;\n  };\n  /** Perform a depth-first search of this node and its children. */\n\n\n  RowNode.prototype.depthFirstSearch = function (callback) {\n    if (this.childrenAfterGroup) {\n      this.childrenAfterGroup.forEach(function (child) {\n        return child.depthFirstSearch(callback);\n      });\n    }\n\n    callback(this);\n  }; // + rowController.updateGroupsInSelection()\n  // + selectionController.calculatedSelectedForAllGroupNodes()\n\n\n  RowNode.prototype.calculateSelectedFromChildren = function () {\n    var atLeastOneSelected = false;\n    var atLeastOneDeSelected = false;\n    var atLeastOneMixed = false;\n    var newSelectedValue;\n\n    if (this.childrenAfterGroup) {\n      for (var i = 0; i < this.childrenAfterGroup.length; i++) {\n        var child = this.childrenAfterGroup[i]; // skip non-selectable nodes to prevent inconsistent selection values\n\n        if (!child.selectable) {\n          continue;\n        }\n\n        var childState = child.isSelected();\n\n        switch (childState) {\n          case true:\n            atLeastOneSelected = true;\n            break;\n\n          case false:\n            atLeastOneDeSelected = true;\n            break;\n\n          default:\n            atLeastOneMixed = true;\n            break;\n        }\n      }\n    }\n\n    if (atLeastOneMixed) {\n      newSelectedValue = undefined;\n    } else if (atLeastOneSelected && !atLeastOneDeSelected) {\n      newSelectedValue = true;\n    } else if (!atLeastOneSelected && atLeastOneDeSelected) {\n      newSelectedValue = false;\n    } else {\n      newSelectedValue = undefined;\n    }\n\n    this.selectThisNode(newSelectedValue);\n  };\n\n  RowNode.prototype.setSelectedInitialValue = function (selected) {\n    this.selected = selected;\n  };\n  /**\n   * Select (or deselect) the node.\n   * @param newValue -`true` for selection, `false` for deselection.\n   * @param clearSelection - If selecting, then passing `true` for `clearSelection` will select the node exclusively (i.e. NOT do multi select). If doing deselection, `clearSelection` has no impact.\n   * @param suppressFinishActions\n   */\n\n\n  RowNode.prototype.setSelected = function (newValue, clearSelection, suppressFinishActions) {\n    if (clearSelection === void 0) {\n      clearSelection = false;\n    }\n\n    if (suppressFinishActions === void 0) {\n      suppressFinishActions = false;\n    }\n\n    this.setSelectedParams({\n      newValue: newValue,\n      clearSelection: clearSelection,\n      suppressFinishActions: suppressFinishActions,\n      rangeSelect: false\n    });\n  };\n\n  RowNode.prototype.isRowPinned = function () {\n    return this.rowPinned === Constants.PINNED_TOP || this.rowPinned === Constants.PINNED_BOTTOM;\n  }; // to make calling code more readable, this is the same method as setSelected except it takes names parameters\n\n\n  RowNode.prototype.setSelectedParams = function (params) {\n    var groupSelectsChildren = this.beans.gridOptionsWrapper.isGroupSelectsChildren();\n    var newValue = params.newValue === true;\n    var clearSelection = params.clearSelection === true;\n    var suppressFinishActions = params.suppressFinishActions === true;\n    var rangeSelect = params.rangeSelect === true; // groupSelectsFiltered only makes sense when group selects children\n\n    var groupSelectsFiltered = groupSelectsChildren && params.groupSelectsFiltered === true;\n\n    if (this.id === undefined) {\n      console.warn('AG Grid: cannot select node until id for node is known');\n      return 0;\n    }\n\n    if (this.rowPinned) {\n      console.warn('AG Grid: cannot select pinned rows');\n      return 0;\n    } // if we are a footer, we don't do selection, just pass the info\n    // to the sibling (the parent of the group)\n\n\n    if (this.footer) {\n      return this.sibling.setSelectedParams(params);\n    }\n\n    if (rangeSelect && this.beans.selectionService.getLastSelectedNode()) {\n      var newRowClicked = this.beans.selectionService.getLastSelectedNode() !== this;\n      var allowMultiSelect = this.beans.gridOptionsWrapper.isRowSelectionMulti();\n\n      if (newRowClicked && allowMultiSelect) {\n        var nodesChanged = this.doRowRangeSelection(params.newValue);\n        this.beans.selectionService.setLastSelectedNode(this);\n        return nodesChanged;\n      }\n    }\n\n    var updatedCount = 0; // when groupSelectsFiltered, then this node may end up intermediate despite\n    // trying to set it to true / false. this group will be calculated further on\n    // down when we call calculatedSelectedForAllGroupNodes(). we need to skip it\n    // here, otherwise the updatedCount would include it.\n\n    var skipThisNode = groupSelectsFiltered && this.group;\n\n    if (!skipThisNode) {\n      var thisNodeWasSelected = this.selectThisNode(newValue);\n\n      if (thisNodeWasSelected) {\n        updatedCount++;\n      }\n    }\n\n    if (groupSelectsChildren && this.group) {\n      updatedCount += this.selectChildNodes(newValue, groupSelectsFiltered);\n    } // clear other nodes if not doing multi select\n\n\n    if (!suppressFinishActions) {\n      var clearOtherNodes = newValue && (clearSelection || !this.beans.gridOptionsWrapper.isRowSelectionMulti());\n\n      if (clearOtherNodes) {\n        updatedCount += this.beans.selectionService.clearOtherNodes(this);\n      } // only if we selected something, then update groups and fire events\n\n\n      if (updatedCount > 0) {\n        this.beans.selectionService.updateGroupsFromChildrenSelections(); // this is the very end of the 'action node', so we are finished all the updates,\n        // include any parent / child changes that this method caused\n\n        var event_1 = {\n          type: Events.EVENT_SELECTION_CHANGED,\n          api: this.beans.gridApi,\n          columnApi: this.beans.columnApi\n        };\n        this.beans.eventService.dispatchEvent(event_1);\n      } // so if user next does shift-select, we know where to start the selection from\n\n\n      if (newValue) {\n        this.beans.selectionService.setLastSelectedNode(this);\n      }\n    }\n\n    return updatedCount;\n  }; // selects all rows between this node and the last selected node (or the top if this is the first selection).\n  // not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n  // holding down 'shift'.\n\n\n  RowNode.prototype.doRowRangeSelection = function (value) {\n    var _this = this;\n\n    if (value === void 0) {\n      value = true;\n    }\n\n    var groupsSelectChildren = this.beans.gridOptionsWrapper.isGroupSelectsChildren();\n    var lastSelectedNode = this.beans.selectionService.getLastSelectedNode();\n    var nodesToSelect = this.beans.rowModel.getNodesInRangeForSelection(this, lastSelectedNode);\n    var updatedCount = 0;\n    nodesToSelect.forEach(function (rowNode) {\n      if (rowNode.group && groupsSelectChildren || value === false && _this === rowNode) {\n        return;\n      }\n\n      var nodeWasSelected = rowNode.selectThisNode(value);\n\n      if (nodeWasSelected) {\n        updatedCount++;\n      }\n    });\n    this.beans.selectionService.updateGroupsFromChildrenSelections();\n    var event = {\n      type: Events.EVENT_SELECTION_CHANGED,\n      api: this.beans.gridApi,\n      columnApi: this.beans.columnApi\n    };\n    this.beans.eventService.dispatchEvent(event);\n    return updatedCount;\n  };\n\n  RowNode.prototype.isParentOfNode = function (potentialParent) {\n    var parentNode = this.parent;\n\n    while (parentNode) {\n      if (parentNode === potentialParent) {\n        return true;\n      }\n\n      parentNode = parentNode.parent;\n    }\n\n    return false;\n  };\n\n  RowNode.prototype.selectThisNode = function (newValue) {\n    // we only check selectable when newValue=true (ie selecting) to allow unselecting values,\n    // as selectable is dynamic, need a way to unselect rows when selectable becomes false.\n    var selectionNotAllowed = !this.selectable && newValue;\n    var selectionNotChanged = this.selected === newValue;\n\n    if (selectionNotAllowed || selectionNotChanged) {\n      return false;\n    }\n\n    this.selected = newValue;\n\n    if (this.eventService) {\n      this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));\n    }\n\n    var event = this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED);\n    this.beans.eventService.dispatchEvent(event);\n    return true;\n  };\n\n  RowNode.prototype.selectChildNodes = function (newValue, groupSelectsFiltered) {\n    var children = groupSelectsFiltered ? this.childrenAfterFilter : this.childrenAfterGroup;\n\n    if (missing(children)) {\n      return 0;\n    }\n\n    var updatedCount = 0;\n\n    for (var i = 0; i < children.length; i++) {\n      updatedCount += children[i].setSelectedParams({\n        newValue: newValue,\n        clearSelection: false,\n        suppressFinishActions: true,\n        groupSelectsFiltered: groupSelectsFiltered\n      });\n    }\n\n    return updatedCount;\n  };\n  /** Add an event listener. */\n\n\n  RowNode.prototype.addEventListener = function (eventType, listener) {\n    if (!this.eventService) {\n      this.eventService = new EventService();\n    }\n\n    this.eventService.addEventListener(eventType, listener);\n  };\n  /** Remove event listener. */\n\n\n  RowNode.prototype.removeEventListener = function (eventType, listener) {\n    if (!this.eventService) {\n      return;\n    }\n\n    this.eventService.removeEventListener(eventType, listener);\n\n    if (this.eventService.noRegisteredListenersExist()) {\n      this.eventService = null;\n    }\n  };\n\n  RowNode.prototype.onMouseEnter = function () {\n    this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER));\n  };\n\n  RowNode.prototype.onMouseLeave = function () {\n    this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE));\n  };\n\n  RowNode.prototype.getFirstChildOfFirstChild = function (rowGroupColumn) {\n    var currentRowNode = this;\n    var isCandidate = true;\n    var foundFirstChildPath = false;\n    var nodeToSwapIn = null; // if we are hiding groups, then if we are the first child, of the first child,\n    // all the way up to the column we are interested in, then we show the group cell.\n\n    while (isCandidate && !foundFirstChildPath) {\n      var parentRowNode = currentRowNode.parent;\n      var firstChild = exists(parentRowNode) && currentRowNode.firstChild;\n\n      if (firstChild) {\n        if (parentRowNode.rowGroupColumn === rowGroupColumn) {\n          foundFirstChildPath = true;\n          nodeToSwapIn = parentRowNode;\n        }\n      } else {\n        isCandidate = false;\n      }\n\n      currentRowNode = parentRowNode;\n    }\n\n    return foundFirstChildPath ? nodeToSwapIn : null;\n  };\n\n  RowNode.prototype.isFullWidthCell = function () {\n    var isFullWidthCellFunc = this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();\n    return isFullWidthCellFunc ? isFullWidthCellFunc(this) : false;\n  };\n  /**\n   * Returns the route of the row node. If the Row Node is a group, it returns the route to that Row Node.\n   * If the Row Node is not a group, it returns `undefined`.\n   */\n\n\n  RowNode.prototype.getRoute = function () {\n    if (this.key == null) {\n      return;\n    }\n\n    var res = [];\n    var pointer = this;\n\n    while (pointer.key != null) {\n      res.push(pointer.key);\n      pointer = pointer.parent;\n    }\n\n    return res.reverse();\n  };\n\n  RowNode.ID_PREFIX_ROW_GROUP = 'row-group-';\n  RowNode.ID_PREFIX_TOP_PINNED = 't-';\n  RowNode.ID_PREFIX_BOTTOM_PINNED = 'b-';\n  RowNode.OBJECT_ID_SEQUENCE = 0;\n  RowNode.EVENT_ROW_SELECTED = 'rowSelected';\n  RowNode.EVENT_DATA_CHANGED = 'dataChanged';\n  RowNode.EVENT_CELL_CHANGED = 'cellChanged';\n  RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED = 'allChildrenCountChanged';\n  RowNode.EVENT_MASTER_CHANGED = 'masterChanged';\n  RowNode.EVENT_MOUSE_ENTER = 'mouseEnter';\n  RowNode.EVENT_MOUSE_LEAVE = 'mouseLeave';\n  RowNode.EVENT_HEIGHT_CHANGED = 'heightChanged';\n  RowNode.EVENT_TOP_CHANGED = 'topChanged';\n  RowNode.EVENT_DISPLAYED_CHANGED = 'displayedChanged';\n  RowNode.EVENT_FIRST_CHILD_CHANGED = 'firstChildChanged';\n  RowNode.EVENT_LAST_CHILD_CHANGED = 'lastChildChanged';\n  RowNode.EVENT_CHILD_INDEX_CHANGED = 'childIndexChanged';\n  RowNode.EVENT_ROW_INDEX_CHANGED = 'rowIndexChanged';\n  RowNode.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n  RowNode.EVENT_HAS_CHILDREN_CHANGED = 'hasChildrenChanged';\n  RowNode.EVENT_SELECTABLE_CHANGED = 'selectableChanged';\n  RowNode.EVENT_UI_LEVEL_CHANGED = 'uiLevelChanged';\n  RowNode.EVENT_HIGHLIGHT_CHANGED = 'rowHighlightChanged';\n  RowNode.EVENT_DRAGGING_CHANGED = 'draggingChanged';\n  return RowNode;\n}();\n\nexport { RowNode };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/entities/rowNode.js"],"names":["EventService","Events","Constants","exists","missing","missingOrEmpty","assign","getAllKeysInObjects","startsWith","debounce","RowHighlightPosition","RowNode","beans","rowIndex","key","childrenMapped","displayed","rowTop","oldRowTop","selectable","__objectId","OBJECT_ID_SEQUENCE","__autoHeights","alreadyRendered","highlighted","selected","prototype","setData","data","setDataCommon","updateData","update","oldData","valueCache","onDataChanged","updateDataOnDetailNode","checkRowSelectable","event","createDataChangedEvent","dispatchLocalEvent","detailNode","newData","type","EVENT_DATA_CHANGED","node","createLocalRowEvent","getRowIndexString","rowPinned","PINNED_TOP","PINNED_BOTTOM","toString","createDaemonNode","oldNode","id","daemon","level","setDataAndId","setId","selectionService","syncInRowNode","isRowSelectableFunc","gridOptionsWrapper","getIsRowSelectableFunc","setRowSelectable","newVal","eventService","dispatchEvent","EVENT_SELECTABLE_CHANGED","getRowNodeId","getRowNodeIdFunc","ID_PREFIX_ROW_GROUP","console","error","undefined","isPixelInRange","pixel","rowHeight","setFirstChild","firstChild","EVENT_FIRST_CHILD_CHANGED","setLastChild","lastChild","EVENT_LAST_CHILD_CHANGED","setChildIndex","childIndex","EVENT_CHILD_INDEX_CHANGED","setRowTop","EVENT_TOP_CHANGED","setDisplayed","clearRowTopAndRowIndex","setRowIndex","EVENT_DISPLAYED_CHANGED","setDragging","dragging","EVENT_DRAGGING_CHANGED","setHighlighted","EVENT_HIGHLIGHT_CHANGED","setAllChildrenCount","allChildrenCount","EVENT_ALL_CHILDREN_COUNT_CHANGED","setMaster","master","expanded","EVENT_MASTER_CHANGED","setRowHeight","estimated","rowHeightEstimated","EVENT_HEIGHT_CHANGED","setRowAutoHeight","cellHeight","column","autoHeights","getId","checkAutoHeightsDebounced","checkAutoHeights","bind","notAllPresent","nonePresent","newRowHeight","displayedAutoHeightCols","columnModel","getAllDisplayedAutoHeightCols","forEach","col","getRowHeightForNode","height","rowModel","onRowHeightChanged","EVENT_ROW_INDEX_CHANGED","setUiLevel","uiLevel","EVENT_UI_LEVEL_CHANGED","setExpanded","EVENT_EXPANDED_CHANGED","createGlobalRowEvent","EVENT_ROW_GROUP_OPENED","rowNodeEventThrottle","dispatchExpanded","isGroupIncludeFooter","rowRenderer","refreshCells","rowNodes","context","getContext","api","getApi","columnApi","getColumnApi","setDataValue","colKey","newValue","eventSource","getPrimaryColumn","oldValue","valueService","getValue","setValue","dispatchCellChangedEvent","setGroupValue","getGridColumn","groupData","columnId","getColId","setAggData","newAggData","_this","colIds","aggData","oldAggData","colId","value","updateHasChildren","group","footer","childrenAfterGroup","length","__hasChildren","EVENT_HAS_CHILDREN_CHANGED","hasChildren","isEmptyRowGroupNode","cellChangedEvent","EVENT_CELL_CHANGED","resetQuickFilterAggregateText","quickFilterAggregateText","isExpandable","isSelected","sibling","depthFirstSearch","callback","child","calculateSelectedFromChildren","atLeastOneSelected","atLeastOneDeSelected","atLeastOneMixed","newSelectedValue","i","childState","selectThisNode","setSelectedInitialValue","setSelected","clearSelection","suppressFinishActions","setSelectedParams","rangeSelect","isRowPinned","params","groupSelectsChildren","isGroupSelectsChildren","groupSelectsFiltered","warn","getLastSelectedNode","newRowClicked","allowMultiSelect","isRowSelectionMulti","nodesChanged","doRowRangeSelection","setLastSelectedNode","updatedCount","skipThisNode","thisNodeWasSelected","selectChildNodes","clearOtherNodes","updateGroupsFromChildrenSelections","event_1","EVENT_SELECTION_CHANGED","gridApi","groupsSelectChildren","lastSelectedNode","nodesToSelect","getNodesInRangeForSelection","rowNode","nodeWasSelected","isParentOfNode","potentialParent","parentNode","parent","selectionNotAllowed","selectionNotChanged","EVENT_ROW_SELECTED","children","childrenAfterFilter","addEventListener","eventType","listener","removeEventListener","noRegisteredListenersExist","onMouseEnter","EVENT_MOUSE_ENTER","onMouseLeave","EVENT_MOUSE_LEAVE","getFirstChildOfFirstChild","rowGroupColumn","currentRowNode","isCandidate","foundFirstChildPath","nodeToSwapIn","parentRowNode","isFullWidthCell","isFullWidthCellFunc","getIsFullWidthCellFunc","getRoute","res","pointer","push","reverse","ID_PREFIX_TOP_PINNED","ID_PREFIX_BOTTOM_PINNED"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { EventService } from \"../eventService\";\nimport { Events } from \"../events\";\nimport { Constants } from \"../constants/constants\";\nimport { exists, missing, missingOrEmpty } from \"../utils/generic\";\nimport { assign, getAllKeysInObjects } from \"../utils/object\";\nimport { startsWith } from \"../utils/string\";\nimport { debounce } from \"../utils/function\";\nexport var RowHighlightPosition;\n(function (RowHighlightPosition) {\n    RowHighlightPosition[RowHighlightPosition[\"Above\"] = 0] = \"Above\";\n    RowHighlightPosition[RowHighlightPosition[\"Below\"] = 1] = \"Below\";\n})(RowHighlightPosition || (RowHighlightPosition = {}));\nvar RowNode = /** @class */ (function () {\n    function RowNode(beans) {\n        /** The current row index. If the row is filtered out or in a collapsed group, this value will be `null`. */\n        this.rowIndex = null;\n        /** The key for the group eg Ireland, UK, USA */\n        this.key = null;\n        /** Children mapped by the pivot columns. */\n        this.childrenMapped = {};\n        /**\n         * This will be `true` if it has a rowIndex assigned, otherwise `false`.\n         */\n        this.displayed = false;\n        /** The row top position in pixels. */\n        this.rowTop = null;\n        /** The top pixel for this row last time, makes sense if data set was ordered or filtered,\n         * it is used so new rows can animate in from their old position. */\n        this.oldRowTop = null;\n        /** `true` by default - can be overridden via gridOptions.isRowSelectable(rowNode) */\n        this.selectable = true;\n        /** Used by sorting service - to give deterministic sort to groups. Previously we\n         * just id for this, however id is a string and had slower sorting compared to numbers. */\n        this.__objectId = RowNode.OBJECT_ID_SEQUENCE++;\n        /** When one or more Columns are using autoHeight, this keeps track of height of each autoHeight Cell,\n         * indexed by the Column ID. */\n        this.__autoHeights = {};\n        /** `true` when nodes with the same id are being removed and added as part of the same batch transaction */\n        this.alreadyRendered = false;\n        this.highlighted = null;\n        this.selected = false;\n        this.beans = beans;\n    }\n    /** Replaces the data on the `rowNode`. When complete, the grid will refresh the the entire rendered row if it is showing. */\n    RowNode.prototype.setData = function (data) {\n        this.setDataCommon(data, false);\n    };\n    // similar to setRowData, however it is expected that the data is the same data item. this\n    // is intended to be used with Redux type stores, where the whole data can be changed. we are\n    // guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n    // underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n    // dataChanged event, will refresh the cells rather than rip them all out (so user can show transitions).\n    RowNode.prototype.updateData = function (data) {\n        this.setDataCommon(data, true);\n    };\n    RowNode.prototype.setDataCommon = function (data, update) {\n        var oldData = this.data;\n        this.data = data;\n        this.beans.valueCache.onDataChanged();\n        this.updateDataOnDetailNode();\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, update);\n        this.dispatchLocalEvent(event);\n    };\n    // when we are doing master / detail, the detail node is lazy created, but then kept around.\n    // so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n    // in sync, otherwise expand/collapse of the detail would still show the old values.\n    RowNode.prototype.updateDataOnDetailNode = function () {\n        if (this.detailNode) {\n            this.detailNode.data = this.data;\n        }\n    };\n    RowNode.prototype.createDataChangedEvent = function (newData, oldData, update) {\n        return {\n            type: RowNode.EVENT_DATA_CHANGED,\n            node: this,\n            oldData: oldData,\n            newData: newData,\n            update: update\n        };\n    };\n    RowNode.prototype.createLocalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this\n        };\n    };\n    RowNode.prototype.getRowIndexString = function () {\n        if (this.rowPinned === Constants.PINNED_TOP) {\n            return 't-' + this.rowIndex;\n        }\n        if (this.rowPinned === Constants.PINNED_BOTTOM) {\n            return 'b-' + this.rowIndex;\n        }\n        return this.rowIndex.toString();\n    };\n    RowNode.prototype.createDaemonNode = function () {\n        var oldNode = new RowNode(this.beans);\n        // just copy the id and data, this is enough for the node to be used\n        // in the selection controller (the selection controller is the only\n        // place where daemon nodes can live).\n        oldNode.id = this.id;\n        oldNode.data = this.data;\n        oldNode.daemon = true;\n        oldNode.selected = this.selected;\n        oldNode.level = this.level;\n        return oldNode;\n    };\n    RowNode.prototype.setDataAndId = function (data, id) {\n        var oldNode = exists(this.id) ? this.createDaemonNode() : null;\n        var oldData = this.data;\n        this.data = data;\n        this.updateDataOnDetailNode();\n        this.setId(id);\n        this.beans.selectionService.syncInRowNode(this, oldNode);\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, false);\n        this.dispatchLocalEvent(event);\n    };\n    RowNode.prototype.checkRowSelectable = function () {\n        var isRowSelectableFunc = this.beans.gridOptionsWrapper.getIsRowSelectableFunc();\n        this.setRowSelectable(isRowSelectableFunc ? isRowSelectableFunc(this) : true);\n    };\n    RowNode.prototype.setRowSelectable = function (newVal) {\n        if (this.selectable !== newVal) {\n            this.selectable = newVal;\n            if (this.eventService) {\n                this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED));\n            }\n        }\n    };\n    RowNode.prototype.setId = function (id) {\n        // see if user is providing the id's\n        var getRowNodeId = this.beans.gridOptionsWrapper.getRowNodeIdFunc();\n        if (getRowNodeId) {\n            // if user is providing the id's, then we set the id only after the data has been set.\n            // this is important for virtual pagination and viewport, where empty rows exist.\n            if (this.data) {\n                this.id = getRowNodeId(this.data);\n                // make sure id provided doesn't start with 'row-group-' as this is reserved. also check that\n                // it has 'startsWith' in case the user provided a number.\n                if (this.id && typeof this.id === 'string' && startsWith(this.id, RowNode.ID_PREFIX_ROW_GROUP)) {\n                    console.error(\"AG Grid: Row ID's cannot start with \" + RowNode.ID_PREFIX_ROW_GROUP + \", this is a reserved prefix for AG Grid's row grouping feature.\");\n                }\n                // force id to be a string\n                if (this.id && typeof this.id !== 'string') {\n                    this.id = '' + this.id;\n                }\n            }\n            else {\n                // this can happen if user has set blank into the rowNode after the row previously\n                // having data. this happens in virtual page row model, when data is delete and\n                // the page is refreshed.\n                this.id = undefined;\n            }\n        }\n        else {\n            this.id = id;\n        }\n    };\n    RowNode.prototype.isPixelInRange = function (pixel) {\n        if (!exists(this.rowTop) || !exists(this.rowHeight)) {\n            return false;\n        }\n        return pixel >= this.rowTop && pixel < (this.rowTop + this.rowHeight);\n    };\n    RowNode.prototype.setFirstChild = function (firstChild) {\n        if (this.firstChild === firstChild) {\n            return;\n        }\n        this.firstChild = firstChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setLastChild = function (lastChild) {\n        if (this.lastChild === lastChild) {\n            return;\n        }\n        this.lastChild = lastChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setChildIndex = function (childIndex) {\n        if (this.childIndex === childIndex) {\n            return;\n        }\n        this.childIndex = childIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowTop = function (rowTop) {\n        this.oldRowTop = this.rowTop;\n        if (this.rowTop === rowTop) {\n            return;\n        }\n        this.rowTop = rowTop;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED));\n        }\n        this.setDisplayed(rowTop !== null);\n    };\n    RowNode.prototype.clearRowTopAndRowIndex = function () {\n        this.oldRowTop = null;\n        this.setRowTop(null);\n        this.setRowIndex(null);\n    };\n    RowNode.prototype.setDisplayed = function (displayed) {\n        if (this.displayed === displayed) {\n            return;\n        }\n        this.displayed = displayed;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DISPLAYED_CHANGED));\n        }\n    };\n    RowNode.prototype.setDragging = function (dragging) {\n        if (this.dragging === dragging) {\n            return;\n        }\n        this.dragging = dragging;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED));\n        }\n    };\n    RowNode.prototype.setHighlighted = function (highlighted) {\n        if (highlighted === this.highlighted) {\n            return;\n        }\n        this.highlighted = highlighted;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setAllChildrenCount = function (allChildrenCount) {\n        if (this.allChildrenCount === allChildrenCount) {\n            return;\n        }\n        this.allChildrenCount = allChildrenCount;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED));\n        }\n    };\n    RowNode.prototype.setMaster = function (master) {\n        if (this.master === master) {\n            return;\n        }\n        // if changing AWAY from master, then unexpand, otherwise\n        // next time it's shown it is expanded again\n        if (this.master && !master) {\n            this.expanded = false;\n        }\n        this.master = master;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_MASTER_CHANGED));\n        }\n    };\n    /**\n     * Sets the row height.\n     * Call if you want to change the height initially assigned to the row.\n     * After calling, you must call `api.onRowHeightChanged()` so the grid knows it needs to work out the placement of the rows. */\n    RowNode.prototype.setRowHeight = function (rowHeight, estimated) {\n        if (estimated === void 0) { estimated = false; }\n        this.rowHeight = rowHeight;\n        this.rowHeightEstimated = estimated;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowAutoHeight = function (cellHeight, column) {\n        if (!this.__autoHeights) {\n            this.__autoHeights = {};\n        }\n        var autoHeights = this.__autoHeights;\n        autoHeights[column.getId()] = cellHeight;\n        if (cellHeight != null) {\n            if (this.checkAutoHeightsDebounced == null) {\n                this.checkAutoHeightsDebounced = debounce(this.checkAutoHeights.bind(this), 1);\n            }\n            this.checkAutoHeightsDebounced();\n        }\n    };\n    RowNode.prototype.checkAutoHeights = function () {\n        var notAllPresent = false;\n        var nonePresent = true;\n        var newRowHeight = 0;\n        var autoHeights = this.__autoHeights;\n        if (autoHeights == null) {\n            return;\n        }\n        var displayedAutoHeightCols = this.beans.columnModel.getAllDisplayedAutoHeightCols();\n        displayedAutoHeightCols.forEach(function (col) {\n            var cellHeight = autoHeights[col.getId()];\n            if (cellHeight == null) {\n                notAllPresent = true;\n                return;\n            }\n            nonePresent = false;\n            if (cellHeight > newRowHeight) {\n                newRowHeight = cellHeight;\n            }\n        });\n        if (notAllPresent) {\n            return;\n        }\n        // we take min of 10, so we don't adjust for empty rows. if <10, we put to default.\n        // this prevents the row starting very small when waiting for async components, \n        // which would then mean the grid squashes in far to many rows (as small heights\n        // means more rows fit in) which looks crap. so best ignore small values and assume \n        // we are still waiting for values to render.\n        if (nonePresent || newRowHeight < 10) {\n            newRowHeight = this.beans.gridOptionsWrapper.getRowHeightForNode(this).height;\n        }\n        if (newRowHeight == this.rowHeight) {\n            return;\n        }\n        this.setRowHeight(newRowHeight);\n        var rowModel = this.beans.rowModel;\n        rowModel.onRowHeightChanged && rowModel.onRowHeightChanged();\n    };\n    RowNode.prototype.setRowIndex = function (rowIndex) {\n        if (this.rowIndex === rowIndex) {\n            return;\n        }\n        this.rowIndex = rowIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setUiLevel = function (uiLevel) {\n        if (this.uiLevel === uiLevel) {\n            return;\n        }\n        this.uiLevel = uiLevel;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED));\n        }\n    };\n    RowNode.prototype.setExpanded = function (expanded) {\n        if (this.expanded === expanded) {\n            return;\n        }\n        this.expanded = expanded;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));\n        }\n        var event = assign({}, this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED), {\n            expanded: expanded\n        });\n        this.beans.rowNodeEventThrottle.dispatchExpanded(event);\n        // when using footers we need to refresh the group row, as the aggregation\n        // values jump between group and footer\n        if (this.beans.gridOptionsWrapper.isGroupIncludeFooter()) {\n            this.beans.rowRenderer.refreshCells({ rowNodes: [this] });\n        }\n    };\n    RowNode.prototype.createGlobalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this,\n            data: this.data,\n            rowIndex: this.rowIndex,\n            rowPinned: this.rowPinned,\n            context: this.beans.gridOptionsWrapper.getContext(),\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi()\n        };\n    };\n    RowNode.prototype.dispatchLocalEvent = function (event) {\n        if (this.eventService) {\n            this.eventService.dispatchEvent(event);\n        }\n    };\n    // we also allow editing the value via the editors. when it is done via\n    // the editors, no 'cell changed' event gets fired, as it's assumed that\n    // the cell knows about the change given it's in charge of the editing.\n    // this method is for the client to call, so the cell listens for the change\n    // event, and also flashes the cell when the change occurs.\n    /** Replaces the value on the `rowNode` for the specified column. When complete, the grid will refresh the rendered cell on the required row only. */\n    RowNode.prototype.setDataValue = function (colKey, newValue, eventSource) {\n        var column = this.beans.columnModel.getPrimaryColumn(colKey);\n        var oldValue = this.beans.valueService.getValue(column, this);\n        this.beans.valueService.setValue(this, column, newValue, eventSource);\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    RowNode.prototype.setGroupValue = function (colKey, newValue) {\n        var column = this.beans.columnModel.getGridColumn(colKey);\n        if (missing(this.groupData)) {\n            this.groupData = {};\n        }\n        var columnId = column.getColId();\n        var oldValue = this.groupData[columnId];\n        if (oldValue === newValue) {\n            return;\n        }\n        this.groupData[columnId] = newValue;\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    // sets the data for an aggregation\n    RowNode.prototype.setAggData = function (newAggData) {\n        var _this = this;\n        // find out all keys that could potentially change\n        var colIds = getAllKeysInObjects([this.aggData, newAggData]);\n        var oldAggData = this.aggData;\n        this.aggData = newAggData;\n        // if no event service, nobody has registered for events, so no need fire event\n        if (this.eventService) {\n            colIds.forEach(function (colId) {\n                var column = _this.beans.columnModel.getGridColumn(colId);\n                var value = _this.aggData ? _this.aggData[colId] : undefined;\n                var oldValue = oldAggData ? oldAggData[colId] : undefined;\n                _this.dispatchCellChangedEvent(column, value, oldValue);\n            });\n        }\n    };\n    RowNode.prototype.updateHasChildren = function () {\n        // we need to return true when this.group=true, as this is used by server side row model\n        // (as children are lazy loaded and stored in a cache anyway). otherwise we return true\n        // if children exist.\n        var newValue = (this.group && !this.footer) || (this.childrenAfterGroup && this.childrenAfterGroup.length > 0);\n        if (newValue !== this.__hasChildren) {\n            this.__hasChildren = !!newValue;\n            if (this.eventService) {\n                this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HAS_CHILDREN_CHANGED));\n            }\n        }\n    };\n    RowNode.prototype.hasChildren = function () {\n        if (this.__hasChildren == null) {\n            this.updateHasChildren();\n        }\n        return this.__hasChildren;\n    };\n    RowNode.prototype.isEmptyRowGroupNode = function () {\n        return this.group && missingOrEmpty(this.childrenAfterGroup);\n    };\n    RowNode.prototype.dispatchCellChangedEvent = function (column, newValue, oldValue) {\n        var cellChangedEvent = {\n            type: RowNode.EVENT_CELL_CHANGED,\n            node: this,\n            column: column,\n            newValue: newValue,\n            oldValue: oldValue\n        };\n        this.dispatchLocalEvent(cellChangedEvent);\n    };\n    /**\n     * The first time `quickFilter` runs, the grid creates a one-off string representation of the row.\n     * This string is then used for the quick filter instead of hitting each column separately.\n     * When you edit, using grid editing, this string gets cleared down.\n     * However if you edit without using grid editing, you will need to clear this string down for the row to be updated with the new values.\n     * Otherwise new values will not work with the `quickFilter`. */\n    RowNode.prototype.resetQuickFilterAggregateText = function () {\n        this.quickFilterAggregateText = null;\n    };\n    RowNode.prototype.isExpandable = function () {\n        return (this.hasChildren() && !this.footer) || this.master ? true : false;\n    };\n    /** Returns:\n     * - `true` if node is selected,\n     * - `false` if the node isn't selected\n     * - `undefined` if it's partially selected (group where not all children are selected). */\n    RowNode.prototype.isSelected = function () {\n        // for footers, we just return what our sibling selected state is, as cannot select a footer\n        if (this.footer) {\n            return this.sibling.isSelected();\n        }\n        return this.selected;\n    };\n    /** Perform a depth-first search of this node and its children. */\n    RowNode.prototype.depthFirstSearch = function (callback) {\n        if (this.childrenAfterGroup) {\n            this.childrenAfterGroup.forEach(function (child) { return child.depthFirstSearch(callback); });\n        }\n        callback(this);\n    };\n    // + rowController.updateGroupsInSelection()\n    // + selectionController.calculatedSelectedForAllGroupNodes()\n    RowNode.prototype.calculateSelectedFromChildren = function () {\n        var atLeastOneSelected = false;\n        var atLeastOneDeSelected = false;\n        var atLeastOneMixed = false;\n        var newSelectedValue;\n        if (this.childrenAfterGroup) {\n            for (var i = 0; i < this.childrenAfterGroup.length; i++) {\n                var child = this.childrenAfterGroup[i];\n                // skip non-selectable nodes to prevent inconsistent selection values\n                if (!child.selectable) {\n                    continue;\n                }\n                var childState = child.isSelected();\n                switch (childState) {\n                    case true:\n                        atLeastOneSelected = true;\n                        break;\n                    case false:\n                        atLeastOneDeSelected = true;\n                        break;\n                    default:\n                        atLeastOneMixed = true;\n                        break;\n                }\n            }\n        }\n        if (atLeastOneMixed) {\n            newSelectedValue = undefined;\n        }\n        else if (atLeastOneSelected && !atLeastOneDeSelected) {\n            newSelectedValue = true;\n        }\n        else if (!atLeastOneSelected && atLeastOneDeSelected) {\n            newSelectedValue = false;\n        }\n        else {\n            newSelectedValue = undefined;\n        }\n        this.selectThisNode(newSelectedValue);\n    };\n    RowNode.prototype.setSelectedInitialValue = function (selected) {\n        this.selected = selected;\n    };\n    /**\n     * Select (or deselect) the node.\n     * @param newValue -`true` for selection, `false` for deselection.\n     * @param clearSelection - If selecting, then passing `true` for `clearSelection` will select the node exclusively (i.e. NOT do multi select). If doing deselection, `clearSelection` has no impact.\n     * @param suppressFinishActions\n     */\n    RowNode.prototype.setSelected = function (newValue, clearSelection, suppressFinishActions) {\n        if (clearSelection === void 0) { clearSelection = false; }\n        if (suppressFinishActions === void 0) { suppressFinishActions = false; }\n        this.setSelectedParams({\n            newValue: newValue,\n            clearSelection: clearSelection,\n            suppressFinishActions: suppressFinishActions,\n            rangeSelect: false\n        });\n    };\n    RowNode.prototype.isRowPinned = function () {\n        return this.rowPinned === Constants.PINNED_TOP || this.rowPinned === Constants.PINNED_BOTTOM;\n    };\n    // to make calling code more readable, this is the same method as setSelected except it takes names parameters\n    RowNode.prototype.setSelectedParams = function (params) {\n        var groupSelectsChildren = this.beans.gridOptionsWrapper.isGroupSelectsChildren();\n        var newValue = params.newValue === true;\n        var clearSelection = params.clearSelection === true;\n        var suppressFinishActions = params.suppressFinishActions === true;\n        var rangeSelect = params.rangeSelect === true;\n        // groupSelectsFiltered only makes sense when group selects children\n        var groupSelectsFiltered = groupSelectsChildren && (params.groupSelectsFiltered === true);\n        if (this.id === undefined) {\n            console.warn('AG Grid: cannot select node until id for node is known');\n            return 0;\n        }\n        if (this.rowPinned) {\n            console.warn('AG Grid: cannot select pinned rows');\n            return 0;\n        }\n        // if we are a footer, we don't do selection, just pass the info\n        // to the sibling (the parent of the group)\n        if (this.footer) {\n            return this.sibling.setSelectedParams(params);\n        }\n        if (rangeSelect && this.beans.selectionService.getLastSelectedNode()) {\n            var newRowClicked = this.beans.selectionService.getLastSelectedNode() !== this;\n            var allowMultiSelect = this.beans.gridOptionsWrapper.isRowSelectionMulti();\n            if (newRowClicked && allowMultiSelect) {\n                var nodesChanged = this.doRowRangeSelection(params.newValue);\n                this.beans.selectionService.setLastSelectedNode(this);\n                return nodesChanged;\n            }\n        }\n        var updatedCount = 0;\n        // when groupSelectsFiltered, then this node may end up intermediate despite\n        // trying to set it to true / false. this group will be calculated further on\n        // down when we call calculatedSelectedForAllGroupNodes(). we need to skip it\n        // here, otherwise the updatedCount would include it.\n        var skipThisNode = groupSelectsFiltered && this.group;\n        if (!skipThisNode) {\n            var thisNodeWasSelected = this.selectThisNode(newValue);\n            if (thisNodeWasSelected) {\n                updatedCount++;\n            }\n        }\n        if (groupSelectsChildren && this.group) {\n            updatedCount += this.selectChildNodes(newValue, groupSelectsFiltered);\n        }\n        // clear other nodes if not doing multi select\n        if (!suppressFinishActions) {\n            var clearOtherNodes = newValue && (clearSelection || !this.beans.gridOptionsWrapper.isRowSelectionMulti());\n            if (clearOtherNodes) {\n                updatedCount += this.beans.selectionService.clearOtherNodes(this);\n            }\n            // only if we selected something, then update groups and fire events\n            if (updatedCount > 0) {\n                this.beans.selectionService.updateGroupsFromChildrenSelections();\n                // this is the very end of the 'action node', so we are finished all the updates,\n                // include any parent / child changes that this method caused\n                var event_1 = {\n                    type: Events.EVENT_SELECTION_CHANGED,\n                    api: this.beans.gridApi,\n                    columnApi: this.beans.columnApi\n                };\n                this.beans.eventService.dispatchEvent(event_1);\n            }\n            // so if user next does shift-select, we know where to start the selection from\n            if (newValue) {\n                this.beans.selectionService.setLastSelectedNode(this);\n            }\n        }\n        return updatedCount;\n    };\n    // selects all rows between this node and the last selected node (or the top if this is the first selection).\n    // not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n    // holding down 'shift'.\n    RowNode.prototype.doRowRangeSelection = function (value) {\n        var _this = this;\n        if (value === void 0) { value = true; }\n        var groupsSelectChildren = this.beans.gridOptionsWrapper.isGroupSelectsChildren();\n        var lastSelectedNode = this.beans.selectionService.getLastSelectedNode();\n        var nodesToSelect = this.beans.rowModel.getNodesInRangeForSelection(this, lastSelectedNode);\n        var updatedCount = 0;\n        nodesToSelect.forEach(function (rowNode) {\n            if (rowNode.group && groupsSelectChildren || (value === false && _this === rowNode)) {\n                return;\n            }\n            var nodeWasSelected = rowNode.selectThisNode(value);\n            if (nodeWasSelected) {\n                updatedCount++;\n            }\n        });\n        this.beans.selectionService.updateGroupsFromChildrenSelections();\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.beans.gridApi,\n            columnApi: this.beans.columnApi\n        };\n        this.beans.eventService.dispatchEvent(event);\n        return updatedCount;\n    };\n    RowNode.prototype.isParentOfNode = function (potentialParent) {\n        var parentNode = this.parent;\n        while (parentNode) {\n            if (parentNode === potentialParent) {\n                return true;\n            }\n            parentNode = parentNode.parent;\n        }\n        return false;\n    };\n    RowNode.prototype.selectThisNode = function (newValue) {\n        // we only check selectable when newValue=true (ie selecting) to allow unselecting values,\n        // as selectable is dynamic, need a way to unselect rows when selectable becomes false.\n        var selectionNotAllowed = !this.selectable && newValue;\n        var selectionNotChanged = this.selected === newValue;\n        if (selectionNotAllowed || selectionNotChanged) {\n            return false;\n        }\n        this.selected = newValue;\n        if (this.eventService) {\n            this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));\n        }\n        var event = this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED);\n        this.beans.eventService.dispatchEvent(event);\n        return true;\n    };\n    RowNode.prototype.selectChildNodes = function (newValue, groupSelectsFiltered) {\n        var children = groupSelectsFiltered ? this.childrenAfterFilter : this.childrenAfterGroup;\n        if (missing(children)) {\n            return 0;\n        }\n        var updatedCount = 0;\n        for (var i = 0; i < children.length; i++) {\n            updatedCount += children[i].setSelectedParams({\n                newValue: newValue,\n                clearSelection: false,\n                suppressFinishActions: true,\n                groupSelectsFiltered: groupSelectsFiltered\n            });\n        }\n        return updatedCount;\n    };\n    /** Add an event listener. */\n    RowNode.prototype.addEventListener = function (eventType, listener) {\n        if (!this.eventService) {\n            this.eventService = new EventService();\n        }\n        this.eventService.addEventListener(eventType, listener);\n    };\n    /** Remove event listener. */\n    RowNode.prototype.removeEventListener = function (eventType, listener) {\n        if (!this.eventService) {\n            return;\n        }\n        this.eventService.removeEventListener(eventType, listener);\n        if (this.eventService.noRegisteredListenersExist()) {\n            this.eventService = null;\n        }\n    };\n    RowNode.prototype.onMouseEnter = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER));\n    };\n    RowNode.prototype.onMouseLeave = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE));\n    };\n    RowNode.prototype.getFirstChildOfFirstChild = function (rowGroupColumn) {\n        var currentRowNode = this;\n        var isCandidate = true;\n        var foundFirstChildPath = false;\n        var nodeToSwapIn = null;\n        // if we are hiding groups, then if we are the first child, of the first child,\n        // all the way up to the column we are interested in, then we show the group cell.\n        while (isCandidate && !foundFirstChildPath) {\n            var parentRowNode = currentRowNode.parent;\n            var firstChild = exists(parentRowNode) && currentRowNode.firstChild;\n            if (firstChild) {\n                if (parentRowNode.rowGroupColumn === rowGroupColumn) {\n                    foundFirstChildPath = true;\n                    nodeToSwapIn = parentRowNode;\n                }\n            }\n            else {\n                isCandidate = false;\n            }\n            currentRowNode = parentRowNode;\n        }\n        return foundFirstChildPath ? nodeToSwapIn : null;\n    };\n    RowNode.prototype.isFullWidthCell = function () {\n        var isFullWidthCellFunc = this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();\n        return isFullWidthCellFunc ? isFullWidthCellFunc(this) : false;\n    };\n    /**\n     * Returns the route of the row node. If the Row Node is a group, it returns the route to that Row Node.\n     * If the Row Node is not a group, it returns `undefined`.\n     */\n    RowNode.prototype.getRoute = function () {\n        if (this.key == null) {\n            return;\n        }\n        var res = [];\n        var pointer = this;\n        while (pointer.key != null) {\n            res.push(pointer.key);\n            pointer = pointer.parent;\n        }\n        return res.reverse();\n    };\n    RowNode.ID_PREFIX_ROW_GROUP = 'row-group-';\n    RowNode.ID_PREFIX_TOP_PINNED = 't-';\n    RowNode.ID_PREFIX_BOTTOM_PINNED = 'b-';\n    RowNode.OBJECT_ID_SEQUENCE = 0;\n    RowNode.EVENT_ROW_SELECTED = 'rowSelected';\n    RowNode.EVENT_DATA_CHANGED = 'dataChanged';\n    RowNode.EVENT_CELL_CHANGED = 'cellChanged';\n    RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED = 'allChildrenCountChanged';\n    RowNode.EVENT_MASTER_CHANGED = 'masterChanged';\n    RowNode.EVENT_MOUSE_ENTER = 'mouseEnter';\n    RowNode.EVENT_MOUSE_LEAVE = 'mouseLeave';\n    RowNode.EVENT_HEIGHT_CHANGED = 'heightChanged';\n    RowNode.EVENT_TOP_CHANGED = 'topChanged';\n    RowNode.EVENT_DISPLAYED_CHANGED = 'displayedChanged';\n    RowNode.EVENT_FIRST_CHILD_CHANGED = 'firstChildChanged';\n    RowNode.EVENT_LAST_CHILD_CHANGED = 'lastChildChanged';\n    RowNode.EVENT_CHILD_INDEX_CHANGED = 'childIndexChanged';\n    RowNode.EVENT_ROW_INDEX_CHANGED = 'rowIndexChanged';\n    RowNode.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n    RowNode.EVENT_HAS_CHILDREN_CHANGED = 'hasChildrenChanged';\n    RowNode.EVENT_SELECTABLE_CHANGED = 'selectableChanged';\n    RowNode.EVENT_UI_LEVEL_CHANGED = 'uiLevelChanged';\n    RowNode.EVENT_HIGHLIGHT_CHANGED = 'rowHighlightChanged';\n    RowNode.EVENT_DRAGGING_CHANGED = 'draggingChanged';\n    return RowNode;\n}());\nexport { RowNode };\n"]},"metadata":{},"sourceType":"module"}