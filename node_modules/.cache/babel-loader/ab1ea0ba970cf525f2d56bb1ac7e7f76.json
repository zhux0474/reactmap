{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Events } from \"../../events\";\nimport { isBrowserEdge, isBrowserIE, isIOSUserAgent } from \"../../utils/browser\";\nimport { isElementChildOfClass, isFocusableFormField } from \"../../utils/dom\";\nimport { isEventSupported, isStopPropagationForAgGrid } from \"../../utils/event\";\nimport { Beans } from \"../beans\";\n\nvar CellMouseListenerFeature =\n/** @class */\nfunction (_super) {\n  __extends(CellMouseListenerFeature, _super);\n\n  function CellMouseListenerFeature(ctrl, beans, column) {\n    var _this = _super.call(this) || this;\n\n    _this.cellCtrl = ctrl;\n    _this.beans = beans;\n    _this.column = column;\n    return _this;\n  }\n\n  CellMouseListenerFeature.prototype.onMouseEvent = function (eventName, mouseEvent) {\n    if (isStopPropagationForAgGrid(mouseEvent)) {\n      return;\n    }\n\n    switch (eventName) {\n      case 'click':\n        this.onCellClicked(mouseEvent);\n        break;\n\n      case 'mousedown':\n      case 'touchstart':\n        this.onMouseDown(mouseEvent);\n        break;\n\n      case 'dblclick':\n        this.onCellDoubleClicked(mouseEvent);\n        break;\n\n      case 'mouseout':\n        this.onMouseOut(mouseEvent);\n        break;\n\n      case 'mouseover':\n        this.onMouseOver(mouseEvent);\n        break;\n    }\n  };\n\n  CellMouseListenerFeature.prototype.onCellClicked = function (mouseEvent) {\n    // iPad doesn't have double click - so we need to mimic it to enable editing for iPad.\n    if (this.isDoubleClickOnIPad()) {\n      this.onCellDoubleClicked(mouseEvent);\n      mouseEvent.preventDefault(); // if we don't do this, then iPad zooms in\n\n      return;\n    }\n\n    var _a = this.beans,\n        eventService = _a.eventService,\n        gridOptionsWrapper = _a.gridOptionsWrapper;\n    var cellClickedEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_CLICKED);\n    eventService.dispatchEvent(cellClickedEvent);\n    var colDef = this.column.getColDef();\n\n    if (colDef.onCellClicked) {\n      // to make callback async, do in a timeout\n      window.setTimeout(function () {\n        return colDef.onCellClicked(cellClickedEvent);\n      }, 0);\n    }\n\n    var editOnSingleClick = (gridOptionsWrapper.isSingleClickEdit() || colDef.singleClickEdit) && !gridOptionsWrapper.isSuppressClickEdit();\n\n    if (editOnSingleClick) {\n      this.cellCtrl.startRowOrCellEdit();\n    }\n  }; // returns true if on iPad and this is second 'click' event in 200ms\n\n\n  CellMouseListenerFeature.prototype.isDoubleClickOnIPad = function () {\n    if (!isIOSUserAgent() || isEventSupported('dblclick')) {\n      return false;\n    }\n\n    var nowMillis = new Date().getTime();\n    var res = nowMillis - this.lastIPadMouseClickEvent < 200;\n    this.lastIPadMouseClickEvent = nowMillis;\n    return res;\n  };\n\n  CellMouseListenerFeature.prototype.onCellDoubleClicked = function (mouseEvent) {\n    var colDef = this.column.getColDef(); // always dispatch event to eventService\n\n    var cellDoubleClickedEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_DOUBLE_CLICKED);\n    this.beans.eventService.dispatchEvent(cellDoubleClickedEvent); // check if colDef also wants to handle event\n\n    if (typeof colDef.onCellDoubleClicked === 'function') {\n      // to make the callback async, do in a timeout\n      window.setTimeout(function () {\n        return colDef.onCellDoubleClicked(cellDoubleClickedEvent);\n      }, 0);\n    }\n\n    var editOnDoubleClick = !this.beans.gridOptionsWrapper.isSingleClickEdit() && !this.beans.gridOptionsWrapper.isSuppressClickEdit();\n\n    if (editOnDoubleClick) {\n      this.cellCtrl.startRowOrCellEdit();\n    }\n  };\n\n  CellMouseListenerFeature.prototype.onMouseDown = function (mouseEvent) {\n    var ctrlKey = mouseEvent.ctrlKey,\n        metaKey = mouseEvent.metaKey,\n        shiftKey = mouseEvent.shiftKey;\n    var target = mouseEvent.target;\n    var _a = this.beans,\n        eventService = _a.eventService,\n        rangeService = _a.rangeService; // do not change the range for right-clicks inside an existing range\n\n    if (this.isRightClickInExistingRange(mouseEvent)) {\n      return;\n    }\n\n    var ranges = rangeService && rangeService.getCellRanges().length != 0;\n\n    if (!shiftKey || !ranges) {\n      // We only need to pass true to focusCell when the browser is IE/Edge and we are trying\n      // to focus the cell itself. This should never be true if the mousedown was triggered\n      // due to a click on a cell editor for example.\n      var forceBrowserFocus = (isBrowserIE() || isBrowserEdge()) && !this.cellCtrl.isEditing() && !isFocusableFormField(target);\n      this.cellCtrl.focusCell(forceBrowserFocus);\n    } // if shift clicking, and a range exists, we keep the focus on the cell that started the\n    // range as the user then changes the range selection.\n\n\n    if (shiftKey && ranges) {\n      // this stops the cell from getting focused\n      mouseEvent.preventDefault();\n    } // if we are clicking on a checkbox, we need to make sure the cell wrapping that checkbox\n    // is focused but we don't want to change the range selection, so return here.\n\n\n    if (this.containsWidget(target)) {\n      return;\n    }\n\n    if (rangeService) {\n      var thisCell = this.cellCtrl.getCellPosition();\n\n      if (shiftKey) {\n        rangeService.extendLatestRangeToCell(thisCell);\n      } else {\n        var ctrlKeyPressed = ctrlKey || metaKey;\n        rangeService.setRangeToCell(thisCell, ctrlKeyPressed);\n      }\n    }\n\n    eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_DOWN));\n  };\n\n  CellMouseListenerFeature.prototype.isRightClickInExistingRange = function (mouseEvent) {\n    var rangeService = this.beans.rangeService;\n\n    if (rangeService) {\n      var cellInRange = rangeService.isCellInAnyRange(this.cellCtrl.getCellPosition());\n\n      if (cellInRange && mouseEvent.button === 2) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CellMouseListenerFeature.prototype.containsWidget = function (target) {\n    return isElementChildOfClass(target, 'ag-selection-checkbox', 3);\n  };\n\n  CellMouseListenerFeature.prototype.onMouseOut = function (mouseEvent) {\n    if (this.mouseStayingInsideCell(mouseEvent)) {\n      return;\n    }\n\n    var cellMouseOutEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OUT);\n    this.beans.eventService.dispatchEvent(cellMouseOutEvent);\n    this.beans.columnHoverService.clearMouseOver();\n  };\n\n  CellMouseListenerFeature.prototype.onMouseOver = function (mouseEvent) {\n    if (this.mouseStayingInsideCell(mouseEvent)) {\n      return;\n    }\n\n    var cellMouseOverEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OVER);\n    this.beans.eventService.dispatchEvent(cellMouseOverEvent);\n    this.beans.columnHoverService.setMouseOver([this.column]);\n  };\n\n  CellMouseListenerFeature.prototype.mouseStayingInsideCell = function (e) {\n    if (!e.target || !e.relatedTarget) {\n      return false;\n    }\n\n    var eGui = this.cellCtrl.getGui();\n    var cellContainsTarget = eGui.contains(e.target);\n    var cellContainsRelatedTarget = eGui.contains(e.relatedTarget);\n    return cellContainsTarget && cellContainsRelatedTarget;\n  };\n\n  CellMouseListenerFeature.prototype.destroy = function () {};\n\n  return CellMouseListenerFeature;\n}(Beans);\n\nexport { CellMouseListenerFeature };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/rendering/cell/cellMouseListenerFeature.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Events","isBrowserEdge","isBrowserIE","isIOSUserAgent","isElementChildOfClass","isFocusableFormField","isEventSupported","isStopPropagationForAgGrid","Beans","CellMouseListenerFeature","_super","ctrl","beans","column","_this","call","cellCtrl","onMouseEvent","eventName","mouseEvent","onCellClicked","onMouseDown","onCellDoubleClicked","onMouseOut","onMouseOver","isDoubleClickOnIPad","preventDefault","_a","eventService","gridOptionsWrapper","cellClickedEvent","createEvent","EVENT_CELL_CLICKED","dispatchEvent","colDef","getColDef","window","setTimeout","editOnSingleClick","isSingleClickEdit","singleClickEdit","isSuppressClickEdit","startRowOrCellEdit","nowMillis","Date","getTime","res","lastIPadMouseClickEvent","cellDoubleClickedEvent","EVENT_CELL_DOUBLE_CLICKED","editOnDoubleClick","ctrlKey","metaKey","shiftKey","target","rangeService","isRightClickInExistingRange","ranges","getCellRanges","length","forceBrowserFocus","isEditing","focusCell","containsWidget","thisCell","getCellPosition","extendLatestRangeToCell","ctrlKeyPressed","setRangeToCell","EVENT_CELL_MOUSE_DOWN","cellInRange","isCellInAnyRange","button","mouseStayingInsideCell","cellMouseOutEvent","EVENT_CELL_MOUSE_OUT","columnHoverService","clearMouseOver","cellMouseOverEvent","EVENT_CELL_MOUSE_OVER","setMouseOver","e","relatedTarget","eGui","getGui","cellContainsTarget","contains","cellContainsRelatedTarget","destroy"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Events } from \"../../events\";\nimport { isBrowserEdge, isBrowserIE, isIOSUserAgent } from \"../../utils/browser\";\nimport { isElementChildOfClass, isFocusableFormField } from \"../../utils/dom\";\nimport { isEventSupported, isStopPropagationForAgGrid } from \"../../utils/event\";\nimport { Beans } from \"../beans\";\nvar CellMouseListenerFeature = /** @class */ (function (_super) {\n    __extends(CellMouseListenerFeature, _super);\n    function CellMouseListenerFeature(ctrl, beans, column) {\n        var _this = _super.call(this) || this;\n        _this.cellCtrl = ctrl;\n        _this.beans = beans;\n        _this.column = column;\n        return _this;\n    }\n    CellMouseListenerFeature.prototype.onMouseEvent = function (eventName, mouseEvent) {\n        if (isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        switch (eventName) {\n            case 'click':\n                this.onCellClicked(mouseEvent);\n                break;\n            case 'mousedown':\n            case 'touchstart':\n                this.onMouseDown(mouseEvent);\n                break;\n            case 'dblclick':\n                this.onCellDoubleClicked(mouseEvent);\n                break;\n            case 'mouseout':\n                this.onMouseOut(mouseEvent);\n                break;\n            case 'mouseover':\n                this.onMouseOver(mouseEvent);\n                break;\n        }\n    };\n    CellMouseListenerFeature.prototype.onCellClicked = function (mouseEvent) {\n        // iPad doesn't have double click - so we need to mimic it to enable editing for iPad.\n        if (this.isDoubleClickOnIPad()) {\n            this.onCellDoubleClicked(mouseEvent);\n            mouseEvent.preventDefault(); // if we don't do this, then iPad zooms in\n            return;\n        }\n        var _a = this.beans, eventService = _a.eventService, gridOptionsWrapper = _a.gridOptionsWrapper;\n        var cellClickedEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_CLICKED);\n        eventService.dispatchEvent(cellClickedEvent);\n        var colDef = this.column.getColDef();\n        if (colDef.onCellClicked) {\n            // to make callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellClicked(cellClickedEvent); }, 0);\n        }\n        var editOnSingleClick = (gridOptionsWrapper.isSingleClickEdit() || colDef.singleClickEdit)\n            && !gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnSingleClick) {\n            this.cellCtrl.startRowOrCellEdit();\n        }\n    };\n    // returns true if on iPad and this is second 'click' event in 200ms\n    CellMouseListenerFeature.prototype.isDoubleClickOnIPad = function () {\n        if (!isIOSUserAgent() || isEventSupported('dblclick')) {\n            return false;\n        }\n        var nowMillis = new Date().getTime();\n        var res = nowMillis - this.lastIPadMouseClickEvent < 200;\n        this.lastIPadMouseClickEvent = nowMillis;\n        return res;\n    };\n    CellMouseListenerFeature.prototype.onCellDoubleClicked = function (mouseEvent) {\n        var colDef = this.column.getColDef();\n        // always dispatch event to eventService\n        var cellDoubleClickedEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_DOUBLE_CLICKED);\n        this.beans.eventService.dispatchEvent(cellDoubleClickedEvent);\n        // check if colDef also wants to handle event\n        if (typeof colDef.onCellDoubleClicked === 'function') {\n            // to make the callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellDoubleClicked(cellDoubleClickedEvent); }, 0);\n        }\n        var editOnDoubleClick = !this.beans.gridOptionsWrapper.isSingleClickEdit()\n            && !this.beans.gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnDoubleClick) {\n            this.cellCtrl.startRowOrCellEdit();\n        }\n    };\n    CellMouseListenerFeature.prototype.onMouseDown = function (mouseEvent) {\n        var ctrlKey = mouseEvent.ctrlKey, metaKey = mouseEvent.metaKey, shiftKey = mouseEvent.shiftKey;\n        var target = mouseEvent.target;\n        var _a = this.beans, eventService = _a.eventService, rangeService = _a.rangeService;\n        // do not change the range for right-clicks inside an existing range\n        if (this.isRightClickInExistingRange(mouseEvent)) {\n            return;\n        }\n        var ranges = rangeService && rangeService.getCellRanges().length != 0;\n        if (!shiftKey || !ranges) {\n            // We only need to pass true to focusCell when the browser is IE/Edge and we are trying\n            // to focus the cell itself. This should never be true if the mousedown was triggered\n            // due to a click on a cell editor for example.\n            var forceBrowserFocus = (isBrowserIE() || isBrowserEdge()) && !this.cellCtrl.isEditing() && !isFocusableFormField(target);\n            this.cellCtrl.focusCell(forceBrowserFocus);\n        }\n        // if shift clicking, and a range exists, we keep the focus on the cell that started the\n        // range as the user then changes the range selection.\n        if (shiftKey && ranges) {\n            // this stops the cell from getting focused\n            mouseEvent.preventDefault();\n        }\n        // if we are clicking on a checkbox, we need to make sure the cell wrapping that checkbox\n        // is focused but we don't want to change the range selection, so return here.\n        if (this.containsWidget(target)) {\n            return;\n        }\n        if (rangeService) {\n            var thisCell = this.cellCtrl.getCellPosition();\n            if (shiftKey) {\n                rangeService.extendLatestRangeToCell(thisCell);\n            }\n            else {\n                var ctrlKeyPressed = ctrlKey || metaKey;\n                rangeService.setRangeToCell(thisCell, ctrlKeyPressed);\n            }\n        }\n        eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_DOWN));\n    };\n    CellMouseListenerFeature.prototype.isRightClickInExistingRange = function (mouseEvent) {\n        var rangeService = this.beans.rangeService;\n        if (rangeService) {\n            var cellInRange = rangeService.isCellInAnyRange(this.cellCtrl.getCellPosition());\n            if (cellInRange && mouseEvent.button === 2) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CellMouseListenerFeature.prototype.containsWidget = function (target) {\n        return isElementChildOfClass(target, 'ag-selection-checkbox', 3);\n    };\n    CellMouseListenerFeature.prototype.onMouseOut = function (mouseEvent) {\n        if (this.mouseStayingInsideCell(mouseEvent)) {\n            return;\n        }\n        var cellMouseOutEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OUT);\n        this.beans.eventService.dispatchEvent(cellMouseOutEvent);\n        this.beans.columnHoverService.clearMouseOver();\n    };\n    CellMouseListenerFeature.prototype.onMouseOver = function (mouseEvent) {\n        if (this.mouseStayingInsideCell(mouseEvent)) {\n            return;\n        }\n        var cellMouseOverEvent = this.cellCtrl.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OVER);\n        this.beans.eventService.dispatchEvent(cellMouseOverEvent);\n        this.beans.columnHoverService.setMouseOver([this.column]);\n    };\n    CellMouseListenerFeature.prototype.mouseStayingInsideCell = function (e) {\n        if (!e.target || !e.relatedTarget) {\n            return false;\n        }\n        var eGui = this.cellCtrl.getGui();\n        var cellContainsTarget = eGui.contains(e.target);\n        var cellContainsRelatedTarget = eGui.contains(e.relatedTarget);\n        return cellContainsTarget && cellContainsRelatedTarget;\n    };\n    CellMouseListenerFeature.prototype.destroy = function () {\n    };\n    return CellMouseListenerFeature;\n}(Beans));\nexport { CellMouseListenerFeature };\n"]},"metadata":{},"sourceType":"module"}