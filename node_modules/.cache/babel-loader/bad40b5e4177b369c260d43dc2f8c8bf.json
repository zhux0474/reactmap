{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Constants } from \"../../constants/constants\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { Autowired } from \"../../context/context\";\nimport { Events } from \"../../eventKeys\";\nimport { GridOptionsWrapper } from \"../../gridOptionsWrapper\";\nimport { isBrowserSafari } from \"../../utils/browser\";\nimport { find } from \"../../utils/generic\";\nimport { getAllValuesInObject, iterateObject } from \"../../utils/object\";\nimport { HeaderFilterCellCtrl } from \"../cells/floatingFilter/headerFilterCellCtrl\";\nimport { HeaderCellCtrl } from \"../cells/column/headerCellCtrl\";\nimport { HeaderGroupCellCtrl } from \"../cells/columnGroup/headerGroupCellCtrl\";\nimport { HeaderRowType } from \"./headerRowComp\";\nvar instanceIdSequence = 0;\n\nvar HeaderRowCtrl =\n/** @class */\nfunction (_super) {\n  __extends(HeaderRowCtrl, _super);\n\n  function HeaderRowCtrl(rowIndex, pinned, type) {\n    var _this = _super.call(this) || this;\n\n    _this.instanceId = instanceIdSequence++;\n    _this.headerCellCtrls = {};\n    _this.rowIndex = rowIndex;\n    _this.pinned = pinned;\n    _this.type = type;\n    return _this;\n  }\n\n  HeaderRowCtrl.prototype.getInstanceId = function () {\n    return this.instanceId;\n  };\n\n  HeaderRowCtrl.prototype.setComp = function (comp) {\n    this.comp = comp;\n    this.onRowHeightChanged();\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n    this.addEventListeners();\n\n    if (isBrowserSafari()) {\n      // fix for a Safari rendering bug that caused the header to flicker above chart panels\n      // as you move the mouse over the header\n      this.comp.setTransform('translateZ(0)');\n    }\n\n    comp.setAriaRowIndex(this.rowIndex + 1);\n  };\n\n  HeaderRowCtrl.prototype.addEventListeners = function () {\n    this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this)); // when print layout changes, it changes what columns are in what section\n\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDisplayedColumnsChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n  };\n\n  HeaderRowCtrl.prototype.getHtmlElementForColumnHeader = function (column) {\n    if (this.type != HeaderRowType.COLUMN) {\n      return;\n    }\n\n    var cellCtrl = find(this.headerCellCtrls, function (cellCtrl) {\n      return cellCtrl.getColumnGroupChild() == column;\n    });\n\n    if (!cellCtrl) {\n      return;\n    }\n\n    var res = cellCtrl.getGui();\n    return res;\n  };\n\n  HeaderRowCtrl.prototype.onDisplayedColumnsChanged = function () {\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n  };\n\n  HeaderRowCtrl.prototype.getType = function () {\n    return this.type;\n  };\n\n  HeaderRowCtrl.prototype.onColumnResized = function () {\n    this.setWidth();\n  };\n\n  HeaderRowCtrl.prototype.setWidth = function () {\n    var width = this.getWidthForRow();\n    this.comp.setWidth(width + 'px');\n  };\n\n  HeaderRowCtrl.prototype.getWidthForRow = function () {\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n\n    if (printLayout) {\n      var pinned = this.pinned != null;\n\n      if (pinned) {\n        return 0;\n      }\n\n      return this.columnModel.getContainerWidth(Constants.PINNED_RIGHT) + this.columnModel.getContainerWidth(Constants.PINNED_LEFT) + this.columnModel.getContainerWidth(null);\n    } // if not printing, just return the width as normal\n\n\n    return this.columnModel.getContainerWidth(this.pinned);\n  };\n\n  HeaderRowCtrl.prototype.onRowHeightChanged = function () {\n    var headerRowCount = this.columnModel.getHeaderRowCount();\n    var sizes = [];\n    var numberOfFloating = 0;\n    var groupHeight;\n    var headerHeight;\n\n    if (this.columnModel.isPivotMode()) {\n      groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n    } else {\n      if (this.columnModel.hasFloatingFilters()) {\n        headerRowCount++;\n        numberOfFloating = 1;\n      }\n\n      groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n    }\n\n    var numberOfNonGroups = 1 + numberOfFloating;\n    var numberOfGroups = headerRowCount - numberOfNonGroups;\n\n    for (var i = 0; i < numberOfGroups; i++) {\n      sizes.push(groupHeight);\n    }\n\n    sizes.push(headerHeight);\n\n    for (var i = 0; i < numberOfFloating; i++) {\n      sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n    }\n\n    var rowHeight = 0;\n\n    for (var i = 0; i < this.rowIndex; i++) {\n      rowHeight += sizes[i];\n    }\n\n    this.comp.setTop(rowHeight + 'px');\n    this.comp.setHeight(sizes[this.rowIndex] + 'px');\n  };\n\n  HeaderRowCtrl.prototype.getPinned = function () {\n    return this.pinned;\n  };\n\n  HeaderRowCtrl.prototype.getRowIndex = function () {\n    return this.rowIndex;\n  };\n\n  HeaderRowCtrl.prototype.onVirtualColumnsChanged = function () {\n    var _this = this;\n\n    var oldCtrls = this.headerCellCtrls;\n    this.headerCellCtrls = {};\n    var columns = this.getColumnsInViewport();\n    columns.forEach(function (child) {\n      // skip groups that have no displayed children. this can happen when the group is broken,\n      // and this section happens to have nothing to display for the open / closed state.\n      // (a broken group is one that is split, ie columns in the group have a non-group column\n      // in between them)\n      if (child.isEmptyGroup()) {\n        return;\n      }\n\n      var idOfChild = child.getUniqueId(); // if we already have this cell rendered, do nothing\n\n      var headerCtrl = oldCtrls[idOfChild];\n      delete oldCtrls[idOfChild]; // it's possible there is a new Column with the same ID, but it's for a different Column.\n      // this is common with pivoting, where the pivot cols change, but the id's are still pivot_0,\n      // pivot_1 etc. so if new col but same ID, need to remove the old col here first as we are\n      // about to replace it in the this.headerComps map.\n\n      var forOldColumn = headerCtrl && headerCtrl.getColumnGroupChild() != child;\n\n      if (forOldColumn) {\n        _this.destroyBean(headerCtrl);\n\n        headerCtrl = undefined;\n      }\n\n      if (headerCtrl == null) {\n        switch (_this.type) {\n          case HeaderRowType.FLOATING_FILTER:\n            headerCtrl = _this.createBean(new HeaderFilterCellCtrl(child, _this));\n            break;\n\n          case HeaderRowType.COLUMN_GROUP:\n            headerCtrl = _this.createBean(new HeaderGroupCellCtrl(child, _this));\n            break;\n\n          default:\n            headerCtrl = _this.createBean(new HeaderCellCtrl(child, _this));\n            break;\n        }\n      }\n\n      _this.headerCellCtrls[idOfChild] = headerCtrl;\n    }); // we want to keep columns that are focused, otherwise keyboard navigation breaks\n\n    var isFocusedAndDisplayed = function (ctrl) {\n      var isFocused = _this.focusService.isHeaderWrapperFocused(ctrl);\n\n      if (!isFocused) {\n        return false;\n      }\n\n      var isDisplayed = _this.columnModel.isDisplayed(ctrl.getColumnGroupChild());\n\n      return isDisplayed;\n    };\n\n    iterateObject(oldCtrls, function (id, oldCtrl) {\n      var keepCtrl = isFocusedAndDisplayed(oldCtrl);\n\n      if (keepCtrl) {\n        _this.headerCellCtrls[id] = oldCtrl;\n      } else {\n        _this.destroyBean(oldCtrl);\n      }\n    });\n    var ctrlsToDisplay = getAllValuesInObject(this.headerCellCtrls);\n    this.comp.setHeaderCtrls(ctrlsToDisplay);\n  };\n\n  HeaderRowCtrl.prototype.getColumnsInViewport = function () {\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n    return printLayout ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();\n  };\n\n  HeaderRowCtrl.prototype.getColumnsInViewportPrintLayout = function () {\n    var _this = this; // for print layout, we add all columns into the center\n\n\n    if (this.pinned != null) {\n      return [];\n    }\n\n    var viewportColumns = [];\n    var actualDepth = this.getActualDepth();\n    [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n      var items = _this.columnModel.getVirtualHeaderGroupRow(pinned, actualDepth);\n\n      viewportColumns = viewportColumns.concat(items);\n    });\n    return viewportColumns;\n  };\n\n  HeaderRowCtrl.prototype.getActualDepth = function () {\n    return this.type == HeaderRowType.FLOATING_FILTER ? this.rowIndex - 1 : this.rowIndex;\n  };\n\n  HeaderRowCtrl.prototype.getColumnsInViewportNormalLayout = function () {\n    // when in normal layout, we add the columns for that container only\n    return this.columnModel.getVirtualHeaderGroupRow(this.pinned, this.getActualDepth());\n  };\n\n  HeaderRowCtrl.prototype.focusHeader = function (column, event) {\n    var allCtrls = getAllValuesInObject(this.headerCellCtrls);\n    var ctrl = find(allCtrls, function (ctrl) {\n      return ctrl.getColumnGroupChild() == column;\n    });\n\n    if (!ctrl) {\n      return false;\n    }\n\n    ctrl.focus(event);\n    return true;\n  };\n\n  __decorate([Autowired('columnModel')], HeaderRowCtrl.prototype, \"columnModel\", void 0);\n\n  __decorate([Autowired('focusService')], HeaderRowCtrl.prototype, \"focusService\", void 0);\n\n  return HeaderRowCtrl;\n}(BeanStub);\n\nexport { HeaderRowCtrl };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/headerRendering/row/headerRowCtrl.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Constants","BeanStub","Autowired","Events","GridOptionsWrapper","isBrowserSafari","find","getAllValuesInObject","iterateObject","HeaderFilterCellCtrl","HeaderCellCtrl","HeaderGroupCellCtrl","HeaderRowType","instanceIdSequence","HeaderRowCtrl","_super","rowIndex","pinned","type","_this","call","instanceId","headerCellCtrls","getInstanceId","setComp","comp","onRowHeightChanged","onVirtualColumnsChanged","setWidth","addEventListeners","setTransform","setAriaRowIndex","addManagedListener","eventService","EVENT_COLUMN_RESIZED","onColumnResized","bind","gridOptionsWrapper","PROP_DOM_LAYOUT","onDisplayedColumnsChanged","EVENT_DISPLAYED_COLUMNS_CHANGED","EVENT_VIRTUAL_COLUMNS_CHANGED","PROP_HEADER_HEIGHT","PROP_PIVOT_HEADER_HEIGHT","PROP_GROUP_HEADER_HEIGHT","PROP_PIVOT_GROUP_HEADER_HEIGHT","PROP_FLOATING_FILTERS_HEIGHT","getHtmlElementForColumnHeader","column","COLUMN","cellCtrl","getColumnGroupChild","res","getGui","getType","width","getWidthForRow","printLayout","getDomLayout","DOM_LAYOUT_PRINT","columnModel","getContainerWidth","PINNED_RIGHT","PINNED_LEFT","headerRowCount","getHeaderRowCount","sizes","numberOfFloating","groupHeight","headerHeight","isPivotMode","getPivotGroupHeaderHeight","getPivotHeaderHeight","hasFloatingFilters","getGroupHeaderHeight","getHeaderHeight","numberOfNonGroups","numberOfGroups","push","getFloatingFiltersHeight","rowHeight","setTop","setHeight","getPinned","getRowIndex","oldCtrls","columns","getColumnsInViewport","forEach","child","isEmptyGroup","idOfChild","getUniqueId","headerCtrl","forOldColumn","destroyBean","undefined","FLOATING_FILTER","createBean","COLUMN_GROUP","isFocusedAndDisplayed","ctrl","isFocused","focusService","isHeaderWrapperFocused","isDisplayed","id","oldCtrl","keepCtrl","ctrlsToDisplay","setHeaderCtrls","getColumnsInViewportPrintLayout","getColumnsInViewportNormalLayout","viewportColumns","actualDepth","getActualDepth","items","getVirtualHeaderGroupRow","concat","focusHeader","event","allCtrls","focus"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Constants } from \"../../constants/constants\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { Autowired } from \"../../context/context\";\nimport { Events } from \"../../eventKeys\";\nimport { GridOptionsWrapper } from \"../../gridOptionsWrapper\";\nimport { isBrowserSafari } from \"../../utils/browser\";\nimport { find } from \"../../utils/generic\";\nimport { getAllValuesInObject, iterateObject } from \"../../utils/object\";\nimport { HeaderFilterCellCtrl } from \"../cells/floatingFilter/headerFilterCellCtrl\";\nimport { HeaderCellCtrl } from \"../cells/column/headerCellCtrl\";\nimport { HeaderGroupCellCtrl } from \"../cells/columnGroup/headerGroupCellCtrl\";\nimport { HeaderRowType } from \"./headerRowComp\";\nvar instanceIdSequence = 0;\nvar HeaderRowCtrl = /** @class */ (function (_super) {\n    __extends(HeaderRowCtrl, _super);\n    function HeaderRowCtrl(rowIndex, pinned, type) {\n        var _this = _super.call(this) || this;\n        _this.instanceId = instanceIdSequence++;\n        _this.headerCellCtrls = {};\n        _this.rowIndex = rowIndex;\n        _this.pinned = pinned;\n        _this.type = type;\n        return _this;\n    }\n    HeaderRowCtrl.prototype.getInstanceId = function () {\n        return this.instanceId;\n    };\n    HeaderRowCtrl.prototype.setComp = function (comp) {\n        this.comp = comp;\n        this.onRowHeightChanged();\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n        this.addEventListeners();\n        if (isBrowserSafari()) {\n            // fix for a Safari rendering bug that caused the header to flicker above chart panels\n            // as you move the mouse over the header\n            this.comp.setTransform('translateZ(0)');\n        }\n        comp.setAriaRowIndex(this.rowIndex + 1);\n    };\n    HeaderRowCtrl.prototype.addEventListeners = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        // when print layout changes, it changes what columns are in what section\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n    };\n    HeaderRowCtrl.prototype.getHtmlElementForColumnHeader = function (column) {\n        if (this.type != HeaderRowType.COLUMN) {\n            return;\n        }\n        var cellCtrl = find(this.headerCellCtrls, function (cellCtrl) { return cellCtrl.getColumnGroupChild() == column; });\n        if (!cellCtrl) {\n            return;\n        }\n        var res = cellCtrl.getGui();\n        return res;\n    };\n    HeaderRowCtrl.prototype.onDisplayedColumnsChanged = function () {\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n    };\n    HeaderRowCtrl.prototype.getType = function () {\n        return this.type;\n    };\n    HeaderRowCtrl.prototype.onColumnResized = function () {\n        this.setWidth();\n    };\n    HeaderRowCtrl.prototype.setWidth = function () {\n        var width = this.getWidthForRow();\n        this.comp.setWidth(width + 'px');\n    };\n    HeaderRowCtrl.prototype.getWidthForRow = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            var pinned = this.pinned != null;\n            if (pinned) {\n                return 0;\n            }\n            return this.columnModel.getContainerWidth(Constants.PINNED_RIGHT)\n                + this.columnModel.getContainerWidth(Constants.PINNED_LEFT)\n                + this.columnModel.getContainerWidth(null);\n        }\n        // if not printing, just return the width as normal\n        return this.columnModel.getContainerWidth(this.pinned);\n    };\n    HeaderRowCtrl.prototype.onRowHeightChanged = function () {\n        var headerRowCount = this.columnModel.getHeaderRowCount();\n        var sizes = [];\n        var numberOfFloating = 0;\n        var groupHeight;\n        var headerHeight;\n        if (this.columnModel.isPivotMode()) {\n            groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            if (this.columnModel.hasFloatingFilters()) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        for (var i = 0; i < numberOfGroups; i++) {\n            sizes.push(groupHeight);\n        }\n        sizes.push(headerHeight);\n        for (var i = 0; i < numberOfFloating; i++) {\n            sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n        }\n        var rowHeight = 0;\n        for (var i = 0; i < this.rowIndex; i++) {\n            rowHeight += sizes[i];\n        }\n        this.comp.setTop(rowHeight + 'px');\n        this.comp.setHeight(sizes[this.rowIndex] + 'px');\n    };\n    HeaderRowCtrl.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    HeaderRowCtrl.prototype.getRowIndex = function () {\n        return this.rowIndex;\n    };\n    HeaderRowCtrl.prototype.onVirtualColumnsChanged = function () {\n        var _this = this;\n        var oldCtrls = this.headerCellCtrls;\n        this.headerCellCtrls = {};\n        var columns = this.getColumnsInViewport();\n        columns.forEach(function (child) {\n            // skip groups that have no displayed children. this can happen when the group is broken,\n            // and this section happens to have nothing to display for the open / closed state.\n            // (a broken group is one that is split, ie columns in the group have a non-group column\n            // in between them)\n            if (child.isEmptyGroup()) {\n                return;\n            }\n            var idOfChild = child.getUniqueId();\n            // if we already have this cell rendered, do nothing\n            var headerCtrl = oldCtrls[idOfChild];\n            delete oldCtrls[idOfChild];\n            // it's possible there is a new Column with the same ID, but it's for a different Column.\n            // this is common with pivoting, where the pivot cols change, but the id's are still pivot_0,\n            // pivot_1 etc. so if new col but same ID, need to remove the old col here first as we are\n            // about to replace it in the this.headerComps map.\n            var forOldColumn = headerCtrl && headerCtrl.getColumnGroupChild() != child;\n            if (forOldColumn) {\n                _this.destroyBean(headerCtrl);\n                headerCtrl = undefined;\n            }\n            if (headerCtrl == null) {\n                switch (_this.type) {\n                    case HeaderRowType.FLOATING_FILTER:\n                        headerCtrl = _this.createBean(new HeaderFilterCellCtrl(child, _this));\n                        break;\n                    case HeaderRowType.COLUMN_GROUP:\n                        headerCtrl = _this.createBean(new HeaderGroupCellCtrl(child, _this));\n                        break;\n                    default:\n                        headerCtrl = _this.createBean(new HeaderCellCtrl(child, _this));\n                        break;\n                }\n            }\n            _this.headerCellCtrls[idOfChild] = headerCtrl;\n        });\n        // we want to keep columns that are focused, otherwise keyboard navigation breaks\n        var isFocusedAndDisplayed = function (ctrl) {\n            var isFocused = _this.focusService.isHeaderWrapperFocused(ctrl);\n            if (!isFocused) {\n                return false;\n            }\n            var isDisplayed = _this.columnModel.isDisplayed(ctrl.getColumnGroupChild());\n            return isDisplayed;\n        };\n        iterateObject(oldCtrls, function (id, oldCtrl) {\n            var keepCtrl = isFocusedAndDisplayed(oldCtrl);\n            if (keepCtrl) {\n                _this.headerCellCtrls[id] = oldCtrl;\n            }\n            else {\n                _this.destroyBean(oldCtrl);\n            }\n        });\n        var ctrlsToDisplay = getAllValuesInObject(this.headerCellCtrls);\n        this.comp.setHeaderCtrls(ctrlsToDisplay);\n    };\n    HeaderRowCtrl.prototype.getColumnsInViewport = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        return printLayout ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();\n    };\n    HeaderRowCtrl.prototype.getColumnsInViewportPrintLayout = function () {\n        var _this = this;\n        // for print layout, we add all columns into the center\n        if (this.pinned != null) {\n            return [];\n        }\n        var viewportColumns = [];\n        var actualDepth = this.getActualDepth();\n        [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n            var items = _this.columnModel.getVirtualHeaderGroupRow(pinned, actualDepth);\n            viewportColumns = viewportColumns.concat(items);\n        });\n        return viewportColumns;\n    };\n    HeaderRowCtrl.prototype.getActualDepth = function () {\n        return this.type == HeaderRowType.FLOATING_FILTER ? this.rowIndex - 1 : this.rowIndex;\n    };\n    HeaderRowCtrl.prototype.getColumnsInViewportNormalLayout = function () {\n        // when in normal layout, we add the columns for that container only\n        return this.columnModel.getVirtualHeaderGroupRow(this.pinned, this.getActualDepth());\n    };\n    HeaderRowCtrl.prototype.focusHeader = function (column, event) {\n        var allCtrls = getAllValuesInObject(this.headerCellCtrls);\n        var ctrl = find(allCtrls, function (ctrl) { return ctrl.getColumnGroupChild() == column; });\n        if (!ctrl) {\n            return false;\n        }\n        ctrl.focus(event);\n        return true;\n    };\n    __decorate([\n        Autowired('columnModel')\n    ], HeaderRowCtrl.prototype, \"columnModel\", void 0);\n    __decorate([\n        Autowired('focusService')\n    ], HeaderRowCtrl.prototype, \"focusService\", void 0);\n    return HeaderRowCtrl;\n}(BeanStub));\nexport { HeaderRowCtrl };\n"]},"metadata":{},"sourceType":"module"}