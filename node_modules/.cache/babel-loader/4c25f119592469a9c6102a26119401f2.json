{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Component } from \"../../widgets/component\";\nimport { addStylesToElement, setDomChildOrder } from \"../../utils/dom\";\nimport { RowType } from \"./rowCtrl\";\nimport { CellComp } from \"../cell/cellComp\";\nimport { assign, getAllValuesInObject } from \"../../utils/object\";\nimport { setAriaExpanded, setAriaLabel, setAriaRole, setAriaRowIndex, setAriaSelected } from \"../../utils/aria\";\n\nvar RowComp =\n/** @class */\nfunction (_super) {\n  __extends(RowComp, _super);\n\n  function RowComp(ctrl, beans, pinned) {\n    var _this = _super.call(this) || this;\n\n    _this.cellComps = {};\n    _this.beans = beans;\n    _this.rowCtrl = ctrl;\n\n    _this.setTemplate(\n    /* html */\n    \"<div comp-id=\\\"\" + _this.getCompId() + \"\\\" style=\\\"\" + _this.getInitialStyle() + \"\\\"/>\");\n\n    var eGui = _this.getGui();\n\n    var style = eGui.style;\n    var compProxy = {\n      setDisplay: function (value) {\n        if (value == null) {\n          style.removeProperty('display');\n        } else {\n          style.setProperty('display', 'none');\n        }\n      },\n      setDomOrder: function (domOrder) {\n        return _this.domOrder = domOrder;\n      },\n      setCellCtrls: function (cellCtrls) {\n        return _this.setCellCtrls(cellCtrls);\n      },\n      showFullWidth: function (compDetails) {\n        return _this.showFullWidth(compDetails);\n      },\n      getFullWidthCellRenderer: function () {\n        return _this.getFullWidthCellRenderer();\n      },\n      addOrRemoveCssClass: function (name, on) {\n        return _this.addOrRemoveCssClass(name, on);\n      },\n      setAriaExpanded: function (on) {\n        return setAriaExpanded(eGui, on);\n      },\n      setUserStyles: function (styles) {\n        return addStylesToElement(eGui, styles);\n      },\n      setAriaSelected: function (value) {\n        return setAriaSelected(eGui, value);\n      },\n      setAriaLabel: function (value) {\n        setAriaLabel(eGui, value == null ? '' : value);\n      },\n      setHeight: function (height) {\n        return style.height = height;\n      },\n      setTop: function (top) {\n        return style.top = top;\n      },\n      setTransform: function (transform) {\n        return style.transform = transform;\n      },\n      setRowIndex: function (rowIndex) {\n        return eGui.setAttribute('row-index', rowIndex);\n      },\n      setRole: function (role) {\n        return setAriaRole(eGui, role);\n      },\n      setAriaRowIndex: function (rowIndex) {\n        return setAriaRowIndex(_this.getGui(), rowIndex);\n      },\n      setRowId: function (rowId) {\n        return eGui.setAttribute('row-id', rowId);\n      },\n      setRowBusinessKey: function (businessKey) {\n        return eGui.setAttribute('row-business-key', businessKey);\n      },\n      setTabIndex: function (tabIndex) {\n        return eGui.setAttribute('tabindex', tabIndex.toString());\n      }\n    };\n    ctrl.setComp(compProxy, _this.getGui(), pinned);\n    return _this;\n  }\n\n  RowComp.prototype.getInitialStyle = function () {\n    var transform = this.rowCtrl.getInitialTransform();\n    var top = this.rowCtrl.getInitialRowTop();\n    return transform ? \"transform: \" + transform : \"top: \" + top;\n  };\n\n  RowComp.prototype.showFullWidth = function (compDetails) {\n    var _this = this;\n\n    var callback = function (cellRenderer) {\n      if (_this.isAlive()) {\n        var eGui = cellRenderer.getGui();\n\n        _this.getGui().appendChild(eGui);\n\n        if (_this.rowCtrl.getRowType() === RowType.FullWidthDetail) {\n          _this.rowCtrl.setupDetailRowAutoHeight(eGui);\n        }\n\n        _this.setFullWidthRowComp(cellRenderer);\n      } else {\n        _this.beans.context.destroyBean(cellRenderer);\n      }\n    }; // if not in cache, create new one\n\n\n    var res = compDetails.newAgStackInstance(this.rowCtrl.getFullWidthCellRendererType());\n\n    if (!res) {\n      return;\n    }\n\n    res.then(callback);\n  };\n\n  RowComp.prototype.setCellCtrls = function (cellCtrls) {\n    var _this = this;\n\n    var cellsToRemove = assign({}, this.cellComps);\n    cellCtrls.forEach(function (cellCtrl) {\n      var key = cellCtrl.getInstanceId();\n      var existingCellComp = _this.cellComps[key];\n\n      if (existingCellComp == null) {\n        _this.newCellComp(cellCtrl);\n      } else {\n        cellsToRemove[key] = null;\n      }\n    });\n    var cellCompsToRemove = getAllValuesInObject(cellsToRemove).filter(function (cellComp) {\n      return cellComp != null;\n    });\n    this.destroyCells(cellCompsToRemove);\n    this.ensureDomOrder(cellCtrls);\n  };\n\n  RowComp.prototype.ensureDomOrder = function (cellCtrls) {\n    var _this = this;\n\n    if (!this.domOrder) {\n      return;\n    }\n\n    var elementsInOrder = [];\n    cellCtrls.forEach(function (cellCtrl) {\n      var cellComp = _this.cellComps[cellCtrl.getInstanceId()];\n\n      if (cellComp) {\n        elementsInOrder.push(cellComp.getGui());\n      }\n    });\n    setDomChildOrder(this.getGui(), elementsInOrder);\n  };\n\n  RowComp.prototype.newCellComp = function (cellCtrl) {\n    var cellComp = new CellComp(this.rowCtrl.getScope(), this.beans, cellCtrl, false, this.rowCtrl.isPrintLayout(), this.getGui(), this.rowCtrl.isEditing());\n    this.cellComps[cellCtrl.getInstanceId()] = cellComp;\n    this.getGui().appendChild(cellComp.getGui());\n  };\n\n  RowComp.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.destroyAllCells();\n  };\n\n  RowComp.prototype.destroyAllCells = function () {\n    var cellsToDestroy = getAllValuesInObject(this.cellComps).filter(function (cp) {\n      return cp != null;\n    });\n    this.destroyCells(cellsToDestroy);\n  };\n\n  RowComp.prototype.setFullWidthRowComp = function (fullWidthRowComponent) {\n    var _this = this;\n\n    if (this.fullWidthCellRenderer) {\n      console.error('AG Grid - should not be setting fullWidthRowComponent twice');\n    }\n\n    this.fullWidthCellRenderer = fullWidthRowComponent;\n    this.addDestroyFunc(function () {\n      _this.fullWidthCellRenderer = _this.beans.context.destroyBean(_this.fullWidthCellRenderer);\n    });\n  };\n\n  RowComp.prototype.getFullWidthCellRenderer = function () {\n    return this.fullWidthCellRenderer;\n  };\n\n  RowComp.prototype.destroyCells = function (cellComps) {\n    var _this = this;\n\n    cellComps.forEach(function (cellComp) {\n      // could be old reference, ie removed cell\n      if (!cellComp) {\n        return;\n      } // check cellComp belongs in this container\n\n\n      var instanceId = cellComp.getCtrl().getInstanceId();\n\n      if (_this.cellComps[instanceId] !== cellComp) {\n        return;\n      }\n\n      cellComp.detach();\n      cellComp.destroy();\n      _this.cellComps[instanceId] = null;\n    });\n  };\n\n  return RowComp;\n}(Component);\n\nexport { RowComp };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Component","addStylesToElement","setDomChildOrder","RowType","CellComp","assign","getAllValuesInObject","setAriaExpanded","setAriaLabel","setAriaRole","setAriaRowIndex","setAriaSelected","RowComp","_super","ctrl","beans","pinned","_this","call","cellComps","rowCtrl","setTemplate","getCompId","getInitialStyle","eGui","getGui","style","compProxy","setDisplay","value","removeProperty","setProperty","setDomOrder","domOrder","setCellCtrls","cellCtrls","showFullWidth","compDetails","getFullWidthCellRenderer","addOrRemoveCssClass","name","on","setUserStyles","styles","setHeight","height","setTop","top","setTransform","transform","setRowIndex","rowIndex","setAttribute","setRole","role","setRowId","rowId","setRowBusinessKey","businessKey","setTabIndex","tabIndex","toString","setComp","getInitialTransform","getInitialRowTop","callback","cellRenderer","isAlive","appendChild","getRowType","FullWidthDetail","setupDetailRowAutoHeight","setFullWidthRowComp","context","destroyBean","res","newAgStackInstance","getFullWidthCellRendererType","then","cellsToRemove","forEach","cellCtrl","key","getInstanceId","existingCellComp","newCellComp","cellCompsToRemove","filter","cellComp","destroyCells","ensureDomOrder","elementsInOrder","push","getScope","isPrintLayout","isEditing","destroy","destroyAllCells","cellsToDestroy","cp","fullWidthRowComponent","fullWidthCellRenderer","console","error","addDestroyFunc","instanceId","getCtrl","detach"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component } from \"../../widgets/component\";\nimport { addStylesToElement, setDomChildOrder } from \"../../utils/dom\";\nimport { RowType } from \"./rowCtrl\";\nimport { CellComp } from \"../cell/cellComp\";\nimport { assign, getAllValuesInObject } from \"../../utils/object\";\nimport { setAriaExpanded, setAriaLabel, setAriaRole, setAriaRowIndex, setAriaSelected } from \"../../utils/aria\";\nvar RowComp = /** @class */ (function (_super) {\n    __extends(RowComp, _super);\n    function RowComp(ctrl, beans, pinned) {\n        var _this = _super.call(this) || this;\n        _this.cellComps = {};\n        _this.beans = beans;\n        _this.rowCtrl = ctrl;\n        _this.setTemplate(/* html */ \"<div comp-id=\\\"\" + _this.getCompId() + \"\\\" style=\\\"\" + _this.getInitialStyle() + \"\\\"/>\");\n        var eGui = _this.getGui();\n        var style = eGui.style;\n        var compProxy = {\n            setDisplay: function (value) {\n                if (value == null) {\n                    style.removeProperty('display');\n                }\n                else {\n                    style.setProperty('display', 'none');\n                }\n            },\n            setDomOrder: function (domOrder) { return _this.domOrder = domOrder; },\n            setCellCtrls: function (cellCtrls) { return _this.setCellCtrls(cellCtrls); },\n            showFullWidth: function (compDetails) { return _this.showFullWidth(compDetails); },\n            getFullWidthCellRenderer: function () { return _this.getFullWidthCellRenderer(); },\n            addOrRemoveCssClass: function (name, on) { return _this.addOrRemoveCssClass(name, on); },\n            setAriaExpanded: function (on) { return setAriaExpanded(eGui, on); },\n            setUserStyles: function (styles) { return addStylesToElement(eGui, styles); },\n            setAriaSelected: function (value) { return setAriaSelected(eGui, value); },\n            setAriaLabel: function (value) {\n                setAriaLabel(eGui, value == null ? '' : value);\n            },\n            setHeight: function (height) { return style.height = height; },\n            setTop: function (top) { return style.top = top; },\n            setTransform: function (transform) { return style.transform = transform; },\n            setRowIndex: function (rowIndex) { return eGui.setAttribute('row-index', rowIndex); },\n            setRole: function (role) { return setAriaRole(eGui, role); },\n            setAriaRowIndex: function (rowIndex) { return setAriaRowIndex(_this.getGui(), rowIndex); },\n            setRowId: function (rowId) { return eGui.setAttribute('row-id', rowId); },\n            setRowBusinessKey: function (businessKey) { return eGui.setAttribute('row-business-key', businessKey); },\n            setTabIndex: function (tabIndex) { return eGui.setAttribute('tabindex', tabIndex.toString()); }\n        };\n        ctrl.setComp(compProxy, _this.getGui(), pinned);\n        return _this;\n    }\n    RowComp.prototype.getInitialStyle = function () {\n        var transform = this.rowCtrl.getInitialTransform();\n        var top = this.rowCtrl.getInitialRowTop();\n        return transform ? \"transform: \" + transform : \"top: \" + top;\n    };\n    RowComp.prototype.showFullWidth = function (compDetails) {\n        var _this = this;\n        var callback = function (cellRenderer) {\n            if (_this.isAlive()) {\n                var eGui = cellRenderer.getGui();\n                _this.getGui().appendChild(eGui);\n                if (_this.rowCtrl.getRowType() === RowType.FullWidthDetail) {\n                    _this.rowCtrl.setupDetailRowAutoHeight(eGui);\n                }\n                _this.setFullWidthRowComp(cellRenderer);\n            }\n            else {\n                _this.beans.context.destroyBean(cellRenderer);\n            }\n        };\n        // if not in cache, create new one\n        var res = compDetails.newAgStackInstance(this.rowCtrl.getFullWidthCellRendererType());\n        if (!res) {\n            return;\n        }\n        res.then(callback);\n    };\n    RowComp.prototype.setCellCtrls = function (cellCtrls) {\n        var _this = this;\n        var cellsToRemove = assign({}, this.cellComps);\n        cellCtrls.forEach(function (cellCtrl) {\n            var key = cellCtrl.getInstanceId();\n            var existingCellComp = _this.cellComps[key];\n            if (existingCellComp == null) {\n                _this.newCellComp(cellCtrl);\n            }\n            else {\n                cellsToRemove[key] = null;\n            }\n        });\n        var cellCompsToRemove = getAllValuesInObject(cellsToRemove)\n            .filter(function (cellComp) { return cellComp != null; });\n        this.destroyCells(cellCompsToRemove);\n        this.ensureDomOrder(cellCtrls);\n    };\n    RowComp.prototype.ensureDomOrder = function (cellCtrls) {\n        var _this = this;\n        if (!this.domOrder) {\n            return;\n        }\n        var elementsInOrder = [];\n        cellCtrls.forEach(function (cellCtrl) {\n            var cellComp = _this.cellComps[cellCtrl.getInstanceId()];\n            if (cellComp) {\n                elementsInOrder.push(cellComp.getGui());\n            }\n        });\n        setDomChildOrder(this.getGui(), elementsInOrder);\n    };\n    RowComp.prototype.newCellComp = function (cellCtrl) {\n        var cellComp = new CellComp(this.rowCtrl.getScope(), this.beans, cellCtrl, false, this.rowCtrl.isPrintLayout(), this.getGui(), this.rowCtrl.isEditing());\n        this.cellComps[cellCtrl.getInstanceId()] = cellComp;\n        this.getGui().appendChild(cellComp.getGui());\n    };\n    RowComp.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.destroyAllCells();\n    };\n    RowComp.prototype.destroyAllCells = function () {\n        var cellsToDestroy = getAllValuesInObject(this.cellComps).filter(function (cp) { return cp != null; });\n        this.destroyCells(cellsToDestroy);\n    };\n    RowComp.prototype.setFullWidthRowComp = function (fullWidthRowComponent) {\n        var _this = this;\n        if (this.fullWidthCellRenderer) {\n            console.error('AG Grid - should not be setting fullWidthRowComponent twice');\n        }\n        this.fullWidthCellRenderer = fullWidthRowComponent;\n        this.addDestroyFunc(function () {\n            _this.fullWidthCellRenderer = _this.beans.context.destroyBean(_this.fullWidthCellRenderer);\n        });\n    };\n    RowComp.prototype.getFullWidthCellRenderer = function () {\n        return this.fullWidthCellRenderer;\n    };\n    RowComp.prototype.destroyCells = function (cellComps) {\n        var _this = this;\n        cellComps.forEach(function (cellComp) {\n            // could be old reference, ie removed cell\n            if (!cellComp) {\n                return;\n            }\n            // check cellComp belongs in this container\n            var instanceId = cellComp.getCtrl().getInstanceId();\n            if (_this.cellComps[instanceId] !== cellComp) {\n                return;\n            }\n            cellComp.detach();\n            cellComp.destroy();\n            _this.cellComps[instanceId] = null;\n        });\n    };\n    return RowComp;\n}(Component));\nexport { RowComp };\n"]},"metadata":{},"sourceType":"module"}