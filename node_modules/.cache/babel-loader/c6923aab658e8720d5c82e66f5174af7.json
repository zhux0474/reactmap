{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Bean, Autowired } from './context/context';\nimport { BeanStub } from \"./context/beanStub\";\nimport { addCssClass } from './utils/dom';\nimport { doOnce } from './utils/function';\nvar MAT_GRID_SIZE = 8;\nvar BASE_GRID_SIZE = 4;\nvar BALHAM_GRID_SIZE = 4;\nvar ALPINE_GRID_SIZE = 6;\nvar HARD_CODED_SIZES = {\n  // this item is required for custom themes\n  'ag-theme-custom': {\n    headerHeight: 25,\n    headerCellMinWidth: 24,\n    listItemHeight: BASE_GRID_SIZE * 5,\n    rowHeight: 25,\n    chartMenuPanelWidth: 220\n  },\n  'ag-theme-material': {\n    headerHeight: MAT_GRID_SIZE * 7,\n    headerCellMinWidth: 48,\n    listItemHeight: MAT_GRID_SIZE * 4,\n    rowHeight: MAT_GRID_SIZE * 6,\n    chartMenuPanelWidth: 240\n  },\n  'ag-theme-balham': {\n    headerHeight: BALHAM_GRID_SIZE * 8,\n    headerCellMinWidth: 24,\n    listItemHeight: BALHAM_GRID_SIZE * 6,\n    rowHeight: BALHAM_GRID_SIZE * 7,\n    chartMenuPanelWidth: 220\n  },\n  'ag-theme-alpine': {\n    headerHeight: ALPINE_GRID_SIZE * 8,\n    headerCellMinWidth: 36,\n    listItemHeight: ALPINE_GRID_SIZE * 4,\n    rowHeight: ALPINE_GRID_SIZE * 7,\n    chartMenuPanelWidth: 240\n  }\n};\n/**\n * this object contains a list of Sass variables and an array\n * of CSS styles required to get the correct value.\n * eg. $virtual-item-height requires a structure, so we can get its height.\n * <div class=\"ag-theme-balham\">\n *     <div class=\"ag-virtual-list-container\">\n *         <div class=\"ag-virtual-list-item\"></div>\n *     </div>\n * </div>\n */\n\nvar SASS_PROPERTY_BUILDER = {\n  headerHeight: ['ag-header-row'],\n  headerCellMinWidth: ['ag-header-cell'],\n  listItemHeight: ['ag-virtual-list-item'],\n  rowHeight: ['ag-row'],\n  chartMenuPanelWidth: ['ag-chart-docked-container']\n};\nvar CALCULATED_SIZES = {};\n\nvar Environment =\n/** @class */\nfunction (_super) {\n  __extends(Environment, _super);\n\n  function Environment() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Environment.prototype.getSassVariable = function (theme, key) {\n    var useTheme = 'ag-theme-' + (theme.match('material') ? 'material' : theme.match('balham') ? 'balham' : theme.match('alpine') ? 'alpine' : 'custom');\n    var defaultValue = HARD_CODED_SIZES[useTheme][key];\n    var calculatedValue = 0;\n\n    if (!CALCULATED_SIZES[theme]) {\n      CALCULATED_SIZES[theme] = {};\n    }\n\n    var size = CALCULATED_SIZES[theme][key];\n\n    if (size != null) {\n      return size;\n    }\n\n    if (SASS_PROPERTY_BUILDER[key]) {\n      var classList = SASS_PROPERTY_BUILDER[key];\n      var div = document.createElement('div');\n      addCssClass(div, theme);\n      div.style.position = 'absolute';\n      var el = classList.reduce(function (prevEl, currentClass) {\n        var currentDiv = document.createElement('div');\n        currentDiv.style.position = 'static';\n        addCssClass(currentDiv, currentClass);\n        prevEl.appendChild(currentDiv);\n        return currentDiv;\n      }, div);\n\n      if (document.body) {\n        document.body.appendChild(div);\n        var sizeName = key.toLowerCase().indexOf('height') !== -1 ? 'height' : 'width';\n        calculatedValue = parseInt(window.getComputedStyle(el)[sizeName], 10);\n        document.body.removeChild(div);\n      }\n    }\n\n    CALCULATED_SIZES[theme][key] = calculatedValue || defaultValue;\n    return CALCULATED_SIZES[theme][key];\n  };\n\n  Environment.prototype.isThemeDark = function () {\n    var theme = this.getTheme().theme;\n    return !!theme && theme.indexOf('dark') >= 0;\n  };\n\n  Environment.prototype.chartMenuPanelWidth = function () {\n    var theme = this.getTheme().themeFamily;\n    return this.getSassVariable(theme, 'chartMenuPanelWidth');\n  };\n\n  Environment.prototype.getTheme = function () {\n    var reg = /\\bag-(material|(?:theme-([\\w\\-]*)))\\b/;\n    var el = this.eGridDiv;\n    var themeMatch = null;\n\n    while (el) {\n      themeMatch = reg.exec(el.className);\n\n      if (!themeMatch) {\n        el = el.parentElement || undefined;\n      } else {\n        break;\n      }\n    }\n\n    if (!themeMatch) {\n      return {};\n    }\n\n    var theme = themeMatch[0];\n    var usingOldTheme = themeMatch[2] === undefined;\n\n    if (usingOldTheme) {\n      var newTheme_1 = theme.replace('ag-', 'ag-theme-');\n      doOnce(function () {\n        return console.warn(\"AG Grid: As of v19 old theme are no longer provided. Please replace \" + theme + \" with \" + newTheme_1 + \".\");\n      }, 'using-old-theme');\n    }\n\n    return {\n      theme: theme,\n      el: el,\n      themeFamily: theme.replace(/-dark$/, '')\n    };\n  };\n\n  __decorate([Autowired('eGridDiv')], Environment.prototype, \"eGridDiv\", void 0);\n\n  Environment = __decorate([Bean('environment')], Environment);\n  return Environment;\n}(BeanStub);\n\nexport { Environment };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/environment.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Bean","Autowired","BeanStub","addCssClass","doOnce","MAT_GRID_SIZE","BASE_GRID_SIZE","BALHAM_GRID_SIZE","ALPINE_GRID_SIZE","HARD_CODED_SIZES","headerHeight","headerCellMinWidth","listItemHeight","rowHeight","chartMenuPanelWidth","SASS_PROPERTY_BUILDER","CALCULATED_SIZES","Environment","_super","apply","getSassVariable","theme","useTheme","match","defaultValue","calculatedValue","size","classList","div","document","createElement","style","position","el","reduce","prevEl","currentClass","currentDiv","appendChild","body","sizeName","toLowerCase","indexOf","parseInt","window","getComputedStyle","removeChild","isThemeDark","getTheme","themeFamily","reg","eGridDiv","themeMatch","exec","className","parentElement","undefined","usingOldTheme","newTheme_1","replace","console","warn"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired } from './context/context';\nimport { BeanStub } from \"./context/beanStub\";\nimport { addCssClass } from './utils/dom';\nimport { doOnce } from './utils/function';\nvar MAT_GRID_SIZE = 8;\nvar BASE_GRID_SIZE = 4;\nvar BALHAM_GRID_SIZE = 4;\nvar ALPINE_GRID_SIZE = 6;\nvar HARD_CODED_SIZES = {\n    // this item is required for custom themes\n    'ag-theme-custom': {\n        headerHeight: 25,\n        headerCellMinWidth: 24,\n        listItemHeight: BASE_GRID_SIZE * 5,\n        rowHeight: 25,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-material': {\n        headerHeight: MAT_GRID_SIZE * 7,\n        headerCellMinWidth: 48,\n        listItemHeight: MAT_GRID_SIZE * 4,\n        rowHeight: MAT_GRID_SIZE * 6,\n        chartMenuPanelWidth: 240\n    },\n    'ag-theme-balham': {\n        headerHeight: BALHAM_GRID_SIZE * 8,\n        headerCellMinWidth: 24,\n        listItemHeight: BALHAM_GRID_SIZE * 6,\n        rowHeight: BALHAM_GRID_SIZE * 7,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-alpine': {\n        headerHeight: ALPINE_GRID_SIZE * 8,\n        headerCellMinWidth: 36,\n        listItemHeight: ALPINE_GRID_SIZE * 4,\n        rowHeight: ALPINE_GRID_SIZE * 7,\n        chartMenuPanelWidth: 240\n    }\n};\n/**\n * this object contains a list of Sass variables and an array\n * of CSS styles required to get the correct value.\n * eg. $virtual-item-height requires a structure, so we can get its height.\n * <div class=\"ag-theme-balham\">\n *     <div class=\"ag-virtual-list-container\">\n *         <div class=\"ag-virtual-list-item\"></div>\n *     </div>\n * </div>\n */\nvar SASS_PROPERTY_BUILDER = {\n    headerHeight: ['ag-header-row'],\n    headerCellMinWidth: ['ag-header-cell'],\n    listItemHeight: ['ag-virtual-list-item'],\n    rowHeight: ['ag-row'],\n    chartMenuPanelWidth: ['ag-chart-docked-container']\n};\nvar CALCULATED_SIZES = {};\nvar Environment = /** @class */ (function (_super) {\n    __extends(Environment, _super);\n    function Environment() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Environment.prototype.getSassVariable = function (theme, key) {\n        var useTheme = 'ag-theme-' + (theme.match('material') ? 'material' : theme.match('balham') ? 'balham' : theme.match('alpine') ? 'alpine' : 'custom');\n        var defaultValue = HARD_CODED_SIZES[useTheme][key];\n        var calculatedValue = 0;\n        if (!CALCULATED_SIZES[theme]) {\n            CALCULATED_SIZES[theme] = {};\n        }\n        var size = CALCULATED_SIZES[theme][key];\n        if (size != null) {\n            return size;\n        }\n        if (SASS_PROPERTY_BUILDER[key]) {\n            var classList = SASS_PROPERTY_BUILDER[key];\n            var div = document.createElement('div');\n            addCssClass(div, theme);\n            div.style.position = 'absolute';\n            var el = classList.reduce(function (prevEl, currentClass) {\n                var currentDiv = document.createElement('div');\n                currentDiv.style.position = 'static';\n                addCssClass(currentDiv, currentClass);\n                prevEl.appendChild(currentDiv);\n                return currentDiv;\n            }, div);\n            if (document.body) {\n                document.body.appendChild(div);\n                var sizeName = key.toLowerCase().indexOf('height') !== -1 ? 'height' : 'width';\n                calculatedValue = parseInt(window.getComputedStyle(el)[sizeName], 10);\n                document.body.removeChild(div);\n            }\n        }\n        CALCULATED_SIZES[theme][key] = calculatedValue || defaultValue;\n        return CALCULATED_SIZES[theme][key];\n    };\n    Environment.prototype.isThemeDark = function () {\n        var theme = this.getTheme().theme;\n        return !!theme && theme.indexOf('dark') >= 0;\n    };\n    Environment.prototype.chartMenuPanelWidth = function () {\n        var theme = this.getTheme().themeFamily;\n        return this.getSassVariable(theme, 'chartMenuPanelWidth');\n    };\n    Environment.prototype.getTheme = function () {\n        var reg = /\\bag-(material|(?:theme-([\\w\\-]*)))\\b/;\n        var el = this.eGridDiv;\n        var themeMatch = null;\n        while (el) {\n            themeMatch = reg.exec(el.className);\n            if (!themeMatch) {\n                el = el.parentElement || undefined;\n            }\n            else {\n                break;\n            }\n        }\n        if (!themeMatch) {\n            return {};\n        }\n        var theme = themeMatch[0];\n        var usingOldTheme = themeMatch[2] === undefined;\n        if (usingOldTheme) {\n            var newTheme_1 = theme.replace('ag-', 'ag-theme-');\n            doOnce(function () { return console.warn(\"AG Grid: As of v19 old theme are no longer provided. Please replace \" + theme + \" with \" + newTheme_1 + \".\"); }, 'using-old-theme');\n        }\n        return { theme: theme, el: el, themeFamily: theme.replace(/-dark$/, '') };\n    };\n    __decorate([\n        Autowired('eGridDiv')\n    ], Environment.prototype, \"eGridDiv\", void 0);\n    Environment = __decorate([\n        Bean('environment')\n    ], Environment);\n    return Environment;\n}(BeanStub));\nexport { Environment };\n"]},"metadata":{},"sourceType":"module"}