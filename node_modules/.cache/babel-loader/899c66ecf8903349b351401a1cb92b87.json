{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component } from \"./component\";\nimport { Color } from \"../utils\";\nimport { RefSelector } from \"./componentAnnotations\";\nimport { PostConstruct } from \"../context/context\";\nimport { exists } from \"../utils/generic\";\n\nvar AgColorPanel =\n/** @class */\nfunction (_super) {\n  __extends(AgColorPanel, _super);\n\n  function AgColorPanel(config) {\n    var _this = _super.call(this, AgColorPanel.TEMPLATE) || this;\n\n    _this.H = 1; // in the [0, 1] range\n\n    _this.S = 1; // in the [0, 1] range\n\n    _this.B = 1; // in the [0, 1] range\n\n    _this.A = 1; // in the [0, 1] range\n\n    _this.isSpectrumDragging = false;\n    _this.isSpectrumHueDragging = false;\n    _this.isSpectrumAlphaDragging = false;\n    _this.colorChanged = false;\n    _this.picker = config.picker;\n    return _this;\n  }\n\n  AgColorPanel.prototype.postConstruct = function () {\n    var eGui = this.getGui();\n    this.initRecentColors();\n    this.addManagedListener(this.spectrumVal, 'mousedown', this.onSpectrumDraggerDown.bind(this));\n    this.addManagedListener(eGui, 'mousemove', this.onSpectrumDraggerMove.bind(this));\n    this.addManagedListener(this.spectrumHue, 'mousedown', this.onSpectrumHueDown.bind(this));\n    this.addManagedListener(eGui, 'mousemove', this.onSpectrumHueMove.bind(this));\n    this.addManagedListener(this.spectrumAlpha, 'mousedown', this.onSpectrumAlphaDown.bind(this));\n    this.addManagedListener(eGui, 'mousemove', this.onSpectrumAlphaMove.bind(this)); // Listening to `mouseup` on the document on purpose. The user might release the mouse button\n    // outside the UI control. When the mouse returns back to the control's area, the dragging\n    // of the thumb is not expected and seen as a bug.\n\n    this.addManagedListener(document, 'mouseup', this.onMouseUp.bind(this));\n    this.addManagedListener(this.recentColors, 'click', this.onRecentColorClick.bind(this));\n  };\n\n  AgColorPanel.prototype.refreshSpectrumRect = function () {\n    return this.spectrumValRect = this.spectrumVal.getBoundingClientRect();\n  };\n\n  AgColorPanel.prototype.refreshHueRect = function () {\n    return this.spectrumHueRect = this.spectrumHue.getBoundingClientRect();\n  };\n\n  AgColorPanel.prototype.refreshAlphaRect = function () {\n    return this.spectrumAlphaRect = this.spectrumAlpha.getBoundingClientRect();\n  };\n\n  AgColorPanel.prototype.onSpectrumDraggerDown = function (e) {\n    this.refreshSpectrumRect();\n    this.isSpectrumDragging = true;\n    this.moveDragger(e);\n  };\n\n  AgColorPanel.prototype.onSpectrumDraggerMove = function (e) {\n    if (this.isSpectrumDragging) {\n      this.moveDragger(e);\n    }\n  };\n\n  AgColorPanel.prototype.onSpectrumHueDown = function (e) {\n    this.refreshHueRect();\n    this.isSpectrumHueDragging = true;\n    this.moveHueSlider(e);\n  };\n\n  AgColorPanel.prototype.onSpectrumHueMove = function (e) {\n    if (this.isSpectrumHueDragging) {\n      this.moveHueSlider(e);\n    }\n  };\n\n  AgColorPanel.prototype.onSpectrumAlphaDown = function (e) {\n    this.refreshAlphaRect();\n    this.isSpectrumAlphaDragging = true;\n    this.moveAlphaSlider(e);\n  };\n\n  AgColorPanel.prototype.onSpectrumAlphaMove = function (e) {\n    if (this.isSpectrumAlphaDragging) {\n      this.moveAlphaSlider(e);\n    }\n  };\n\n  AgColorPanel.prototype.onMouseUp = function () {\n    this.isSpectrumDragging = false;\n    this.isSpectrumHueDragging = false;\n    this.isSpectrumAlphaDragging = false;\n  };\n\n  AgColorPanel.prototype.moveDragger = function (e) {\n    var valRect = this.spectrumValRect;\n\n    if (valRect) {\n      var x = e.clientX - valRect.left;\n      var y = e.clientY - valRect.top;\n      x = Math.max(x, 0);\n      x = Math.min(x, valRect.width);\n      y = Math.max(y, 0);\n      y = Math.min(y, valRect.height);\n      this.setSpectrumValue(x / valRect.width, 1 - y / valRect.height);\n    }\n  };\n\n  AgColorPanel.prototype.moveHueSlider = function (e) {\n    var hueRect = this.spectrumHueRect;\n\n    if (hueRect) {\n      var slider = this.spectrumHueSlider;\n      var sliderRect = slider.getBoundingClientRect();\n      var x = e.clientX - hueRect.left;\n      x = Math.max(x, 0);\n      x = Math.min(x, hueRect.width);\n      this.H = 1 - x / hueRect.width;\n      slider.style.left = x + sliderRect.width / 2 + 'px';\n      this.update();\n    }\n  };\n\n  AgColorPanel.prototype.moveAlphaSlider = function (e) {\n    var alphaRect = this.spectrumAlphaRect;\n\n    if (alphaRect) {\n      var slider = this.spectrumAlphaSlider;\n      var sliderRect = slider.getBoundingClientRect();\n      var x = e.clientX - alphaRect.left;\n      x = Math.max(x, 0);\n      x = Math.min(x, alphaRect.width);\n      this.A = x / alphaRect.width;\n      slider.style.left = x + sliderRect.width / 2 + 'px';\n      this.update();\n    }\n  };\n\n  AgColorPanel.prototype.update = function () {\n    var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n    var spectrumColor = Color.fromHSB(this.H * 360, 1, 1);\n    var rgbaColor = color.toRgbaString(); // the recent color list needs to know color has actually changed\n\n    var colorPicker = this.picker;\n    var existingColor = Color.fromString(colorPicker.getValue());\n\n    if (existingColor.toRgbaString() !== rgbaColor) {\n      this.colorChanged = true;\n    }\n\n    colorPicker.setValue(rgbaColor);\n    this.spectrumColor.style.backgroundColor = spectrumColor.toRgbaString();\n    this.spectrumDragger.style.backgroundColor = rgbaColor;\n  };\n  /**\n   * @param saturation In the [0, 1] interval.\n   * @param brightness In the [0, 1] interval.\n   */\n\n\n  AgColorPanel.prototype.setSpectrumValue = function (saturation, brightness) {\n    var valRect = this.spectrumValRect || this.refreshSpectrumRect();\n\n    if (valRect) {\n      var dragger = this.spectrumDragger;\n      var draggerRect = dragger.getBoundingClientRect();\n      saturation = Math.max(0, saturation);\n      saturation = Math.min(1, saturation);\n      brightness = Math.max(0, brightness);\n      brightness = Math.min(1, brightness);\n      this.S = saturation;\n      this.B = brightness;\n      dragger.style.left = saturation * valRect.width - draggerRect.width / 2 + 'px';\n      dragger.style.top = (1 - brightness) * valRect.height - draggerRect.height / 2 + 'px';\n      this.update();\n    }\n  };\n\n  AgColorPanel.prototype.initRecentColors = function () {\n    var recentColors = AgColorPanel.recentColors;\n    var innerHtml = recentColors.map(function (color, index) {\n      return \"<div class=\\\"ag-recent-color\\\" id=\" + index + \" style=\\\"background-color: \" + color + \"; width: 15px; height: 15px;\\\" recent-color=\\\"\" + color + \"\\\"></div>\";\n    });\n    this.recentColors.innerHTML = innerHtml.join('');\n  };\n\n  AgColorPanel.prototype.setValue = function (val) {\n    var color = Color.fromString(val);\n\n    var _a = color.toHSB(),\n        h = _a[0],\n        s = _a[1],\n        b = _a[2];\n\n    this.H = (isNaN(h) ? 0 : h) / 360;\n    this.A = color.a;\n    var spectrumHueRect = this.spectrumHueRect || this.refreshHueRect();\n    var spectrumAlphaRect = this.spectrumAlphaRect || this.refreshAlphaRect();\n    this.spectrumHueSlider.style.left = (this.H - 1) * -spectrumHueRect.width + \"px\";\n    this.spectrumAlphaSlider.style.left = this.A * spectrumAlphaRect.width + \"px\";\n    this.setSpectrumValue(s, b);\n  };\n\n  AgColorPanel.prototype.onRecentColorClick = function (e) {\n    var target = e.target;\n\n    if (!exists(target.id)) {\n      return;\n    }\n\n    var id = parseInt(target.id, 10);\n    this.setValue(AgColorPanel.recentColors[id]);\n    this.destroy();\n  };\n\n  AgColorPanel.prototype.addRecentColor = function () {\n    var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n    var rgbaColor = color.toRgbaString();\n    var recentColors = AgColorPanel.recentColors;\n\n    if (!this.colorChanged || recentColors[0] === rgbaColor) {\n      return;\n    } // remove duplicate color\n\n\n    recentColors = recentColors.filter(function (currentColor) {\n      return currentColor != rgbaColor;\n    }); // add color to head\n\n    recentColors = [rgbaColor].concat(recentColors); // ensure we don't exceed max number of recent colors\n\n    if (recentColors.length > AgColorPanel.maxRecentColors) {\n      recentColors = recentColors.slice(0, AgColorPanel.maxRecentColors);\n    }\n\n    AgColorPanel.recentColors = recentColors;\n  };\n\n  AgColorPanel.prototype.destroy = function () {\n    this.addRecentColor();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  AgColorPanel.maxRecentColors = 8;\n  AgColorPanel.recentColors = [];\n  AgColorPanel.TEMPLATE = \"<div class=\\\"ag-color-panel\\\">\\n            <div ref=\\\"spectrumColor\\\" class=\\\"ag-spectrum-color\\\">\\n                <div class=\\\"ag-spectrum-sat ag-spectrum-fill\\\">\\n                    <div ref=\\\"spectrumVal\\\" class=\\\"ag-spectrum-val ag-spectrum-fill\\\">\\n                        <div ref=\\\"spectrumDragger\\\" class=\\\"ag-spectrum-dragger\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-spectrum-tools\\\">\\n                <div ref=\\\"spectrumHue\\\" class=\\\"ag-spectrum-hue ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-hue-background\\\"></div>\\n                    <div ref=\\\"spectrumHueSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"spectrumAlpha\\\" class=\\\"ag-spectrum-alpha ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-alpha-background\\\"></div>\\n                    <div ref=\\\"spectrumAlphaSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"recentColors\\\" class=\\\"ag-recent-colors\\\"></div>\\n            </div>\\n        </div>\";\n\n  __decorate([RefSelector('spectrumColor')], AgColorPanel.prototype, \"spectrumColor\", void 0);\n\n  __decorate([RefSelector('spectrumVal')], AgColorPanel.prototype, \"spectrumVal\", void 0);\n\n  __decorate([RefSelector('spectrumDragger')], AgColorPanel.prototype, \"spectrumDragger\", void 0);\n\n  __decorate([RefSelector('spectrumHue')], AgColorPanel.prototype, \"spectrumHue\", void 0);\n\n  __decorate([RefSelector('spectrumHueSlider')], AgColorPanel.prototype, \"spectrumHueSlider\", void 0);\n\n  __decorate([RefSelector('spectrumAlpha')], AgColorPanel.prototype, \"spectrumAlpha\", void 0);\n\n  __decorate([RefSelector('spectrumAlphaSlider')], AgColorPanel.prototype, \"spectrumAlphaSlider\", void 0);\n\n  __decorate([RefSelector('recentColors')], AgColorPanel.prototype, \"recentColors\", void 0);\n\n  __decorate([PostConstruct], AgColorPanel.prototype, \"postConstruct\", null);\n\n  return AgColorPanel;\n}(Component);\n\nexport { AgColorPanel };","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/core/dist/es6/widgets/agColorPanel.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Color","RefSelector","PostConstruct","exists","AgColorPanel","_super","config","_this","call","TEMPLATE","H","S","B","A","isSpectrumDragging","isSpectrumHueDragging","isSpectrumAlphaDragging","colorChanged","picker","postConstruct","eGui","getGui","initRecentColors","addManagedListener","spectrumVal","onSpectrumDraggerDown","bind","onSpectrumDraggerMove","spectrumHue","onSpectrumHueDown","onSpectrumHueMove","spectrumAlpha","onSpectrumAlphaDown","onSpectrumAlphaMove","document","onMouseUp","recentColors","onRecentColorClick","refreshSpectrumRect","spectrumValRect","getBoundingClientRect","refreshHueRect","spectrumHueRect","refreshAlphaRect","spectrumAlphaRect","e","moveDragger","moveHueSlider","moveAlphaSlider","valRect","x","clientX","left","y","clientY","top","Math","max","min","width","height","setSpectrumValue","hueRect","slider","spectrumHueSlider","sliderRect","style","update","alphaRect","spectrumAlphaSlider","color","fromHSB","spectrumColor","rgbaColor","toRgbaString","colorPicker","existingColor","fromString","getValue","setValue","backgroundColor","spectrumDragger","saturation","brightness","dragger","draggerRect","innerHtml","map","index","innerHTML","join","val","_a","toHSB","h","s","isNaN","a","id","parseInt","destroy","addRecentColor","filter","currentColor","concat","maxRecentColors","slice"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.2.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"./component\";\nimport { Color } from \"../utils\";\nimport { RefSelector } from \"./componentAnnotations\";\nimport { PostConstruct } from \"../context/context\";\nimport { exists } from \"../utils/generic\";\nvar AgColorPanel = /** @class */ (function (_super) {\n    __extends(AgColorPanel, _super);\n    function AgColorPanel(config) {\n        var _this = _super.call(this, AgColorPanel.TEMPLATE) || this;\n        _this.H = 1; // in the [0, 1] range\n        _this.S = 1; // in the [0, 1] range\n        _this.B = 1; // in the [0, 1] range\n        _this.A = 1; // in the [0, 1] range\n        _this.isSpectrumDragging = false;\n        _this.isSpectrumHueDragging = false;\n        _this.isSpectrumAlphaDragging = false;\n        _this.colorChanged = false;\n        _this.picker = config.picker;\n        return _this;\n    }\n    AgColorPanel.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        this.initRecentColors();\n        this.addManagedListener(this.spectrumVal, 'mousedown', this.onSpectrumDraggerDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumDraggerMove.bind(this));\n        this.addManagedListener(this.spectrumHue, 'mousedown', this.onSpectrumHueDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumHueMove.bind(this));\n        this.addManagedListener(this.spectrumAlpha, 'mousedown', this.onSpectrumAlphaDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumAlphaMove.bind(this));\n        // Listening to `mouseup` on the document on purpose. The user might release the mouse button\n        // outside the UI control. When the mouse returns back to the control's area, the dragging\n        // of the thumb is not expected and seen as a bug.\n        this.addManagedListener(document, 'mouseup', this.onMouseUp.bind(this));\n        this.addManagedListener(this.recentColors, 'click', this.onRecentColorClick.bind(this));\n    };\n    AgColorPanel.prototype.refreshSpectrumRect = function () {\n        return this.spectrumValRect = this.spectrumVal.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshHueRect = function () {\n        return this.spectrumHueRect = this.spectrumHue.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshAlphaRect = function () {\n        return this.spectrumAlphaRect = this.spectrumAlpha.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.onSpectrumDraggerDown = function (e) {\n        this.refreshSpectrumRect();\n        this.isSpectrumDragging = true;\n        this.moveDragger(e);\n    };\n    AgColorPanel.prototype.onSpectrumDraggerMove = function (e) {\n        if (this.isSpectrumDragging) {\n            this.moveDragger(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumHueDown = function (e) {\n        this.refreshHueRect();\n        this.isSpectrumHueDragging = true;\n        this.moveHueSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumHueMove = function (e) {\n        if (this.isSpectrumHueDragging) {\n            this.moveHueSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumAlphaDown = function (e) {\n        this.refreshAlphaRect();\n        this.isSpectrumAlphaDragging = true;\n        this.moveAlphaSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumAlphaMove = function (e) {\n        if (this.isSpectrumAlphaDragging) {\n            this.moveAlphaSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onMouseUp = function () {\n        this.isSpectrumDragging = false;\n        this.isSpectrumHueDragging = false;\n        this.isSpectrumAlphaDragging = false;\n    };\n    AgColorPanel.prototype.moveDragger = function (e) {\n        var valRect = this.spectrumValRect;\n        if (valRect) {\n            var x = e.clientX - valRect.left;\n            var y = e.clientY - valRect.top;\n            x = Math.max(x, 0);\n            x = Math.min(x, valRect.width);\n            y = Math.max(y, 0);\n            y = Math.min(y, valRect.height);\n            this.setSpectrumValue(x / valRect.width, 1 - y / valRect.height);\n        }\n    };\n    AgColorPanel.prototype.moveHueSlider = function (e) {\n        var hueRect = this.spectrumHueRect;\n        if (hueRect) {\n            var slider = this.spectrumHueSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - hueRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, hueRect.width);\n            this.H = 1 - x / hueRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.moveAlphaSlider = function (e) {\n        var alphaRect = this.spectrumAlphaRect;\n        if (alphaRect) {\n            var slider = this.spectrumAlphaSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - alphaRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, alphaRect.width);\n            this.A = x / alphaRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.update = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var spectrumColor = Color.fromHSB(this.H * 360, 1, 1);\n        var rgbaColor = color.toRgbaString();\n        // the recent color list needs to know color has actually changed\n        var colorPicker = this.picker;\n        var existingColor = Color.fromString(colorPicker.getValue());\n        if (existingColor.toRgbaString() !== rgbaColor) {\n            this.colorChanged = true;\n        }\n        colorPicker.setValue(rgbaColor);\n        this.spectrumColor.style.backgroundColor = spectrumColor.toRgbaString();\n        this.spectrumDragger.style.backgroundColor = rgbaColor;\n    };\n    /**\n     * @param saturation In the [0, 1] interval.\n     * @param brightness In the [0, 1] interval.\n     */\n    AgColorPanel.prototype.setSpectrumValue = function (saturation, brightness) {\n        var valRect = this.spectrumValRect || this.refreshSpectrumRect();\n        if (valRect) {\n            var dragger = this.spectrumDragger;\n            var draggerRect = dragger.getBoundingClientRect();\n            saturation = Math.max(0, saturation);\n            saturation = Math.min(1, saturation);\n            brightness = Math.max(0, brightness);\n            brightness = Math.min(1, brightness);\n            this.S = saturation;\n            this.B = brightness;\n            dragger.style.left = (saturation * valRect.width - draggerRect.width / 2) + 'px';\n            dragger.style.top = ((1 - brightness) * valRect.height - draggerRect.height / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.initRecentColors = function () {\n        var recentColors = AgColorPanel.recentColors;\n        var innerHtml = recentColors.map(function (color, index) {\n            return \"<div class=\\\"ag-recent-color\\\" id=\" + index + \" style=\\\"background-color: \" + color + \"; width: 15px; height: 15px;\\\" recent-color=\\\"\" + color + \"\\\"></div>\";\n        });\n        this.recentColors.innerHTML = innerHtml.join('');\n    };\n    AgColorPanel.prototype.setValue = function (val) {\n        var color = Color.fromString(val);\n        var _a = color.toHSB(), h = _a[0], s = _a[1], b = _a[2];\n        this.H = (isNaN(h) ? 0 : h) / 360;\n        this.A = color.a;\n        var spectrumHueRect = this.spectrumHueRect || this.refreshHueRect();\n        var spectrumAlphaRect = this.spectrumAlphaRect || this.refreshAlphaRect();\n        this.spectrumHueSlider.style.left = ((this.H - 1) * -spectrumHueRect.width) + \"px\";\n        this.spectrumAlphaSlider.style.left = (this.A * spectrumAlphaRect.width) + \"px\";\n        this.setSpectrumValue(s, b);\n    };\n    AgColorPanel.prototype.onRecentColorClick = function (e) {\n        var target = e.target;\n        if (!exists(target.id)) {\n            return;\n        }\n        var id = parseInt(target.id, 10);\n        this.setValue(AgColorPanel.recentColors[id]);\n        this.destroy();\n    };\n    AgColorPanel.prototype.addRecentColor = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var rgbaColor = color.toRgbaString();\n        var recentColors = AgColorPanel.recentColors;\n        if (!this.colorChanged || recentColors[0] === rgbaColor) {\n            return;\n        }\n        // remove duplicate color\n        recentColors = recentColors.filter(function (currentColor) { return currentColor != rgbaColor; });\n        // add color to head\n        recentColors = [rgbaColor].concat(recentColors);\n        // ensure we don't exceed max number of recent colors\n        if (recentColors.length > AgColorPanel.maxRecentColors) {\n            recentColors = recentColors.slice(0, AgColorPanel.maxRecentColors);\n        }\n        AgColorPanel.recentColors = recentColors;\n    };\n    AgColorPanel.prototype.destroy = function () {\n        this.addRecentColor();\n        _super.prototype.destroy.call(this);\n    };\n    AgColorPanel.maxRecentColors = 8;\n    AgColorPanel.recentColors = [];\n    AgColorPanel.TEMPLATE = \"<div class=\\\"ag-color-panel\\\">\\n            <div ref=\\\"spectrumColor\\\" class=\\\"ag-spectrum-color\\\">\\n                <div class=\\\"ag-spectrum-sat ag-spectrum-fill\\\">\\n                    <div ref=\\\"spectrumVal\\\" class=\\\"ag-spectrum-val ag-spectrum-fill\\\">\\n                        <div ref=\\\"spectrumDragger\\\" class=\\\"ag-spectrum-dragger\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-spectrum-tools\\\">\\n                <div ref=\\\"spectrumHue\\\" class=\\\"ag-spectrum-hue ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-hue-background\\\"></div>\\n                    <div ref=\\\"spectrumHueSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"spectrumAlpha\\\" class=\\\"ag-spectrum-alpha ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-alpha-background\\\"></div>\\n                    <div ref=\\\"spectrumAlphaSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"recentColors\\\" class=\\\"ag-recent-colors\\\"></div>\\n            </div>\\n        </div>\";\n    __decorate([\n        RefSelector('spectrumColor')\n    ], AgColorPanel.prototype, \"spectrumColor\", void 0);\n    __decorate([\n        RefSelector('spectrumVal')\n    ], AgColorPanel.prototype, \"spectrumVal\", void 0);\n    __decorate([\n        RefSelector('spectrumDragger')\n    ], AgColorPanel.prototype, \"spectrumDragger\", void 0);\n    __decorate([\n        RefSelector('spectrumHue')\n    ], AgColorPanel.prototype, \"spectrumHue\", void 0);\n    __decorate([\n        RefSelector('spectrumHueSlider')\n    ], AgColorPanel.prototype, \"spectrumHueSlider\", void 0);\n    __decorate([\n        RefSelector('spectrumAlpha')\n    ], AgColorPanel.prototype, \"spectrumAlpha\", void 0);\n    __decorate([\n        RefSelector('spectrumAlphaSlider')\n    ], AgColorPanel.prototype, \"spectrumAlphaSlider\", void 0);\n    __decorate([\n        RefSelector('recentColors')\n    ], AgColorPanel.prototype, \"recentColors\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgColorPanel.prototype, \"postConstruct\", null);\n    return AgColorPanel;\n}(Component));\nexport { AgColorPanel };\n"]},"metadata":{},"sourceType":"module"}