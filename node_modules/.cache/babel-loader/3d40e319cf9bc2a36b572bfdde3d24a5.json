{"ast":null,"code":"// @ag-grid-community/react v26.2.0\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar beansContext_1 = require(\"../beansContext\");\n\nvar jsComp_1 = require(\"../jsComp\");\n\nvar utils_1 = require(\"../utils\");\n\nvar HeaderGroupCellComp = function (props) {\n  var context = react_1.useContext(beansContext_1.BeansContext).context;\n\n  var _a = react_1.useState(new utils_1.CssClasses()),\n      cssClasses = _a[0],\n      setCssClasses = _a[1];\n\n  var _b = react_1.useState(new utils_1.CssClasses()),\n      cssResizableClasses = _b[0],\n      setResizableCssClasses = _b[1];\n\n  var _c = react_1.useState(),\n      width = _c[0],\n      setWidth = _c[1];\n\n  var _d = react_1.useState(),\n      title = _d[0],\n      setTitle = _d[1];\n\n  var _e = react_1.useState(),\n      colId = _e[0],\n      setColId = _e[1];\n\n  var _f = react_1.useState(),\n      ariaExpanded = _f[0],\n      setAriaExpanded = _f[1];\n\n  var _g = react_1.useState(),\n      userCompDetails = _g[0],\n      setUserCompDetails = _g[1];\n\n  var eGui = react_1.useRef(null);\n  var eResize = react_1.useRef(null);\n  var ctrl = props.ctrl;\n  react_1.useEffect(function () {\n    var compProxy = {\n      setWidth: function (width) {\n        return setWidth(width);\n      },\n      addOrRemoveCssClass: function (name, on) {\n        return setCssClasses(function (prev) {\n          return prev.setClass(name, on);\n        });\n      },\n      setColId: function (id) {\n        return setColId(id);\n      },\n      setTitle: function (title) {\n        return setTitle(title);\n      },\n      setUserCompDetails: function (compDetails) {\n        return setUserCompDetails(compDetails);\n      },\n      addOrRemoveResizableCssClass: function (name, on) {\n        return setResizableCssClasses(function (prev) {\n          return prev.setClass(name, on);\n        });\n      },\n      setAriaExpanded: function (expanded) {\n        return setAriaExpanded(expanded);\n      }\n    };\n    ctrl.setComp(compProxy, eGui.current, eResize.current);\n  }, []); // js comps\n\n  react_1.useEffect(function () {\n    return jsComp_1.showJsComp(userCompDetails, context, eGui.current);\n  }, [userCompDetails]); // add drag handling, must be done after component is added to the dom\n\n  react_1.useEffect(function () {\n    var userCompDomElement = undefined;\n    eGui.current.childNodes.forEach(function (node) {\n      if (node != null && node !== eResize.current) {\n        userCompDomElement = node;\n      }\n    });\n    userCompDomElement && ctrl.setDragSource(userCompDomElement);\n  }, [userCompDetails]);\n  var style = react_1.useMemo(function () {\n    return {\n      width: width\n    };\n  }, [width]);\n  var className = react_1.useMemo(function () {\n    return 'ag-header-group-cell ' + cssClasses.toString();\n  }, [cssClasses]);\n  var resizableClassName = react_1.useMemo(function () {\n    return 'ag-header-cell-resize ' + cssResizableClasses.toString();\n  }, [cssResizableClasses]);\n  var reactUserComp = userCompDetails && userCompDetails.componentFromFramework;\n  var UserCompClass = userCompDetails && userCompDetails.componentClass;\n  return react_1.default.createElement(\"div\", {\n    ref: eGui,\n    className: className,\n    style: style,\n    title: title,\n    \"col-id\": colId,\n    role: \"columnheader\",\n    tabIndex: -1,\n    \"aria-expanded\": ariaExpanded\n  }, reactUserComp && react_1.default.createElement(UserCompClass, __assign({}, userCompDetails.params)), react_1.default.createElement(\"div\", {\n    ref: eResize,\n    className: resizableClassName\n  }));\n};\n\nexports.default = react_1.memo(HeaderGroupCellComp);","map":{"version":3,"sources":["/Users/rongxuan/Desktop/reactmap/reactmap/node_modules/@ag-grid-community/react/lib/reactUi/header/reactUi/header/headerGroupCellComp.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,IAAM,mBAAmB,GAAG,UAAC,KAAD,EAAmC;AAEpD,MAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA,cAAA,CAAA,YAAA,EAAA,OAAA;;AAED,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,CAAA,IAAA,OAAA,CAAA,UAAA,EAAA,CAAA;AAAA,MAAC,UAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAa,aAAA,GAAA,EAAA,CAAA,CAAA,CAAb;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,CAAA,IAAA,OAAA,CAAA,UAAA,EAAA,CAAA;AAAA,MAAC,mBAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAsB,sBAAA,GAAA,EAAA,CAAA,CAAA,CAAtB;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,EAAA;AAAA,MAAC,KAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAQ,QAAA,GAAA,EAAA,CAAA,CAAA,CAAR;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,EAAA;AAAA,MAAC,KAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAQ,QAAA,GAAA,EAAA,CAAA,CAAA,CAAR;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,EAAA;AAAA,MAAC,KAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAQ,QAAA,GAAA,EAAA,CAAA,CAAA,CAAR;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,EAAA;AAAA,MAAC,YAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAe,eAAA,GAAA,EAAA,CAAA,CAAA,CAAf;;AACA,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA,EAAA;AAAA,MAAC,eAAA,GAAA,EAAA,CAAA,CAAA,CAAD;AAAA,MAAkB,kBAAA,GAAA,EAAA,CAAA,CAAA,CAAlB;;AAEN,MAAM,IAAI,GAAG,OAAA,CAAA,MAAA,CAAuB,IAAvB,CAAb;AACA,MAAM,OAAO,GAAG,OAAA,CAAA,MAAA,CAAuB,IAAvB,CAAhB;AAEQ,MAAA,IAAA,GAAA,KAAA,CAAA,IAAA;AAER,EAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AAEN,QAAM,SAAS,GAAyB;AACpC,MAAA,QAAQ,EAAE,UAAA,KAAA,EAAK;AAAI,eAAA,QAAQ,CAAR,KAAQ,CAAR;AAAe,OADE;AAEpC,MAAA,mBAAmB,EAAE,UAAC,IAAD,EAAO,EAAP,EAAS;AAAK,eAAA,aAAa,CAAC,UAAA,IAAA,EAAI;AAAI,iBAAA,IAAI,CAAC,QAAL,CAAc,IAAd,EAAA,EAAA,CAAA;AAAtB,SAAa,CAAb;AAA8C,OAF7C;AAGpC,MAAA,QAAQ,EAAE,UAAA,EAAA,EAAE;AAAI,eAAA,QAAQ,CAAR,EAAQ,CAAR;AAAY,OAHQ;AAIpC,MAAA,QAAQ,EAAE,UAAA,KAAA,EAAK;AAAI,eAAA,QAAQ,CAAR,KAAQ,CAAR;AAAe,OAJE;AAKpC,MAAA,kBAAkB,EAAE,UAAA,WAAA,EAAW;AAAI,eAAA,kBAAkB,CAAlB,WAAkB,CAAlB;AAA+B,OAL9B;AAMpC,MAAA,4BAA4B,EAAE,UAAC,IAAD,EAAO,EAAP,EAAS;AAAK,eAAA,sBAAsB,CAAC,UAAA,IAAA,EAAI;AAAI,iBAAA,IAAI,CAAC,QAAL,CAAc,IAAd,EAAA,EAAA,CAAA;AAA/B,SAAsB,CAAtB;AAAuD,OAN/D;AAOpC,MAAA,eAAe,EAAE,UAAA,QAAA,EAAQ;AAAI,eAAA,eAAe,CAAf,QAAe,CAAf;AAAyB;AAPlB,KAAxC;AAUA,IAAA,IAAI,CAAC,OAAL,CAAa,SAAb,EAAwB,IAAI,CAAC,OAA7B,EAAuC,OAAO,CAAC,OAA/C;AAEH,GAdD,EAcG,EAdH,EAjB2D,CAiC3D;;AACA,EAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AACN,WAAO,QAAA,CAAA,UAAA,CAAW,eAAX,EAA4B,OAA5B,EAAqC,IAAI,CAAC,OAA1C,CAAP;AACH,GAFD,EAEG,CAAC,eAAD,CAFH,EAlC2D,CAsC3D;;AACA,EAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AACN,QAAI,kBAAkB,GAA4B,SAAlD;AACA,IAAA,IAAI,CAAC,OAAL,CAAc,UAAd,CAAyB,OAAzB,CAAkC,UAAA,IAAA,EAAI;AAClC,UAAI,IAAI,IAAE,IAAN,IAAc,IAAI,KAAG,OAAO,CAAC,OAAjC,EAA0C;AACtC,QAAA,kBAAkB,GAAG,IAArB;AACH;AACJ,KAJD;AAMA,IAAA,kBAAkB,IAAI,IAAI,CAAC,aAAL,CAAmB,kBAAnB,CAAtB;AACH,GATD,EASG,CAAC,eAAD,CATH;AAWA,MAAM,KAAK,GAAG,OAAA,CAAA,OAAA,CAAS,YAAA;AAAK,WAAC;AACzB,MAAA,KAAK,EAAE;AADkB,KAAD;AAE1B,GAFY,EAEV,CAAC,KAAD,CAFU,CAAd;AAIA,MAAM,SAAS,GAAG,OAAA,CAAA,OAAA,CAAS,YAAA;AAAK,WAAA,0BAA0B,UAAU,CAApC,QAA0B,EAA1B;AAA+C,GAA7D,EAA+D,CAAC,UAAD,CAA/D,CAAlB;AACA,MAAM,kBAAkB,GAAG,OAAA,CAAA,OAAA,CAAS,YAAA;AAAK,WAAA,2BAA2B,mBAAmB,CAA9C,QAA2B,EAA3B;AAAyD,GAAvE,EAAyE,CAAC,mBAAD,CAAzE,CAA3B;AAEA,MAAM,aAAa,GAAG,eAAe,IAAI,eAAe,CAAC,sBAAzD;AACA,MAAM,aAAa,GAAG,eAAe,IAAI,eAAe,CAAC,cAAzD;AAEA,SACI,OAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,GAAG,EAAE,IAAV;AAAgB,IAAA,SAAS,EAAE,SAA3B;AAAsC,IAAA,KAAK,EAAE,KAA7C;AAAoD,IAAA,KAAK,EAAE,KAA3D;AAAgE,cAAU,KAA1E;AACY,IAAA,IAAI,EAAC,cADjB;AACgC,IAAA,QAAQ,EAAE,CAAC,CAD3C;AAC4C,qBAAiB;AAD7D,GAAA,EAEM,aAAa,IAAI,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,aAAD,EAAc,QAAA,CAAA,EAAA,EAAM,eAAgB,CAAC,MAAvB,CAAd,CAFvB,EAGI,OAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,GAAG,EAAE,OAAV;AAAmB,IAAA,SAAS,EAAE;AAA9B,GAAA,CAHJ,CADJ;AAOH,CAnED;;AAqEA,OAAA,CAAA,OAAA,GAAe,OAAA,CAAA,IAAA,CAAK,mBAAL,CAAf","sourcesContent":["import { HeaderGroupCellCtrl, IHeaderGroupCellComp, UserCompDetails } from '@ag-grid-community/core';\nimport React, { memo, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { BeansContext } from '../beansContext';\nimport { showJsComp } from '../jsComp';\nimport { CssClasses } from '../utils';\n\nconst HeaderGroupCellComp = (props: {ctrl: HeaderGroupCellCtrl}) => {\n\n    const {context} = useContext(BeansContext);\n\n    const [cssClasses, setCssClasses] = useState<CssClasses>(new CssClasses());\n    const [cssResizableClasses, setResizableCssClasses] = useState<CssClasses>(new CssClasses());\n    const [width, setWidth] = useState<string>();\n    const [title, setTitle] = useState<string>();\n    const [colId, setColId] = useState<string>();\n    const [ariaExpanded, setAriaExpanded] = useState<'true'|'false'|undefined>();\n    const [userCompDetails, setUserCompDetails] = useState<UserCompDetails>();\n\n    const eGui = useRef<HTMLDivElement>(null);\n    const eResize = useRef<HTMLDivElement>(null);\n\n    const { ctrl } = props;\n\n    useEffect(() => {\n\n        const compProxy: IHeaderGroupCellComp = {\n            setWidth: width => setWidth(width),\n            addOrRemoveCssClass: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n            setColId: id => setColId(id),\n            setTitle: title => setTitle(title),\n            setUserCompDetails: compDetails => setUserCompDetails(compDetails),\n            addOrRemoveResizableCssClass: (name, on) => setResizableCssClasses(prev => prev.setClass(name, on)),\n            setAriaExpanded: expanded => setAriaExpanded(expanded)\n        };\n\n        ctrl.setComp(compProxy, eGui.current!, eResize.current!);\n\n    }, []);\n\n    // js comps\n    useEffect(() => {\n        return showJsComp(userCompDetails, context, eGui.current!);\n    }, [userCompDetails]);\n\n    // add drag handling, must be done after component is added to the dom\n    useEffect(()=> {\n        let userCompDomElement: HTMLElement | undefined = undefined;\n        eGui.current!.childNodes.forEach( node => {\n            if (node!=null && node!==eResize.current) {\n                userCompDomElement = node as HTMLElement;\n            }\n        });\n\n        userCompDomElement && ctrl.setDragSource(userCompDomElement);\n    }, [userCompDetails]);\n\n    const style = useMemo( ()=> ({\n        width: width\n    }), [width]);\n    \n    const className = useMemo( ()=> 'ag-header-group-cell ' + cssClasses.toString(), [cssClasses] );\n    const resizableClassName = useMemo( ()=> 'ag-header-cell-resize ' + cssResizableClasses.toString(), [cssResizableClasses] );\n\n    const reactUserComp = userCompDetails && userCompDetails.componentFromFramework;\n    const UserCompClass = userCompDetails && userCompDetails.componentClass;\n\n    return (\n        <div ref={eGui} className={className} style={style} title={title} col-id={colId} \n                    role=\"columnheader\" tabIndex={-1} aria-expanded={ariaExpanded}>\n            { reactUserComp && <UserCompClass { ...userCompDetails!.params } /> }\n            <div ref={eResize} className={resizableClassName}></div>\n        </div>\n    );\n};\n\nexport default memo(HeaderGroupCellComp);"]},"metadata":{},"sourceType":"script"}